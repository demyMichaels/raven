<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Probability Learning</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Crimson+Pro:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        :root {
            --primary: #0F2C59;
            --primary-light: #1a3f7a;
            --accent: #009F9D;
            --accent-light: #00c5c2;
            --premium: #D2C1A7;
            --data: #5A7B9E;
            --bg-primary: #FEFEFE;
            --bg-secondary: #F8F9FA;
            --text-primary: #2D3748;
            --text-secondary: #5F6368;
            --border: #E8EAED;
        }

        .dark {
            --primary: #1a3f7a;
            --primary-light: #0F2C59;
            --accent: #00c5c2;
            --accent-light: #009F9D;
            --premium: #b69f83;
            --data: #7a9ec0;
            --bg-primary: #1F2937;
            --bg-secondary: #111827;
            --text-primary: #F8F9FA;
            --text-secondary: #9AA0A6;
            --border: #374151;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Space Grotesk', system-ui, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: white;
            padding: 2rem 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        /* Navigation */
        .nav-tabs {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
            border-bottom: 2px solid rgba(255,255,255,0.2);
            padding-bottom: 0;
        }

        .nav-tab {
            padding: 0.75rem 1.5rem;
            background: rgba(255,255,255,0.1);
            border: none;
            color: rgba(255,255,255,0.8);
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 500;
            transition: all 0.3s ease;
            border-radius: 8px 8px 0 0;
            letter-spacing: 0.5px;
        }

        .nav-tab:hover {
            background: rgba(255,255,255,0.2);
            color: white;
        }

        .nav-tab.active {
            background: var(--bg-primary);
            color: var(--primary);
            transform: translateY(2px);
        }

        /* Module Container */
        .module {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .module.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Cards */
        .card {
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }

        .card:hover {
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        .concept-card {
            background: linear-gradient(135deg, rgba(15, 44, 89, 0.05) 0%, rgba(0, 159, 157, 0.05) 100%);
            border-left: 4px solid var(--accent);
        }

        /* Interactive Elements */
        .interactive-box {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 2rem;
            margin: 1.5rem 0;
            text-align: center;
        }

        .btn {
            padding: 1rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent) 0%, var(--primary) 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(0,159,157,0.3);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        /* Dice and Coin */
        .dice, .coin {
            width: 100px;
            height: 100px;
            margin: 2rem auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: bold;
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
            transition: all 0.3s ease;
        }

        .dice {
            background: linear-gradient(135deg, #fff 0%, #f0f0f0 100%);
            color: var(--primary);
        }

        .coin {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: white;
            border-radius: 50%;
        }

        @keyframes roll {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(90deg) scale(0.9); }
            50% { transform: rotate(180deg) scale(1.1); }
            75% { transform: rotate(270deg) scale(0.9); }
        }

        @keyframes flip {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(1800deg); }
        }

        .rolling {
            animation: roll 0.5s ease;
        }

        .flipping {
            animation: flip 1s ease;
        }

        /* Diagrams */
        canvas {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            background: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }

        .dark canvas {
            background: #2D3748;
        }

        /* Flashcards */
        .flashcard {
            perspective: 1000px;
            min-height: 300px;
            margin: 2rem 0;
            cursor: pointer;
        }

        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            min-height: 300px;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }

        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            min-height: 300px;
            backface-visibility: hidden;
            border-radius: 16px;
            padding: 3rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
        }

        .flashcard-front {
            background: linear-gradient(135deg, var(--accent) 0%, var(--primary) 100%);
            color: white;
        }

        .flashcard-back {
            background: var(--bg-primary);
            color: var(--text-primary);
            transform: rotateY(180deg);
            border: 3px solid var(--accent);
        }

        /* Exercise Styles */
        .exercise-item {
            background: var(--bg-secondary);
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 12px;
            border-left: 4px solid var(--accent);
        }

        .options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .option {
            padding: 1rem;
            background: var(--bg-primary);
            border: 2px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .option:hover {
            border-color: var(--accent);
            transform: translateY(-2px);
        }

        .option.selected {
            border-color: var(--accent);
            background: rgba(0, 159, 157, 0.1);
        }

        .option.correct {
            border-color: #22c55e;
            background: rgba(34, 197, 94, 0.1);
        }

        .option.incorrect {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        /* Progress Bar */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--bg-secondary);
            border-radius: 4px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent) 0%, #22c55e 100%);
            transition: width 0.5s ease;
        }

        /* Tree Diagram */
        .tree-container {
            overflow-x: auto;
            padding: 2rem 0;
        }

        /* Table Styles */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            background: var(--bg-primary);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: var(--primary);
            color: white;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 0.9rem;
        }

        tr:hover {
            background: var(--bg-secondary);
        }

        /* Dark Mode Toggle */
        .dark-mode-toggle {
            padding: 0.5rem 1rem;
            background: rgba(255,255,255,0.2);
            border: none;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }

        .dark-mode-toggle:hover {
            background: rgba(255,255,255,0.3);
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8rem;
            }

            .nav-tabs {
                gap: 0.5rem;
            }

            .nav-tab {
                padding: 0.6rem 1rem;
                font-size: 0.85rem;
            }

            .card {
                padding: 1.5rem;
            }

            .dice, .coin {
                width: 80px;
                height: 80px;
                font-size: 2.5rem;
            }
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 100px;
            right: 20px;
            padding: 1rem 2rem;
            background: var(--bg-primary);
            border-left: 4px solid var(--accent);
            border-radius: 8px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.2);
            z-index: 2000;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .highlight {
            background: linear-gradient(120deg, rgba(0, 159, 157, 0.1) 0%, rgba(0, 159, 157, 0.05) 100%);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-weight: 600;
            color: var(--accent);
        }

        .formula {
            background: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: 8px;
            font-family: 'Crimson Pro', serif;
            font-size: 1.2rem;
            text-align: center;
            margin: 1.5rem 0;
            border: 2px dashed var(--border);
        }

        .example-box {
            background: rgba(90, 123, 158, 0.05);
            border-left: 4px solid var(--data);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 8px;
        }

        .definition-box {
            background: rgba(210, 193, 167, 0.1);
            border: 2px solid var(--premium);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 12px;
        }

        /* Input styles */
        input[type="text"], input[type="number"], select {
            width: 100%;
            padding: 0.8rem;
            font-size: 16px; /* Prevent zoom on mobile */
            border: 2px solid var(--border);
            border-radius: 8px;
            background: var(--bg-primary);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        input[type="text"]:focus, input[type="number"]:focus, select:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(0, 159, 157, 0.1);
        }

        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div>
                    <h1>üìä Probability & Statistics</h1>
                    <p style="opacity: 0.9; margin-top: 0.5rem;">Interactive Learning Experience</p>
                </div>
                <button class="dark-mode-toggle" onclick="toggleDarkMode()">
                    <span class="material-icons" id="themeIcon">dark_mode</span>
                    <span id="themeText">Dark Mode</span>
                </button>
            </div>
            <div class="nav-tabs" id="navTabs"></div>
        </div>
    </header>

    <main class="container" style="padding: 3rem 20px;">
        <!-- Module 1: Introduction -->
        <div class="module active" id="module-intro">
            <div class="card">
                <h2 style="font-size: 2rem; margin-bottom: 1rem; color: var(--primary);">Welcome to Probability Theory</h2>
                <p style="font-size: 1.1rem; line-height: 1.8;">Do you always come to a complete stop when approaching a stop sign? Although we all know that we should, many of us rarely make a complete stop at stop signs.</p>

                <div class="grid-2" style="margin-top: 2rem;">
                    <div class="card concept-card">
                        <h3 style="color: var(--accent); margin-bottom: 1rem;">üë® Men</h3>
                        <p><strong>17%</strong> often just slow down</p>
                        <p><strong>42%</strong> always stop</p>
                    </div>
                    <div class="card concept-card">
                        <h3 style="color: var(--accent); margin-bottom: 1rem;">üë© Women</h3>
                        <p><strong>13%</strong> often just slow down</p>
                        <p><strong>56%</strong> always stop</p>
                    </div>
                </div>

                <div class="definition-box" style="margin-top: 2rem;">
                    <h3 style="color: var(--premium); margin-bottom: 1rem;">What is Probability?</h3>
                    <p>Probability measures the <span class="highlight">likelihood that an event will occur</span>. It's an important part of statistics and forms the basis of inferential statistics, where we make decisions under conditions of uncertainty.</p>
                </div>

                <div class="example-box">
                    <h4 style="color: var(--data); margin-bottom: 0.5rem;">Real-World Examples:</h4>
                    <ul style="margin-left: 1.5rem; line-height: 2;">
                        <li>A weather forecaster predicting an <strong>80% chance of rain</strong> tomorrow</li>
                        <li>A health reporter stating a smoker has a <strong>greater chance of getting cancer</strong></li>
                        <li>A student asking about their <strong>chances of passing</strong> a course</li>
                        <li>A company <strong>estimating next year's sales</strong> under uncertainty</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Module 2: Basic Concepts -->
        <div class="module" id="module-basics">
            <div class="card">
                <h2 style="font-size: 2rem; margin-bottom: 1rem; color: var(--primary);">üé≤ Experiments, Outcomes & Sample Spaces</h2>

                <div class="definition-box">
                    <h3 style="color: var(--premium); margin-bottom: 1rem;">Key Definitions</h3>
                    <p><strong>Experiment:</strong> A process that, when performed, results in one and only one of many observations.</p>
                    <p style="margin-top: 1rem;"><strong>Outcomes:</strong> The observations from an experiment.</p>
                    <p style="margin-top: 1rem;"><strong>Sample Space (S):</strong> The collection of all possible outcomes for an experiment, denoted by <span class="highlight">S = {outcome‚ÇÅ, outcome‚ÇÇ, ...}</span></p>
                    <p style="margin-top: 1rem; font-style: italic; opacity: 0.8;">Note: The curly braces {} represent a set containing elements.</p>
                </div>

                <h3 style="margin-top: 3rem; margin-bottom: 1.5rem; color: var(--accent);">Interactive Examples</h3>

                <!-- Coin Toss -->
                <div class="card concept-card">
                    <h4 style="margin-bottom: 1rem;">ü™ô Experiment: Toss a Coin Once</h4>
                    <div class="interactive-box">
                        <div class="coin" id="coin">?</div>
                        <button class="btn btn-primary" onclick="tossCoin()">Toss Coin</button>
                        <p style="margin-top: 1rem;">Result: <span id="coinResult" style="font-weight: bold; color: var(--accent);">Click to toss</span></p>
                    </div>
                    <div style="margin-top: 1rem;">
                        <p><strong>Possible Outcomes:</strong> Head, Tail</p>
                        <p class="formula">S = {Head, Tail}</p>
                    </div>
                </div>

                <!-- Dice Roll -->
                <div class="card concept-card" style="margin-top: 2rem;">
                    <h4 style="margin-bottom: 1rem;">üé≤ Experiment: Roll a Die Once</h4>
                    <div class="interactive-box">
                        <div class="dice" id="dice">?</div>
                        <button class="btn btn-primary" onclick="rollDice()">Roll Die</button>
                        <p style="margin-top: 1rem;">Result: <span id="diceResult" style="font-weight: bold; color: var(--accent);">Click to roll</span></p>
                    </div>
                    <div style="margin-top: 1rem;">
                        <p><strong>Possible Outcomes:</strong> 1, 2, 3, 4, 5, 6</p>
                        <p class="formula">S = {1, 2, 3, 4, 5, 6}</p>
                    </div>
                </div>

                <!-- Two Coin Tosses -->
                <div class="card concept-card" style="margin-top: 2rem;">
                    <h4 style="margin-bottom: 1rem;">ü™ôü™ô Experiment: Toss a Coin Twice</h4>
                    <div class="interactive-box">
                        <button class="btn btn-primary" onclick="tossTwoCoins()">Toss Coins Twice</button>
                        <p style="margin-top: 1rem;">Result: <span id="twoCoinsResult" style="font-weight: bold; color: var(--accent);">Click to toss</span></p>
                    </div>
                    <div style="margin-top: 1rem;">
                        <p><strong>Possible Outcomes:</strong> Head & Head, Head & Tail, Tail & Head, Tail & Tail</p>
                        <p class="formula">S = {HH, HT, TH, TT}</p>
                    </div>
                </div>

                <!-- More Examples -->
                <div class="grid-2" style="margin-top: 2rem;">
                    <div class="example-box">
                        <h4 style="color: var(--data);">üé∞ Play Lottery</h4>
                        <p><strong>Possible Outcomes:</strong> Win, Lose</p>
                        <p class="formula">S = {Win, Lose}</p>
                    </div>
                    <div class="example-box">
                        <h4 style="color: var(--data);">üìù Take a Test</h4>
                        <p><strong>Possible Outcomes:</strong> Pass, Fail</p>
                        <p class="formula">S = {Pass, Fail}</p>
                    </div>
                    <div class="example-box">
                        <h4 style="color: var(--data);">üë• Select a Worker</h4>
                        <p><strong>Possible Outcomes:</strong> Male, Female</p>
                        <p class="formula">S = {Male, Female}</p>
                    </div>
                    <div class="example-box">
                        <h4 style="color: var(--data);">‚öΩ Football Game</h4>
                        <p><strong>Possible Outcomes:</strong> Win, Lose, Tie</p>
                        <p class="formula">S = {Win, Lose, Tie}</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Module 3: Diagrams -->
        <div class="module" id="module-diagrams">
            <div class="card">
                <h2 style="font-size: 2rem; margin-bottom: 1rem; color: var(--primary);">üìä Venn & Tree Diagrams</h2>

                <div class="definition-box">
                    <p><strong>Venn Diagram:</strong> A picture (closed geometric shape) that depicts all possible outcomes for an experiment.</p>
                    <p style="margin-top: 1rem;"><strong>Tree Diagram:</strong> Each outcome is represented by a branch of the tree.</p>
                    <p style="margin-top: 1rem; font-style: italic;">These diagrams help us understand probability concepts by presenting them visually.</p>
                </div>

                <!-- Example 1: Coin Toss -->
                <div class="card concept-card" style="margin-top: 2rem;">
                    <h3 style="color: var(--accent); margin-bottom: 1.5rem;">Example 1: One Coin Toss</h3>
                    <div class="grid-2">
                        <div>
                            <h4 style="margin-bottom: 1rem;">Venn Diagram</h4>
                            <canvas id="vennCoin" width="400" height="300"></canvas>
                        </div>
                        <div>
                            <h4 style="margin-bottom: 1rem;">Tree Diagram</h4>
                            <canvas id="treeCoin" width="400" height="300"></canvas>
                        </div>
                    </div>
                    <p style="margin-top: 1rem;">The rectangle labeled <strong>S</strong> represents the sample space. Each point/branch represents a possible outcome.</p>
                </div>

                <!-- Example 2: Two Coin Tosses -->
                <div class="card concept-card" style="margin-top: 2rem;">
                    <h3 style="color: var(--accent); margin-bottom: 1.5rem;">Example 2: Two Coin Tosses</h3>
                    <div class="grid-2">
                        <div>
                            <h4 style="margin-bottom: 1rem;">Venn Diagram</h4>
                            <canvas id="vennTwoCoins" width="400" height="300"></canvas>
                        </div>
                        <div>
                            <h4 style="margin-bottom: 1rem;">Tree Diagram</h4>
                            <canvas id="treeTwoCoins" width="400" height="400"></canvas>
                        </div>
                    </div>
                    <p style="margin-top: 1rem;">The experiment can be split into two parts: the first toss and the second toss. Each branch splits into further possibilities.</p>
                </div>

                <!-- Example 3: Two Workers -->
                <div class="card concept-card" style="margin-top: 2rem;">
                    <h3 style="color: var(--accent); margin-bottom: 1.5rem;">Example 3: Select Two Workers</h3>
                    <p>Suppose we randomly select two workers from a company and observe whether each is a man (M) or woman (W).</p>
                    <div class="grid-2" style="margin-top: 1.5rem;">
                        <div>
                            <h4 style="margin-bottom: 1rem;">Venn Diagram</h4>
                            <canvas id="vennWorkers" width="400" height="300"></canvas>
                        </div>
                        <div>
                            <h4 style="margin-bottom: 1rem;">Tree Diagram</h4>
                            <canvas id="treeWorkers" width="400" height="400"></canvas>
                        </div>
                    </div>
                    <p class="formula" style="margin-top: 1.5rem;">S = {MM, MW, WM, WW}</p>
                    <p style="margin-top: 1rem;">There are four final outcomes representing all possible combinations.</p>
                </div>
            </div>
        </div>

        <!-- Module 4: Events -->
        <div class="module" id="module-events">
            <div class="card">
                <h2 style="font-size: 2rem; margin-bottom: 1rem; color: var(--primary);">üéØ Simple & Compound Events</h2>

                <div class="definition-box">
                    <h3 style="color: var(--premium); margin-bottom: 1rem;">Event Definition</h3>
                    <p>An <strong>event</strong> consists of one or more outcomes of an experiment. Events can be classified as:</p>
                </div>

                <div class="grid-2" style="margin-top: 2rem;">
                    <div class="card concept-card">
                        <h3 style="color: var(--accent); margin-bottom: 1rem;">Simple Event</h3>
                        <p>Each final outcome for an experiment is a <span class="highlight">simple event</span>.</p>
                        <p style="margin-top: 1rem;"><strong>Characteristics:</strong></p>
                        <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                            <li>Includes one and only one outcome</li>
                            <li>Denoted as E‚ÇÅ, E‚ÇÇ, E‚ÇÉ, ... or A, B, C, ...</li>
                        </ul>
                    </div>
                    <div class="card concept-card">
                        <h3 style="color: var(--accent); margin-bottom: 1rem;">Compound Event</h3>
                        <p>An event consisting of <span class="highlight">more than one outcome</span>.</p>
                        <p style="margin-top: 1rem;"><strong>Characteristics:</strong></p>
                        <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                            <li>Collection of multiple outcomes</li>
                            <li>Denoted as A, B, C, ... or A‚ÇÅ, A‚ÇÇ, ...</li>
                        </ul>
                    </div>
                </div>

                <!-- Example: Two Workers -->
                <div class="example-box" style="margin-top: 2rem;">
                    <h3 style="color: var(--data); margin-bottom: 1rem;">Example: Selecting Two Workers</h3>
                    <p>Recall the experiment of selecting two workers and observing gender (M or W).</p>
                    <p class="formula">S = {MM, MW, WM, WW}</p>

                    <h4 style="margin-top: 1.5rem; margin-bottom: 0.5rem;">Simple Events:</h4>
                    <div class="grid-2" style="margin-top: 1rem;">
                        <div style="background: var(--bg-primary); padding: 1rem; border-radius: 8px;">
                            <p><strong>E‚ÇÅ</strong> = {MM} - Both men</p>
                        </div>
                        <div style="background: var(--bg-primary); padding: 1rem; border-radius: 8px;">
                            <p><strong>E‚ÇÇ</strong> = {MW} - Man then woman</p>
                        </div>
                        <div style="background: var(--bg-primary); padding: 1rem; border-radius: 8px;">
                            <p><strong>E‚ÇÉ</strong> = {WM} - Woman then man</p>
                        </div>
                        <div style="background: var(--bg-primary); padding: 1rem; border-radius: 8px;">
                            <p><strong>E‚ÇÑ</strong> = {WW} - Both women</p>
                        </div>
                    </div>

                    <h4 style="margin-top: 1.5rem; margin-bottom: 0.5rem;">Compound Event:</h4>
                    <div style="background: rgba(0, 159, 157, 0.1); padding: 1.5rem; border-radius: 8px; border: 2px solid var(--accent);">
                        <p><strong>Event A:</strong> "At most one man is selected"</p>
                        <p style="margin-top: 0.5rem;">This occurs if either no man or one man is selected.</p>
                        <p class="formula">A = {MW, WM, WW}</p>
                        <p style="margin-top: 0.5rem; font-style: italic;">This is a compound event because it contains more than one outcome.</p>
                    </div>
                </div>

                <!-- Example: Genetic Engineering -->
                <div class="example-box" style="margin-top: 2rem;">
                    <h3 style="color: var(--data); margin-bottom: 1rem;">Example: Opinions on Genetic Engineering</h3>
                    <p>Two persons are selected and asked if they are in favor (F) or against (A) genetic engineering.</p>
                    <p class="formula">S = {FF, FA, AF, AA}</p>

                    <div style="margin-top: 1.5rem;">
                        <div style="background: var(--bg-primary); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                            <p><strong>a) Both in favor:</strong> {FF} - <span style="color: var(--accent);">Simple Event</span></p>
                        </div>
                        <div style="background: var(--bg-primary); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                            <p><strong>b) At most one against:</strong> {FF, FA, AF} - <span style="color: var(--accent);">Compound Event</span></p>
                        </div>
                        <div style="background: var(--bg-primary); padding: 1rem; border-radius: 8px;">
                            <p><strong>c) Exactly one in favor:</strong> {FA, AF} - <span style="color: var(--accent);">Compound Event</span></p>
                        </div>
                    </div>
                </div>

                <!-- Interactive Flashcard -->
                <h3 style="margin-top: 3rem; margin-bottom: 1rem; color: var(--accent);">Test Your Understanding</h3>
                <div class="flashcard" onclick="this.classList.toggle('flipped')">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <h3 style="margin-bottom: 1rem;">üí° Quick Quiz</h3>
                            <p style="font-size: 1.2rem;">If you roll a die and event A = "getting an even number", is this a simple or compound event?</p>
                            <p style="margin-top: 2rem; opacity: 0.8; font-size: 0.9rem;">Click to reveal answer</p>
                        </div>
                        <div class="flashcard-back">
                            <h3 style="margin-bottom: 1rem; color: var(--accent);">Answer</h3>
                            <p style="font-size: 1.1rem;">This is a <strong>Compound Event</strong></p>
                            <p style="margin-top: 1rem;">Event A = {2, 4, 6}</p>
                            <p style="margin-top: 1rem;">Since it contains more than one outcome (three outcomes: 2, 4, and 6), it is a compound event, not a simple event.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Module 5: Calculating Probability -->
        <div class="module" id="module-probability">
            <div class="card">
                <h2 style="font-size: 2rem; margin-bottom: 1rem; color: var(--primary);">üßÆ Calculating Probability</h2>

                <div class="definition-box">
                    <h3 style="color: var(--premium); margin-bottom: 1rem;">What is Probability?</h3>
                    <p>Probability is a <span class="highlight">numerical measure</span> of the likelihood that a specific event will occur.</p>
                    <p style="margin-top: 1rem;">Denoted as <strong>P(E)</strong> for simple event E, or <strong>P(A)</strong> for compound event A.</p>
                </div>

                <h3 style="margin-top: 2rem; margin-bottom: 1rem; color: var(--accent);">Properties of Probability</h3>

                <div class="grid-2">
                    <div class="card concept-card">
                        <h4 style="margin-bottom: 1rem;">Property 1: Range</h4>
                        <p>Probability always lies between 0 and 1:</p>
                        <p class="formula">0 ‚â§ P(E) ‚â§ 1<br>0 ‚â§ P(A) ‚â§ 1</p>
                        <ul style="margin-top: 1rem; margin-left: 1.5rem;">
                            <li><strong>P = 0:</strong> Impossible event</li>
                            <li><strong>P = 1:</strong> Sure/Certain event</li>
                        </ul>
                    </div>
                    <div class="card concept-card">
                        <h4 style="margin-bottom: 1rem;">Property 2: Sum of Probabilities</h4>
                        <p>Sum of all simple event probabilities equals 1:</p>
                        <p class="formula">Œ£P(E·µ¢) = 1</p>
                        <p style="margin-top: 1rem;">Example for coin toss:</p>
                        <p class="formula">P(H) + P(T) = 1</p>
                    </div>
                </div>

                <h3 style="margin-top: 3rem; margin-bottom: 1.5rem; color: var(--accent);">Three Approaches to Probability</h3>

                <!-- Classical Probability -->
                <div class="card concept-card">
                    <h3 style="color: var(--primary); margin-bottom: 1rem;">1Ô∏è‚É£ Classical Probability</h3>
                    <div class="definition-box">
                        <p><strong>Equally Likely Outcomes:</strong> Outcomes that have the same probability of occurrence.</p>
                        <p style="margin-top: 1rem;">Used when all outcomes are equally likely.</p>
                    </div>

                    <div class="formula" style="background: linear-gradient(135deg, rgba(15, 44, 89, 0.1) 0%, rgba(0, 159, 157, 0.1) 100%); font-size: 1.3rem;">
                        <p>P(Simple Event) = 1 / Total Outcomes</p>
                        <p style="margin-top: 1rem;">P(Compound Event A) = (Outcomes favorable to A) / Total Outcomes</p>
                    </div>

                    <div class="example-box" style="margin-top: 1.5rem;">
                        <h4 style="color: var(--data);">Example 1: Coin Toss</h4>
                        <p>Find P(Head) and P(Tail) for one coin toss.</p>
                        <div style="margin-top: 1rem; background: var(--bg-primary); padding: 1rem; border-radius: 8px;">
                            <p>Total outcomes = 2 (equally likely)</p>
                            <p class="formula">P(H) = 1/2 = 0.50</p>
                            <p class="formula">P(T) = 1/2 = 0.50</p>
                        </div>
                    </div>

                    <div class="example-box" style="margin-top: 1rem;">
                        <h4 style="color: var(--data);">Example 2: Rolling a Die</h4>
                        <p>Find the probability of obtaining an even number in one roll.</p>
                        <div style="margin-top: 1rem; background: var(--bg-primary); padding: 1rem; border-radius: 8px;">
                            <p>Total outcomes = 6: {1, 2, 3, 4, 5, 6}</p>
                            <p>Event A (even) = {2, 4, 6} ‚Üí 3 favorable outcomes</p>
                            <p class="formula">P(A) = 3/6 = 0.50</p>
                        </div>
                    </div>

                    <div class="example-box" style="margin-top: 1rem;">
                        <h4 style="color: var(--data);">Example 3: Women Golfers</h4>
                        <p>In a group of 500 women, 120 have played golf at least once. If one woman is randomly selected, what is P(played golf)?</p>
                        <div style="margin-top: 1rem; background: var(--bg-primary); padding: 1rem; border-radius: 8px;">
                            <p>Total outcomes = 500 (equally likely)</p>
                            <p>Favorable outcomes = 120</p>
                            <p class="formula">P(played golf) = 120/500 = 0.24</p>
                        </div>
                    </div>
                </div>

                <!-- Relative Frequency -->
                <div class="card concept-card" style="margin-top: 2rem;">
                    <h3 style="color: var(--primary); margin-bottom: 1rem;">2Ô∏è‚É£ Relative Frequency Approach</h3>
                    <div class="definition-box">
                        <p>Used when outcomes are <strong>NOT equally likely</strong>, but the experiment can be repeated many times.</p>
                        <p style="margin-top: 1rem;">Based on observed data from actual experiments.</p>
                    </div>

                    <div class="formula" style="background: linear-gradient(135deg, rgba(90, 123, 158, 0.1) 0%, rgba(0, 159, 157, 0.1) 100%); font-size: 1.3rem;">
                        <p>P(A) = f / n</p>
                        <p style="font-size: 0.9rem; margin-top: 0.5rem;">where f = frequency of event A, n = total trials</p>
                    </div>

                    <div class="example-box" style="margin-top: 1.5rem;">
                        <h4 style="color: var(--data);">Example: Defective Cars</h4>
                        <p>Ten of 500 randomly selected cars are found to be lemons. What is P(next car is a lemon)?</p>
                        <div style="margin-top: 1rem; background: var(--bg-primary); padding: 1rem; border-radius: 8px;">
                            <p>n = 500, f = 10</p>
                            <p class="formula">P(lemon) = 10/500 = 0.02</p>
                            <p style="margin-top: 0.5rem; font-style: italic;">This is an approximate probability based on sample data.</p>
                        </div>
                    </div>

                    <div class="definition-box" style="margin-top: 1.5rem;">
                        <h4 style="color: var(--premium);">‚öñÔ∏è Law of Large Numbers</h4>
                        <p>If an experiment is repeated again and again, the probability obtained from relative frequency approaches the actual (theoretical) probability.</p>
                    </div>
                </div>

                <!-- Subjective Probability -->
                <div class="card concept-card" style="margin-top: 2rem;">
                    <h3 style="color: var(--primary); margin-bottom: 1rem;">3Ô∏è‚É£ Subjective Probability</h3>
                    <div class="definition-box">
                        <p>Used when:</p>
                        <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                            <li>Outcomes are NOT equally likely</li>
                            <li>Experiment CANNOT be repeated</li>
                        </ul>
                        <p style="margin-top: 1rem;">Based on <span class="highlight">judgment, experience, information, and belief</span>.</p>
                    </div>

                    <div class="example-box" style="margin-top: 1.5rem;">
                        <h4 style="color: var(--data);">Examples of Subjective Probability:</h4>
                        <ul style="margin-left: 1.5rem; line-height: 2;">
                            <li>Probability that a student will earn an A in statistics</li>
                            <li>Probability that the Dow Jones will be higher tomorrow</li>
                            <li>Probability that a sports team wins the championship</li>
                            <li>Probability of winning a lawsuit</li>
                        </ul>
                        <p style="margin-top: 1rem; font-style: italic; opacity: 0.8;">Note: Different people may assign different subjective probabilities to the same event.</p>
                    </div>
                </div>

                <!-- Interactive Calculator -->
                <div class="card" style="margin-top: 2rem; background: linear-gradient(135deg, rgba(0, 159, 157, 0.05) 0%, rgba(15, 44, 89, 0.05) 100%);">
                    <h3 style="color: var(--accent); margin-bottom: 1.5rem;">üßÆ Probability Calculator</h3>
                    <div class="interactive-box">
                        <div style="max-width: 500px; margin: 0 auto;">
                            <div style="margin-bottom: 1rem;">
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Number of Favorable Outcomes:</label>
                                <input type="number" id="favorable" min="0" value="1" style="width: 100%;">
                            </div>
                            <div style="margin-bottom: 1rem;">
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Total Number of Outcomes:</label>
                                <input type="number" id="total" min="1" value="6" style="width: 100%;">
                            </div>
                            <button class="btn btn-primary" onclick="calculateProbability()">Calculate Probability</button>
                            <div id="probResult" style="margin-top: 1.5rem; font-size: 1.3rem; font-weight: bold; color: var(--accent);"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Module 6: Conditional Probability -->
        <div class="module" id="module-conditional">
            <div class="card">
                <h2 style="font-size: 2rem; margin-bottom: 1rem; color: var(--primary);">üîÄ Conditional Probability</h2>

                <div class="definition-box">
                    <h3 style="color: var(--premium); margin-bottom: 1rem;">What is Conditional Probability?</h3>
                    <p>The probability of an event given that another event has already occurred.</p>
                    <p class="formula" style="font-size: 1.4rem; margin-top: 1rem;">P(A | B)</p>
                    <p style="margin-top: 0.5rem;">Read as: "Probability of A given B" or "Probability of A given that B has occurred"</p>
                </div>

                <!-- CEO Salary Example -->
                <div class="example-box" style="margin-top: 2rem;">
                    <h3 style="color: var(--data); margin-bottom: 1rem;">Example: CEO Salaries Opinion</h3>
                    <p>100 employees were asked about paying high salaries to CEOs:</p>

                    <table style="margin-top: 1.5rem;">
                        <thead>
                            <tr>
                                <th>Gender</th>
                                <th>In Favor</th>
                                <th>Against</th>
                                <th>Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Male</strong></td>
                                <td>15</td>
                                <td>45</td>
                                <td>60</td>
                            </tr>
                            <tr>
                                <td><strong>Female</strong></td>
                                <td>4</td>
                                <td>36</td>
                                <td>40</td>
                            </tr>
                            <tr style="font-weight: bold; background: var(--accent); color: white;">
                                <td>Total</td>
                                <td>19</td>
                                <td>81</td>
                                <td>100</td>
                            </tr>
                        </tbody>
                    </table>

                    <div style="margin-top: 2rem;">
                        <h4 style="margin-bottom: 1rem;">Marginal Probabilities:</h4>
                        <div class="grid-2">
                            <div style="background: var(--bg-primary); padding: 1rem; border-radius: 8px;">
                                <p class="formula">P(Male) = 60/100 = 0.60</p>
                            </div>
                            <div style="background: var(--bg-primary); padding: 1rem; border-radius: 8px;">
                                <p class="formula">P(Female) = 40/100 = 0.40</p>
                            </div>
                            <div style="background: var(--bg-primary); padding: 1rem; border-radius: 8px;">
                                <p class="formula">P(In Favor) = 19/100 = 0.19</p>
                            </div>
                            <div style="background: var(--bg-primary); padding: 1rem; border-radius: 8px;">
                                <p class="formula">P(Against) = 81/100 = 0.81</p>
                            </div>
                        </div>
                    </div>

                    <div style="margin-top: 2rem;">
                        <h4 style="margin-bottom: 1rem;">Conditional Probabilities:</h4>
                        <div style="background: rgba(0, 159, 157, 0.1); padding: 1.5rem; border-radius: 8px; border: 2px solid var(--accent);">
                            <p><strong>Question:</strong> If we know the selected employee is male, what's the probability they are in favor?</p>
                            <p class="formula" style="margin-top: 1rem; font-size: 1.3rem;">P(In Favor | Male) = 15/60 = 0.25</p>
                            <p style="margin-top: 1rem;"><strong>Calculation:</strong> We look only at the "Male" row (60 males), and count how many are in favor (15).</p>
                        </div>

                        <div style="background: rgba(90, 123, 158, 0.1); padding: 1.5rem; border-radius: 8px; border: 2px solid var(--data); margin-top: 1rem;">
                            <p><strong>Question:</strong> If we know the selected employee is in favor, what's the probability they are female?</p>
                            <p class="formula" style="margin-top: 1rem; font-size: 1.3rem;">P(Female | In Favor) = 4/19 ‚âà 0.2105</p>
                            <p style="margin-top: 1rem;"><strong>Calculation:</strong> We look only at the "In Favor" column (19 people), and count how many are female (4).</p>
                        </div>
                    </div>
                </div>

                <!-- Real-World Applications -->
                <div class="card concept-card" style="margin-top: 2rem;">
                    <h3 style="color: var(--accent); margin-bottom: 1.5rem;">üíº Real-World Applications</h3>

                    <div class="example-box">
                        <h4 style="color: var(--data);">üè¶ Finance: Credit Risk</h4>
                        <p>P(Default | High Unemployment) = 15%</p>
                        <p style="margin-top: 0.5rem;">A bank determines that if unemployment > 10%, the probability of loan default increases from 5% to 15%.</p>
                    </div>

                    <div class="example-box" style="margin-top: 1rem;">
                        <h4 style="color: var(--data);">üè• Insurance: Claims</h4>
                        <p>P(Claim | Age > 65) = 10%</p>
                        <p style="margin-top: 0.5rem;">Insurance companies find that seniors have 10% claim probability vs. 2% for general population.</p>
                    </div>

                    <div class="example-box" style="margin-top: 1rem;">
                        <h4 style="color: var(--data);">üìà Investment: Stock Performance</h4>
                        <p>P(Stock Rise | Positive Earnings) = 60%</p>
                        <p style="margin-top: 0.5rem;">If a company reports positive earnings, there's a 60% chance the stock rises next month.</p>
                    </div>

                    <div class="example-box" style="margin-top: 1rem;">
                        <h4 style="color: var(--data);">üåç Economics: GDP Growth</h4>
                        <p>P(GDP Growth > 3% | High Consumer Confidence) = 70%</p>
                        <p style="margin-top: 0.5rem;">When consumer confidence is high, there's a 70% chance of strong GDP growth.</p>
                    </div>
                </div>

                <!-- Interactive Example -->
                <div class="card" style="margin-top: 2rem; background: linear-gradient(135deg, rgba(0, 159, 157, 0.05) 0%, rgba(15, 44, 89, 0.05) 100%);">
                    <h3 style="color: var(--accent); margin-bottom: 1.5rem;">üéØ Interactive Exercise</h3>
                    <p>Given the CEO salary data above, calculate:</p>
                    <div class="exercise-item" style="margin-top: 1rem;">
                        <p><strong>P(Against | Female) = ?</strong></p>
                        <div class="options" style="margin-top: 1rem;">
                            <div class="option" onclick="checkAnswer(this, false)">0.36</div>
                            <div class="option" onclick="checkAnswer(this, false)">0.45</div>
                            <div class="option" onclick="checkAnswer(this, true)">0.90</div>
                            <div class="option" onclick="checkAnswer(this, false)">0.81</div>
                        </div>
                        <div id="conditionalFeedback" style="margin-top: 1rem; font-weight: bold;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Module 7: Special Events -->
        <div class="module" id="module-special">
            <div class="card">
                <h2 style="font-size: 2rem; margin-bottom: 1rem; color: var(--primary);">üîÑ Special Types of Events</h2>

                <!-- Mutually Exclusive Events -->
                <div class="card concept-card">
                    <h3 style="color: var(--accent); margin-bottom: 1rem;">1Ô∏è‚É£ Mutually Exclusive Events</h3>
                    <div class="definition-box">
                        <p><strong>Mutually Exclusive Events:</strong> Events that <span class="highlight">cannot occur together</span>. They have no common outcomes.</p>
                        <p style="margin-top: 1rem;">If one event occurs, the other cannot occur in the same trial.</p>
                    </div>

                    <div class="example-box" style="margin-top: 1.5rem;">
                        <h4 style="color: var(--data);">Example: Rolling a Die</h4>
                        <p>A = {2, 4, 6} (even numbers)</p>
                        <p>B = {1, 3, 5} (odd numbers)</p>
                        <div style="margin-top: 1rem; background: rgba(34, 197, 94, 0.1); padding: 1rem; border-radius: 8px; border: 2px solid #22c55e;">
                            <p><strong>‚úì Mutually Exclusive:</strong> You cannot get both an even AND odd number in one roll.</p>
                        </div>
                    </div>

                    <div class="example-box" style="margin-top: 1rem;">
                        <h4 style="color: var(--data);">Counter-Example: Rolling a Die</h4>
                        <p>A = {2, 4, 6} (even numbers)</p>
                        <p>C = {1, 2, 3, 4} (less than 5)</p>
                        <div style="margin-top: 1rem; background: rgba(239, 68, 68, 0.1); padding: 1rem; border-radius: 8px; border: 2px solid #ef4444;">
                            <p><strong>‚úó NOT Mutually Exclusive:</strong> Both events include 2 and 4. These outcomes satisfy both conditions.</p>
                        </div>
                    </div>

                    <div style="margin-top: 1.5rem;">
                        <canvas id="vennMutuallyExclusive" width="600" height="300" style="max-width: 100%;"></canvas>
                    </div>
                </div>

                <!-- Independent Events -->
                <div class="card concept-card" style="margin-top: 2rem;">
                    <h3 style="color: var(--accent); margin-bottom: 1rem;">2Ô∏è‚É£ Independent Events</h3>
                    <div class="definition-box">
                        <p><strong>Independent Events:</strong> The occurrence of one event <span class="highlight">does not change</span> the probability of the other event.</p>
                        <p class="formula" style="margin-top: 1rem;">P(A | B) = P(A)  OR  P(B | A) = P(B)</p>
                        <p style="margin-top: 0.5rem;">If either condition is true, events are independent.</p>
                    </div>

                    <div class="example-box" style="margin-top: 1.5rem;">
                        <h4 style="color: var(--data);">Example: Defective CDs</h4>
                        <p>100 CDs manufactured on two machines. 15 total defective. Machine I made 60 CDs, of which 9 are defective.</p>
                        <div style="margin-top: 1rem; background: var(--bg-primary); padding: 1rem; border-radius: 8px;">
                            <p>P(Defective) = 15/100 = 0.15</p>
                            <p>P(Defective | Machine I) = 9/60 = 0.15</p>
                            <p style="margin-top: 0.5rem; font-weight: bold; color: var(--accent);">Since P(D) = P(D|Machine I), events are INDEPENDENT!</p>
                        </div>
                    </div>

                    <div class="definition-box" style="margin-top: 1.5rem;">
                        <p><strong>Dependent Events:</strong> The occurrence of one event <span class="highlight">affects</span> the probability of the other.</p>
                        <p class="formula" style="margin-top: 1rem;">P(A | B) ‚â† P(A)  OR  P(B | A) ‚â† P(B)</p>
                    </div>
                </div>

                <!-- Complementary Events -->
                <div class="card concept-card" style="margin-top: 2rem;">
                    <h3 style="color: var(--accent); margin-bottom: 1rem;">3Ô∏è‚É£ Complementary Events</h3>
                    <div class="definition-box">
                        <p><strong>Complementary Events:</strong> Two mutually exclusive events that together include <span class="highlight">all possible outcomes</span>.</p>
                        <p class="formula" style="margin-top: 1rem;">P(A) + P(AÃÖ) = 1</p>
                        <p style="margin-top: 0.5rem;">where AÃÖ (read "A complement") is the event that A does not occur.</p>
                    </div>

                    <div class="example-box" style="margin-top: 1.5rem;">
                        <h4 style="color: var(--data);">Example: IRS Audits</h4>
                        <p>In a group of 2000 taxpayers, 400 have been audited by the IRS at least once.</p>
                        <div style="margin-top: 1rem; background: var(--bg-primary); padding: 1rem; border-radius: 8px;">
                            <p><strong>Event A:</strong> Taxpayer has been audited</p>
                            <p>P(A) = 400/2000 = 0.20</p>
                            <p style="margin-top: 1rem;"><strong>Event AÃÖ:</strong> Taxpayer has NEVER been audited</p>
                            <p>P(AÃÖ) = 1600/2000 = 0.80</p>
                            <p class="formula" style="margin-top: 1rem;">P(A) + P(AÃÖ) = 0.20 + 0.80 = 1.00 ‚úì</p>
                        </div>
                    </div>

                    <div style="margin-top: 1.5rem;">
                        <canvas id="vennComplement" width="500" height="300" style="max-width: 100%;"></canvas>
                    </div>
                </div>

                <!-- Important Observations -->
                <div class="card" style="margin-top: 2rem; background: linear-gradient(135deg, rgba(210, 193, 167, 0.1) 0%, rgba(0, 159, 157, 0.05) 100%); border: 3px solid var(--premium);">
                    <h3 style="color: var(--premium); margin-bottom: 1.5rem;">‚ö†Ô∏è Important Observations</h3>
                    <div style="background: var(--bg-primary); padding: 1.5rem; border-radius: 8px; margin-bottom: 1rem;">
                        <p style="font-weight: 600;">1. Two events are either mutually exclusive OR independent (not both):</p>
                        <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                            <li>Mutually exclusive events are ALWAYS dependent</li>
                            <li>Independent events are NEVER mutually exclusive</li>
                        </ul>
                    </div>
                    <div style="background: var(--bg-primary); padding: 1.5rem; border-radius: 8px;">
                        <p style="font-weight: 600;">2. Dependent events may or may not be mutually exclusive.</p>
                    </div>
                </div>

                <!-- Flashcard -->
                <h3 style="margin-top: 3rem; margin-bottom: 1rem; color: var(--accent);">Test Your Understanding</h3>
                <div class="flashcard" onclick="this.classList.toggle('flipped')">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <h3 style="margin-bottom: 1rem;">üí° Quick Quiz</h3>
                            <p style="font-size: 1.2rem;">You flip a coin twice. Are the two flips independent events?</p>
                            <p style="margin-top: 2rem; opacity: 0.8; font-size: 0.9rem;">Click to reveal answer</p>
                        </div>
                        <div class="flashcard-back">
                            <h3 style="margin-bottom: 1rem; color: var(--accent);">Answer</h3>
                            <p style="font-size: 1.1rem;"><strong>YES, they are independent!</strong></p>
                            <p style="margin-top: 1rem;">The outcome of the first flip does not affect the probability of the second flip.</p>
                            <p style="margin-top: 1rem;">P(H on 2nd flip) = 0.5, regardless of whether the first flip was H or T.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Module 8: Exercises -->
        <div class="module" id="module-exercises">
            <div class="card">
                <h2 style="font-size: 2rem; margin-bottom: 1rem; color: var(--primary);">üìù Practice Exercises</h2>

                <div class="progress-bar">
                    <div class="progress-fill" id="exerciseProgress" style="width: 0%"></div>
                </div>
                <p style="text-align: center; margin-top: 0.5rem; font-weight: 500;">Progress: <span id="progressText">0/10</span></p>

                <!-- Exercise 1 -->
                <div class="exercise-item">
                    <p style="font-weight: 600; margin-bottom: 1rem;">1. A box contains 3 red balls and 7 blue balls. If one ball is randomly selected, what is P(red)?</p>
                    <div class="options">
                        <div class="option" onclick="checkExercise(this, false, 1)">0.3</div>
                        <div class="option" onclick="checkExercise(this, true, 1)">0.3</div>
                        <div class="option" onclick="checkExercise(this, false, 1)">0.7</div>
                        <div class="option" onclick="checkExercise(this, false, 1)">0.5</div>
                    </div>
                </div>

                <!-- Exercise 2 -->
                <div class="exercise-item">
                    <p style="font-weight: 600; margin-bottom: 1rem;">2. In one roll of a die, what is P(number less than 5)?</p>
                    <div class="options">
                        <div class="option" onclick="checkExercise(this, false, 2)">0.5</div>
                        <div class="option" onclick="checkExercise(this, true, 2)">0.6667</div>
                        <div class="option" onclick="checkExercise(this, false, 2)">0.75</div>
                        <div class="option" onclick="checkExercise(this, false, 2)">0.8333</div>
                    </div>
                </div>

                <!-- Exercise 3 -->
                <div class="exercise-item">
                    <p style="font-weight: 600; margin-bottom: 1rem;">3. If two fair coins are tossed, what is P(at least one head)?</p>
                    <div class="options">
                        <div class="option" onclick="checkExercise(this, false, 3)">0.25</div>
                        <div class="option" onclick="checkExercise(this, false, 3)">0.5</div>
                        <div class="option" onclick="checkExercise(this, true, 3)">0.75</div>
                        <div class="option" onclick="checkExercise(this, false, 3)">1.0</div>
                    </div>
                </div>

                <!-- Exercise 4 -->
                <div class="exercise-item">
                    <p style="font-weight: 600; margin-bottom: 1rem;">4. Are the events "getting an even number" and "getting a number less than 4" mutually exclusive when rolling a die?</p>
                    <div class="options">
                        <div class="option" onclick="checkExercise(this, true, 4)">No, because 2 is both even and less than 4</div>
                        <div class="option" onclick="checkExercise(this, false, 4)">Yes, they cannot occur together</div>
                        <div class="option" onclick="checkExercise(this, false, 4)">Yes, they are complementary</div>
                        <div class="option" onclick="checkExercise(this, false, 4)">No, they are independent</div>
                    </div>
                </div>

                <!-- Exercise 5 -->
                <div class="exercise-item">
                    <p style="font-weight: 600; margin-bottom: 1rem;">5. If P(A) = 0.4, what is P(AÃÖ), the probability of the complement?</p>
                    <div class="options">
                        <div class="option" onclick="checkExercise(this, false, 5)">0.4</div>
                        <div class="option" onclick="checkExercise(this, true, 5)">0.6</div>
                        <div class="option" onclick="checkExercise(this, false, 5)">0.8</div>
                        <div class="option" onclick="checkExercise(this, false, 5)">1.0</div>
                    </div>
                </div>

                <!-- Exercise 6 -->
                <div class="exercise-item">
                    <p style="font-weight: 600; margin-bottom: 1rem;">6. A sample of 400 adults shows 120 offer free health fitness. What is P(does NOT offer fitness center)?</p>
                    <div class="options">
                        <div class="option" onclick="checkExercise(this, false, 6)">0.30</div>
                        <div class="option" onclick="checkExercise(this, false, 6)">0.40</div>
                        <div class="option" onclick="checkExercise(this, true, 6)">0.70</div>
                        <div class="option" onclick="checkExercise(this, false, 6)">0.80</div>
                    </div>
                </div>

                <!-- Exercise 7 -->
                <div class="exercise-item">
                    <p style="font-weight: 600; margin-bottom: 1rem;">7. In JAMB question: Letters of MATRICULATION are in a box. What is P(vowel)?</p>
                    <p style="font-size: 0.9rem; opacity: 0.8; margin-top: 0.5rem;">Hint: MATRICULATION has 13 letters. Vowels: A, I, U, A, I, O (6 vowels)</p>
                    <div class="options">
                        <div class="option" onclick="checkExercise(this, false, 7)">5/13</div>
                        <div class="option" onclick="checkExercise(this, true, 7)">6/13</div>
                        <div class="option" onclick="checkExercise(this, false, 7)">7/13</div>
                        <div class="option" onclick="checkExercise(this, false, 7)">4/13</div>
                    </div>
                </div>

                <!-- Exercise 8 -->
                <div class="exercise-item">
                    <p style="font-weight: 600; margin-bottom: 1rem;">8. What is the probability of drawing an ace from a standard 52-card deck?</p>
                    <div class="options">
                        <div class="option" onclick="checkExercise(this, false, 8)">1/13</div>
                        <div class="option" onclick="checkExercise(this, true, 8)">1/13 (or 4/52)</div>
                        <div class="option" onclick="checkExercise(this, false, 8)">1/4</div>
                        <div class="option" onclick="checkExercise(this, false, 8)">1/52</div>
                    </div>
                </div>

                <!-- Exercise 9 -->
                <div class="exercise-item">
                    <p style="font-weight: 600; margin-bottom: 1rem;">9. For experiment of selecting 2 workers (M or W), is {MW, WM} a simple or compound event?</p>
                    <div class="options">
                        <div class="option" onclick="checkExercise(this, false, 9)">Simple event</div>
                        <div class="option" onclick="checkExercise(this, true, 9)">Compound event</div>
                        <div class="option" onclick="checkExercise(this, false, 9)">Neither</div>
                        <div class="option" onclick="checkExercise(this, false, 9)">Complementary event</div>
                    </div>
                </div>

                <!-- Exercise 10 -->
                <div class="exercise-item">
                    <p style="font-weight: 600; margin-bottom: 1rem;">10. If events A and B are independent and P(A) = 0.3, P(B) = 0.5, what is P(A and B)?</p>
                    <p style="font-size: 0.9rem; opacity: 0.8; margin-top: 0.5rem;">Hint: For independent events, P(A and B) = P(A) √ó P(B)</p>
                    <div class="options">
                        <div class="option" onclick="checkExercise(this, true, 10)">0.15</div>
                        <div class="option" onclick="checkExercise(this, false, 10)">0.80</div>
                        <div class="option" onclick="checkExercise(this, false, 10)">0.20</div>
                        <div class="option" onclick="checkExercise(this, false, 10)">0.50</div>
                    </div>
                </div>

                <div id="completionMessage" style="display: none; margin-top: 2rem; padding: 2rem; background: linear-gradient(135deg, #22c55e 0%, #009F9D 100%); color: white; border-radius: 12px; text-align: center;">
                    <h3 style="font-size: 2rem; margin-bottom: 1rem;">üéâ Congratulations!</h3>
                    <p style="font-size: 1.2rem;">You've completed all exercises! Great job mastering probability concepts!</p>
                </div>
            </div>
        </div>

        <!-- Module 9: JAMB Questions -->
        <div class="module" id="module-jamb">
            <div class="card">
                <h2 style="font-size: 2rem; margin-bottom: 1rem; color: var(--primary);">üéì JAMB Past Questions</h2>
                <p style="margin-bottom: 2rem;">Test your knowledge with actual JAMB examination questions on probability.</p>

                <!-- JAMB Question 1 -->
                <div class="exercise-item">
                    <p style="font-weight: 600; margin-bottom: 1rem;">1. The letters of the word MATRICULATION are cut and put into a box. One letter is drawn at random from the box. Find the probability of drawing a vowel.</p>
                    <div style="background: var(--bg-primary); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                        <p><strong>Analysis:</strong></p>
                        <p>MATRICULATION has 13 letters</p>
                        <p>Vowels: A, I, U, A, I, O = 6 vowels</p>
                    </div>
                    <div class="options">
                        <div class="option" onclick="checkJAMB(this, false, 1, '6/13')">7/13</div>
                        <div class="option" onclick="checkJAMB(this, false, 1, '6/13')">5/13</div>
                        <div class="option" onclick="checkJAMB(this, false, 1, '6/13')">8/14</div>
                        <div class="option" onclick="checkJAMB(this, true, 1, '6/13')">6/13</div>
                    </div>
                </div>

                <!-- JAMB Question 2 -->
                <div class="exercise-item">
                    <p style="font-weight: 600; margin-bottom: 1rem;">2. If two fair coins are tossed, what is the probability of getting at least one head?</p>
                    <div style="background: var(--bg-primary); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                        <p><strong>Sample Space:</strong> {HH, HT, TH, TT}</p>
                        <p><strong>At least one head:</strong> {HH, HT, TH} = 3 outcomes</p>
                    </div>
                    <div class="options">
                        <div class="option" onclick="checkJAMB(this, false, 2, '3/4')">1/4</div>
                        <div class="option" onclick="checkJAMB(this, false, 2, '3/4')">1/2</div>
                        <div class="option" onclick="checkJAMB(this, false, 2, '3/4')">2/3</div>
                        <div class="option" onclick="checkJAMB(this, true, 2, '3/4')">3/4</div>
                    </div>
                </div>

                <!-- JAMB Question 3 -->
                <div class="exercise-item">
                    <p style="font-weight: 600; margin-bottom: 1rem;">3. What is the probability that a number chosen at random from integers between 1 and 10 inclusive is either a prime or a multiple of 3?</p>
                    <div style="background: var(--bg-primary); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                        <p><strong>Numbers 1-10:</strong> {1, 2, 3, 4, 5, 6, 7, 8, 9, 10}</p>
                        <p><strong>Primes:</strong> {2, 3, 5, 7}</p>
                        <p><strong>Multiples of 3:</strong> {3, 6, 9}</p>
                        <p><strong>Prime OR multiple of 3:</strong> {2, 3, 5, 6, 7, 9} = 6 numbers</p>
                    </div>
                    <div class="options">
                        <div class="option" onclick="checkJAMB(this, false, 3, '6/10 = 3/5')">1/2</div>
                        <div class="option" onclick="checkJAMB(this, true, 3, '6/10 = 3/5')">3/5</div>
                        <div class="option" onclick="checkJAMB(this, false, 3, '6/10 = 3/5')">2/5</div>
                        <div class="option" onclick="checkJAMB(this, false, 3, '6/10 = 3/5')">7/10</div>
                    </div>
                </div>

                <!-- JAMB Question 4 -->
                <div class="exercise-item">
                    <p style="font-weight: 600; margin-bottom: 1rem;">4. A bag contains 4 white balls and 6 red balls. Two balls are taken from the bag without replacement. What is the probability that they are both red?</p>
                    <div style="background: var(--bg-primary); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                        <p><strong>Total balls:</strong> 10</p>
                        <p><strong>P(1st red):</strong> 6/10</p>
                        <p><strong>P(2nd red | 1st red):</strong> 5/9 (without replacement)</p>
                        <p><strong>P(both red):</strong> (6/10) √ó (5/9) = 30/90 = 1/3</p>
                    </div>
                    <div class="options">
                        <div class="option" onclick="checkJAMB(this, false, 4, '1/3')">1/2</div>
                        <div class="option" onclick="checkJAMB(this, true, 4, '1/3')">1/3</div>
                        <div class="option" onclick="checkJAMB(this, false, 4, '1/3')">1/4</div>
                        <div class="option" onclick="checkJAMB(this, false, 4, '1/3')">2/5</div>
                    </div>
                </div>

                <!-- JAMB Question 5 -->
                <div class="exercise-item">
                    <p style="font-weight: 600; margin-bottom: 1rem;">5. Find the probability that a number selected at random from 40 to 50 (inclusive) is a prime.</p>
                    <div style="background: var(--bg-primary); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                        <p><strong>Numbers 40-50:</strong> {40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50} = 11 numbers</p>
                        <p><strong>Primes in this range:</strong> {41, 43, 47} = 3 primes</p>
                        <p><strong>P(prime):</strong> 3/11</p>
                    </div>
                    <div class="options">
                        <div class="option" onclick="checkJAMB(this, false, 5, '3/11')">2/11</div>
                        <div class="option" onclick="checkJAMB(this, true, 5, '3/11')">3/11</div>
                        <div class="option" onclick="checkJAMB(this, false, 5, '3/11')">4/11</div>
                        <div class="option" onclick="checkJAMB(this, false, 5, '3/11')">5/11</div>
                    </div>
                </div>

                <div class="card" style="margin-top: 2rem; background: linear-gradient(135deg, rgba(0, 159, 157, 0.1) 0%, rgba(15, 44, 89, 0.1) 100%);">
                    <h3 style="color: var(--accent); margin-bottom: 1rem;">üí° Tips for JAMB Probability Questions</h3>
                    <ul style="margin-left: 1.5rem; line-height: 2;">
                        <li>Always identify the sample space first</li>
                        <li>List all favorable outcomes systematically</li>
                        <li>Watch for "with replacement" vs "without replacement"</li>
                        <li>For "at least one" questions, consider using complement: P(at least one) = 1 - P(none)</li>
                        <li>Prime numbers less than 50: 2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47</li>
                    </ul>
                </div>
            </div>
        </div>
    </main>

    <footer style="background: var(--primary); color: white; padding: 2rem 0; margin-top: 4rem;">
        <div class="container" style="text-align: center;">
            <p>&copy; 2024 Interactive Probability Learning. All rights reserved.</p>
            <p style="margin-top: 0.5rem; opacity: 0.8;">Built with modern web technologies for optimal learning experience.</p>
        </div>
    </footer>

    <script>
        // Dark mode
        function initTheme() {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.documentElement.classList.add('dark');
                updateThemeButton(true);
            }
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
                if (event.matches) {
                    document.documentElement.classList.add('dark');
                    updateThemeButton(true);
                } else {
                    document.documentElement.classList.remove('dark');
                    updateThemeButton(false);
                }
            });
        }

        function toggleDarkMode() {
            document.documentElement.classList.toggle('dark');
            const isDark = document.documentElement.classList.contains('dark');
            updateThemeButton(isDark);
        }

        function updateThemeButton(isDark) {
            document.getElementById('themeIcon').textContent = isDark ? 'light_mode' : 'dark_mode';
            document.getElementById('themeText').textContent = isDark ? 'Light Mode' : 'Dark Mode';
        }

        // Navigation
        const modules = [
            { id: 'intro', name: 'Introduction' },
            { id: 'basics', name: 'Basic Concepts' },
            { id: 'diagrams', name: 'Diagrams' },
            { id: 'events', name: 'Events' },
            { id: 'probability', name: 'Probability' },
            { id: 'conditional', name: 'Conditional' },
            { id: 'special', name: 'Special Events' },
            { id: 'exercises', name: 'Exercises' },
            { id: 'jamb', name: 'JAMB Questions' }
        ];

        function initNavigation() {
            const navTabs = document.getElementById('navTabs');
            modules.forEach((module, index) => {
                const tab = document.createElement('button');
                tab.className = 'nav-tab' + (index === 0 ? ' active' : '');
                tab.textContent = module.name;
                tab.onclick = () => showModule(module.id);
                navTabs.appendChild(tab);
            });
        }

        function showModule(moduleId) {
            document.querySelectorAll('.module').forEach(m => m.classList.remove('active'));
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));

            document.getElementById('module-' + moduleId).classList.add('active');
            event.target.classList.add('active');

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Interactive coin toss
        function tossCoin() {
            const coin = document.getElementById('coin');
            coin.classList.add('flipping');

            setTimeout(() => {
                const result = Math.random() < 0.5 ? 'H' : 'T';
                coin.textContent = result;
                document.getElementById('coinResult').textContent = result === 'H' ? 'Head' : 'Tail';
                coin.classList.remove('flipping');
            }, 1000);
        }

        // Interactive dice roll
        function rollDice() {
            const dice = document.getElementById('dice');
            dice.classList.add('rolling');

            setTimeout(() => {
                const result = Math.floor(Math.random() * 6) + 1;
                dice.textContent = result;
                document.getElementById('diceResult').textContent = result;
                dice.classList.remove('rolling');
            }, 500);
        }

        // Two coins toss
        function tossTwoCoins() {
            setTimeout(() => {
                const first = Math.random() < 0.5 ? 'H' : 'T';
                const second = Math.random() < 0.5 ? 'H' : 'T';
                document.getElementById('twoCoinsResult').textContent = first + second;
            }, 500);
        }

        // Probability calculator
        function calculateProbability() {
            const favorable = parseFloat(document.getElementById('favorable').value);
            const total = parseFloat(document.getElementById('total').value);

            if (total <= 0) {
                document.getElementById('probResult').textContent = 'Total must be greater than 0';
                return;
            }

            if (favorable > total) {
                document.getElementById('probResult').textContent = 'Favorable outcomes cannot exceed total outcomes';
                return;
            }

            const probability = favorable / total;
            document.getElementById('probResult').textContent =
                `Probability = ${favorable}/${total} = ${probability.toFixed(4)} (${(probability * 100).toFixed(2)}%)`;
        }

        // Conditional probability answer check
        function checkAnswer(element, isCorrect) {
            const allOptions = element.parentElement.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
                opt.classList.remove('selected');
            });

            element.classList.add(isCorrect ? 'correct' : 'incorrect');

            const feedback = document.getElementById('conditionalFeedback');
            if (isCorrect) {
                feedback.textContent = '‚úì Correct! P(Against | Female) = 36/40 = 0.90';
                feedback.style.color = '#22c55e';
            } else {
                feedback.textContent = '‚úó Incorrect. Remember: We look only at females (40), and count those against (36).';
                feedback.style.color = '#ef4444';
            }
        }

        // Exercise tracking
        let completedExercises = new Set();

        function checkExercise(element, isCorrect, questionNumber) {
            const allOptions = element.parentElement.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });

            element.classList.add(isCorrect ? 'correct' : 'incorrect');

            if (isCorrect) {
                completedExercises.add(questionNumber);
                updateProgress();
            }
        }

        function updateProgress() {
            const total = 10;
            const completed = completedExercises.size;
            const percentage = (completed / total) * 100;

            document.getElementById('exerciseProgress').style.width = percentage + '%';
            document.getElementById('progressText').textContent = `${completed}/${total}`;

            if (completed === total) {
                document.getElementById('completionMessage').style.display = 'block';
            }
        }

        // JAMB questions
        function checkJAMB(element, isCorrect, questionNumber, correctAnswer) {
            const allOptions = element.parentElement.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });

            element.classList.add(isCorrect ? 'correct' : 'incorrect');

            if (!isCorrect) {
                setTimeout(() => {
                    showNotification(`Correct answer: ${correctAnswer}`);
                }, 500);
            } else {
                showNotification('‚úì Correct!');
            }
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Draw diagrams
        function drawVennCoin() {
            const canvas = document.getElementById('vennCoin');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const isDark = document.documentElement.classList.contains('dark');

            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Set colors based on theme
            const bgColor = isDark ? '#2D3748' : 'white';
            const borderColor = isDark ? '#9AA0A6' : '#0F2C59';
            const textColor = isDark ? '#F8F9FA' : '#2D3748';
            const pointColor = '#009F9D';

            ctx.fillStyle = bgColor;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw rectangle (sample space)
            ctx.strokeStyle = borderColor;
            ctx.lineWidth = 2;
            ctx.strokeRect(50, 50, 300, 200);

            // Label S
            ctx.fillStyle = textColor;
            ctx.font = 'bold 20px Space Grotesk';
            ctx.fillText('S', 30, 70);

            // Draw points
            ctx.fillStyle = pointColor;
            ctx.beginPath();
            ctx.arc(150, 150, 8, 0, Math.PI * 2);
            ctx.fill();

            ctx.beginPath();
            ctx.arc(250, 150, 8, 0, Math.PI * 2);
            ctx.fill();

            // Labels
            ctx.fillStyle = textColor;
            ctx.font = '16px Space Grotesk';
            ctx.fillText('H', 145, 180);
            ctx.fillText('T', 245, 180);
        }

        function drawTreeCoin() {
            const canvas = document.getElementById('treeCoin');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const isDark = document.documentElement.classList.contains('dark');

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const bgColor = isDark ? '#2D3748' : 'white';
            const lineColor = isDark ? '#9AA0A6' : '#0F2C59';
            const textColor = isDark ? '#F8F9FA' : '#2D3748';
            const pointColor = '#009F9D';

            ctx.fillStyle = bgColor;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw branches
            ctx.strokeStyle = lineColor;
            ctx.lineWidth = 2;

            ctx.beginPath();
            ctx.moveTo(200, 100);
            ctx.lineTo(150, 200);
            ctx.stroke();

            ctx.beginPath();
            ctx.moveTo(200, 100);
            ctx.lineTo(250, 200);
            ctx.stroke();

            // Draw points
            ctx.fillStyle = pointColor;
            ctx.beginPath();
            ctx.arc(200, 100, 6, 0, Math.PI * 2);
            ctx.fill();

            ctx.beginPath();
            ctx.arc(150, 200, 6, 0, Math.PI * 2);
            ctx.fill();

            ctx.beginPath();
            ctx.arc(250, 200, 6, 0, Math.PI * 2);
            ctx.fill();

            // Labels
            ctx.fillStyle = textColor;
            ctx.font = '16px Space Grotesk';
            ctx.fillText('H', 145, 230);
            ctx.fillText('T', 245, 230);
        }

        function drawVennTwoCoins() {
            const canvas = document.getElementById('vennTwoCoins');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const isDark = document.documentElement.classList.contains('dark');

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const bgColor = isDark ? '#2D3748' : 'white';
            const borderColor = isDark ? '#9AA0A6' : '#0F2C59';
            const textColor = isDark ? '#F8F9FA' : '#2D3748';
            const pointColor = '#009F9D';

            ctx.fillStyle = bgColor;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw rectangle
            ctx.strokeStyle = borderColor;
            ctx.lineWidth = 2;
            ctx.strokeRect(50, 50, 300, 200);

            // Label S
            ctx.fillStyle = textColor;
            ctx.font = 'bold 20px Space Grotesk';
            ctx.fillText('S', 30, 70);

            // Draw 4 points
            const outcomes = [
                { x: 120, y: 120, label: 'HH' },
                { x: 230, y: 120, label: 'HT' },
                { x: 120, y: 180, label: 'TH' },
                { x: 230, y: 180, label: 'TT' }
            ];

            ctx.fillStyle = pointColor;
            outcomes.forEach(outcome => {
                ctx.beginPath();
                ctx.arc(outcome.x, outcome.y, 8, 0, Math.PI * 2);
                ctx.fill();
            });

            // Labels
            ctx.fillStyle = textColor;
            ctx.font = '14px Space Grotesk';
            outcomes.forEach(outcome => {
                ctx.fillText(outcome.label, outcome.x - 12, outcome.y + 25);
            });
        }

        function drawTreeTwoCoins() {
            const canvas = document.getElementById('treeTwoCoins');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const isDark = document.documentElement.classList.contains('dark');

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const bgColor = isDark ? '#2D3748' : 'white';
            const lineColor = isDark ? '#9AA0A6' : '#0F2C59';
            const textColor = isDark ? '#F8F9FA' : '#2D3748';
            const pointColor = '#009F9D';

            ctx.fillStyle = bgColor;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.strokeStyle = lineColor;
            ctx.lineWidth = 2;

            // First level
            ctx.beginPath();
            ctx.moveTo(200, 50);
            ctx.lineTo(150, 150);
            ctx.stroke();

            ctx.beginPath();
            ctx.moveTo(200, 50);
            ctx.lineTo(250, 150);
            ctx.stroke();

            // Second level - from H
            ctx.beginPath();
            ctx.moveTo(150, 150);
            ctx.lineTo(100, 250);
            ctx.stroke();

            ctx.beginPath();
            ctx.moveTo(150, 150);
            ctx.lineTo(170, 250);
            ctx.stroke();

            // Second level - from T
            ctx.beginPath();
            ctx.moveTo(250, 150);
            ctx.lineTo(230, 250);
            ctx.stroke();

            ctx.beginPath();
            ctx.moveTo(250, 150);
            ctx.lineTo(300, 250);
            ctx.stroke();

            // Draw points
            ctx.fillStyle = pointColor;
            [
                { x: 200, y: 50 },
                { x: 150, y: 150 },
                { x: 250, y: 150 },
                { x: 100, y: 250 },
                { x: 170, y: 250 },
                { x: 230, y: 250 },
                { x: 300, y: 250 }
            ].forEach(point => {
                ctx.beginPath();
                ctx.arc(point.x, point.y, 5, 0, Math.PI * 2);
                ctx.fill();
            });

            // Labels
            ctx.fillStyle = textColor;
            ctx.font = '14px Space Grotesk';
            ctx.fillText('H', 130, 145);
            ctx.fillText('T', 260, 145);
            ctx.fillText('HH', 90, 280);
            ctx.fillText('HT', 160, 280);
            ctx.fillText('TH', 220, 280);
            ctx.fillText('TT', 290, 280);
        }

        function drawVennWorkers() {
            const canvas = document.getElementById('vennWorkers');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const isDark = document.documentElement.classList.contains('dark');

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const bgColor = isDark ? '#2D3748' : 'white';
            const borderColor = isDark ? '#9AA0A6' : '#0F2C59';
            const textColor = isDark ? '#F8F9FA' : '#2D3748';
            const pointColor = '#009F9D';

            ctx.fillStyle = bgColor;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.strokeStyle = borderColor;
            ctx.lineWidth = 2;
            ctx.strokeRect(50, 50, 300, 200);

            ctx.fillStyle = textColor;
            ctx.font = 'bold 20px Space Grotesk';
            ctx.fillText('S', 30, 70);

            const outcomes = [
                { x: 120, y: 120, label: 'MM' },
                { x: 230, y: 120, label: 'MW' },
                { x: 120, y: 180, label: 'WM' },
                { x: 230, y: 180, label: 'WW' }
            ];

            ctx.fillStyle = pointColor;
            outcomes.forEach(outcome => {
                ctx.beginPath();
                ctx.arc(outcome.x, outcome.y, 8, 0, Math.PI * 2);
                ctx.fill();
            });

            ctx.fillStyle = textColor;
            ctx.font = '14px Space Grotesk';
            outcomes.forEach(outcome => {
                ctx.fillText(outcome.label, outcome.x - 12, outcome.y + 25);
            });
        }

        function drawTreeWorkers() {
            const canvas = document.getElementById('treeWorkers');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const isDark = document.documentElement.classList.contains('dark');

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const bgColor = isDark ? '#2D3748' : 'white';
            const lineColor = isDark ? '#9AA0A6' : '#0F2C59';
            const textColor = isDark ? '#F8F9FA' : '#2D3748';
            const pointColor = '#009F9D';

            ctx.fillStyle = bgColor;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.strokeStyle = lineColor;
            ctx.lineWidth = 2;

            // First level
            ctx.beginPath();
            ctx.moveTo(200, 50);
            ctx.lineTo(150, 150);
            ctx.stroke();

            ctx.beginPath();
            ctx.moveTo(200, 50);
            ctx.lineTo(250, 150);
            ctx.stroke();

            // Second level
            ctx.beginPath();
            ctx.moveTo(150, 150);
            ctx.lineTo(100, 250);
            ctx.stroke();

            ctx.beginPath();
            ctx.moveTo(150, 150);
            ctx.lineTo(170, 250);
            ctx.stroke();

            ctx.beginPath();
            ctx.moveTo(250, 150);
            ctx.lineTo(230, 250);
            ctx.stroke();

            ctx.beginPath();
            ctx.moveTo(250, 150);
            ctx.lineTo(300, 250);
            ctx.stroke();

            // Points
            ctx.fillStyle = pointColor;
            [
                { x: 200, y: 50 },
                { x: 150, y: 150 },
                { x: 250, y: 150 },
                { x: 100, y: 250 },
                { x: 170, y: 250 },
                { x: 230, y: 250 },
                { x: 300, y: 250 }
            ].forEach(point => {
                ctx.beginPath();
                ctx.arc(point.x, point.y, 5, 0, Math.PI * 2);
                ctx.fill();
            });

            // Labels
            ctx.fillStyle = textColor;
            ctx.font = '14px Space Grotesk';
            ctx.fillText('M', 130, 145);
            ctx.fillText('W', 260, 145);
            ctx.fillText('MM', 90, 280);
            ctx.fillText('MW', 160, 280);
            ctx.fillText('WM', 220, 280);
            ctx.fillText('WW', 290, 280);
        }

        function drawVennMutuallyExclusive() {
            const canvas = document.getElementById('vennMutuallyExclusive');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const isDark = document.documentElement.classList.contains('dark');

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const bgColor = isDark ? '#2D3748' : 'white';
            const textColor = isDark ? '#F8F9FA' : '#2D3748';

            ctx.fillStyle = bgColor;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw two non-overlapping circles
            ctx.fillStyle = 'rgba(0, 159, 157, 0.3)';
            ctx.beginPath();
            ctx.arc(200, 150, 80, 0, Math.PI * 2);
            ctx.fill();
            ctx.strokeStyle = '#009F9D';
            ctx.lineWidth = 2;
            ctx.stroke();

            ctx.fillStyle = 'rgba(15, 44, 89, 0.3)';
            ctx.beginPath();
            ctx.arc(400, 150, 80, 0, Math.PI * 2);
            ctx.fill();
            ctx.strokeStyle = '#0F2C59';
            ctx.lineWidth = 2;
            ctx.stroke();

            // Labels
            ctx.fillStyle = textColor;
            ctx.font = 'bold 18px Space Grotesk';
            ctx.fillText('Event A', 165, 145);
            ctx.fillText('(Even)', 170, 165);
            ctx.fillText('Event B', 365, 145);
            ctx.fillText('(Odd)', 375, 165);

            ctx.font = '14px Space Grotesk';
            ctx.fillText('Mutually Exclusive - No Overlap', 180, 260);
        }

        function drawVennComplement() {
            const canvas = document.getElementById('vennComplement');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const isDark = document.documentElement.classList.contains('dark');

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const bgColor = isDark ? '#2D3748' : 'white';
            const borderColor = isDark ? '#9AA0A6' : '#0F2C59';
            const textColor = isDark ? '#F8F9FA' : '#2D3748';

            ctx.fillStyle = bgColor;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw outer rectangle (sample space)
            ctx.strokeStyle = borderColor;
            ctx.lineWidth = 2;
            ctx.strokeRect(50, 50, 400, 200);

            // Draw circle for event A
            ctx.fillStyle = 'rgba(0, 159, 157, 0.3)';
            ctx.beginPath();
            ctx.arc(200, 150, 60, 0, Math.PI * 2);
            ctx.fill();
            ctx.strokeStyle = '#009F9D';
            ctx.lineWidth = 2;
            ctx.stroke();

            // Shade complement area
            ctx.fillStyle = 'rgba(90, 123, 158, 0.2)';
            ctx.fillRect(50, 50, 400, 200);

            // Redraw A to cover complement shading
            ctx.fillStyle = 'rgba(0, 159, 157, 0.4)';
            ctx.beginPath();
            ctx.arc(200, 150, 60, 0, Math.PI * 2);
            ctx.fill();

            // Labels
            ctx.fillStyle = textColor;
            ctx.font = 'bold 18px Space Grotesk';
            ctx.fillText('A', 195, 155);
            ctx.fillText('AÃÖ', 350, 100);
            ctx.fillText('S', 30, 70);
        }

        // Initialize everything
        window.onload = function() {
            initTheme();
            initNavigation();

            // Draw all diagrams
            drawVennCoin();
            drawTreeCoin();
            drawVennTwoCoins();
            drawTreeTwoCoins();
            drawVennWorkers();
            drawTreeWorkers();
            drawVennMutuallyExclusive();
            drawVennComplement();

            // Redraw on theme change
            const observer = new MutationObserver(() => {
                drawVennCoin();
                drawTreeCoin();
                drawVennTwoCoins();
                drawTreeTwoCoins();
                drawVennWorkers();
                drawTreeWorkers();
                drawVennMutuallyExclusive();
                drawVennComplement();
            });
            observer.observe(document.documentElement, {
                attributes: true,
                attributeFilter: ['class']
            });
        };
    </script>
</body>
</html>

