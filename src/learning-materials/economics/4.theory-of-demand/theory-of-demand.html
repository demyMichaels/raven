<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LO 1: Theory of Demand</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .progress-indicator {
            position: sticky;
            top: 0;
            z-index: 50;
        }
        .content-section {
            scroll-margin-top: 100px;
        }
        .quiz-option {
            transition: all 0.2s;
        }
        .quiz-option:hover {
            transform: translateX(4px);
        }
        .quiz-option.correct {
            background-color: #10b981 !important;
            color: white !important;
        }
        .quiz-option.incorrect {
            background-color: #ef4444 !important;
            color: white !important;
        }
    </style>

</head>
<body class="bg-gray-50 dark:bg-gray-900 min-h-screen">
    <!-- Progress Indicator -->
    <div class="progress-indicator bg-white dark:bg-gray-800 shadow-md">
        <div class="container mx-auto px-4 py-3 max-w-4xl">

            <div class="flex items-center justify-between mb-2">
                <a href="index.html" class="
                text-indigo-600 
                dark:text-indigo-400 
                hover:underline text-sm">‚Üê Back to Home</a>

                <span class="text-sm text-gray-600 dark:text-gray-400">
                    Progress: 
                    <span id="progressPercent">0%</span>
                </span>
            </div>

            <div class="w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2">
                <div id="progressBar" 
                class="bg-indigo-600 
                h-2 
                rounded-full 
                transition-all 
                duration-300" style="width: 0%"></div>
            </div>
        </div>
    </div>


    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- Header -->
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 md:p-8 mb-8">
           
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800 dark:text-white mb-4">
                Learning Objective 1: Theory of Demand
            </h1>
           
            <p class="text-gray-600 dark:text-gray-300">
                Understanding ------
            </p>
        </div>


        <!-- Content Sections -->
        <div class="space-y-8">
            <!-- Section 1 -->
            <section class="content-section bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 md:p-8" data-section="1">
                
                <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">What is Bookkeeping?</h2>
                
                <p class="text-gray-700 dark:text-gray-300 mb-4 leading-relaxed">
                    <strong>Bookkeeping</strong> is the systematic recording of financial transactions in a business. It forms the foundation of the accounting process and involves:
                </p>
               
                <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300 mb-4 ml-4">
                    <li>Recording daily financial transactions (sales, purchases, receipts, payments)</li>
                    <li>Maintaining accurate financial records and documents</li>
                    <li>Organizing financial data in journals and ledgers</li>
                    <li>Ensuring all transactions are properly documented</li>
                </ul>
                <div class="bg-blue-50 dark:bg-blue-900 border-l-4 border-blue-500 p-4 rounded">
                    <p class="text-blue-800 dark:text-blue-200"><strong>Key Point:</strong> Bookkeeping is primarily about recording and organizing financial data.</p>
                </div>
            </section>


            <!-- Section 2 -->
            <section class="content-section bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 md:p-8" data-section="2">
                <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">What is Accounting?</h2>
               
                <p class="text-gray-700 dark:text-gray-300 mb-4 leading-relaxed">
                    <strong>Accounting</strong> is a broader concept that encompasses bookkeeping and goes beyond it. Accounting includes:
                </p>

                <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300 mb-4 ml-4">
                    <li>Interpreting and analyzing financial data</li>
                    <li>Preparing financial statements (Balance Sheet, Income Statement, Cash Flow)</li>
                    <li>Providing insights for business decision-making</li>
                    <li>Ensuring compliance with accounting standards and regulations</li>
                    <li>Tax planning and preparation</li>
                    <li>Financial forecasting and budgeting</li>
                </ul>
                <div class="bg-green-50 dark:bg-green-900 border-l-4 border-green-500 p-4 rounded">
                    <p class="text-green-800 dark:text-green-200"><strong>Key Point:</strong> Accounting transforms recorded data into meaningful financial information for decision-making.</p>
                </div>
            </section>

            <!-- Interactive Comparison -->
            <section class="content-section bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 md:p-8" data-section="3">
                <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-6">Key Differences</h2>
                <div class="overflow-x-auto">
                    <table class="w-full border-collapse">
                        <thead>
                            <tr class="bg-indigo-100 dark:bg-indigo-900">
                                <th class="border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-gray-800 dark:text-white">Aspect</th>
                                <th class="border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-gray-800 dark:text-white">Bookkeeping</th>
                                <th class="border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-gray-800 dark:text-white">Accounting</th>
                            </tr>
                        </thead>
                        <tbody class="text-gray-700 dark:text-gray-300">
                            <tr>
                                <td class="border border-gray-300 dark:border-gray-600 px-4 py-3 font-semibold">Scope</td>
                                <td class="border border-gray-300 dark:border-gray-600 px-4 py-3">Recording transactions</td>
                                <td class="border border-gray-300 dark:border-gray-600 px-4 py-3">Recording, analyzing, interpreting</td>
                            </tr>
                            <tr class="bg-gray-50 dark:bg-gray-700">
                                <td class="border border-gray-300 dark:border-gray-600 px-4 py-3 font-semibold">Purpose</td>
                                <td class="border border-gray-300 dark:border-gray-600 px-4 py-3">Maintain accurate records</td>
                                <td class="border border-gray-300 dark:border-gray-600 px-4 py-3">Inform business decisions</td>
                            </tr>
                            <tr>
                                <td class="border border-gray-300 dark:border-gray-600 px-4 py-3 font-semibold">Skills Required</td>
                                <td class="border border-gray-300 dark:border-gray-600 px-4 py-3">Basic knowledge, attention to detail</td>
                                <td class="border border-gray-300 dark:border-gray-600 px-4 py-3">Advanced analytical skills, professional certification</td>
                            </tr>
                            <tr class="bg-gray-50 dark:bg-gray-700">
                                <td class="border border-gray-300 dark:border-gray-600 px-4 py-3 font-semibold">Output</td>
                                <td class="border border-gray-300 dark:border-gray-600 px-4 py-3">Journals and ledgers</td>
                                <td class="border border-gray-300 dark:border-gray-600 px-4 py-3">Financial statements and reports</td>
                            </tr>
                            <tr>
                                <td class="border border-gray-300 dark:border-gray-600 px-4 py-3 font-semibold">Decision Making</td>
                                <td class="border border-gray-300 dark:border-gray-600 px-4 py-3">Not directly involved</td>
                                <td class="border border-gray-300 dark:border-gray-600 px-4 py-3">Directly supports management decisions</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Section 4 -->
            <section class="content-section bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 md:p-8" data-section="4">
                <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">The Relationship</h2>
                <p class="text-gray-700 dark:text-gray-300 mb-4 leading-relaxed">
                    Bookkeeping and accounting are complementary functions that work together:
                </p>
                <div class="bg-purple-50 dark:bg-purple-900 rounded-lg p-6 mb-4">
                    <div class="flex flex-col md:flex-row items-center justify-around space-y-4 md:space-y-0">
                        <div class="text-center">
                            <div class="bg-blue-500 text-white rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-2 text-2xl font-bold">1</div>
                            <p class="text-purple-900 dark:text-purple-100 font-semibold">Bookkeeping</p>
                            <p class="text-sm text-purple-700 dark:text-purple-300">Record Data</p>
                        </div>
                        <div class="text-purple-900 dark:text-purple-100 text-3xl">‚Üí</div>
                        <div class="text-center">
                            <div class="bg-green-500 text-white rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-2 text-2xl font-bold">2</div>
                            <p class="text-purple-900 dark:text-purple-100 font-semibold">Accounting</p>
                            <p class="text-sm text-purple-700 dark:text-purple-300">Analyze & Report</p>
                        </div>
                        <div class="text-purple-900 dark:text-purple-100 text-3xl">‚Üí</div>
                        <div class="text-center">
                            <div class="bg-indigo-500 text-white rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-2 text-2xl font-bold">3</div>
                            <p class="text-purple-900 dark:text-purple-100 font-semibold">Decisions</p>
                            <p class="text-sm text-purple-700 dark:text-purple-300">Informed Actions</p>
                        </div>
                    </div>
                </div>
                <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
                    Without accurate bookkeeping, accounting cannot provide reliable financial insights. Both functions are essential for effective financial management.
                </p>
            </section>

            <!-- Quiz Section -->
            <section class="content-section bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-950 dark:to-purple-950 rounded-lg shadow-md p-6 md:p-8" data-section="5">
                <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">üìù Knowledge Check Quiz</h2>
                <p class="text-gray-600 dark:text-gray-300 mb-6">Test your understanding of bookkeeping and accounting</p>

                <div id="quizContainer" class="space-y-6">
                    <!-- Quiz questions will be inserted here -->
                </div>

                <div id="quizResults" class="hidden mt-6">
                    <div class="bg-white dark:bg-gray-800 rounded-lg p-6 text-center">
                        <h3 class="text-2xl font-bold mb-2" id="scoreTitle"></h3>
                        <p class="text-4xl font-bold mb-4" id="scoreDisplay"></p>
                        <p class="text-gray-600 dark:text-gray-400 mb-4" id="scoreFeedback"></p>
                        <div class="flex flex-col sm:flex-row gap-3 justify-center">
                            <button onclick="retakeQuiz()" class="px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-semibold transition">
                                Retake Quiz
                            </button>
                            <a href="index.html" class="px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition text-center">
                                Back to Home
                            </a>
                        </div>
                    </div>
                </div>

                <button id="submitQuiz" onclick="submitQuiz()" class="w-full mt-6 px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-semibold transition">
                    Submit Quiz
                </button>
            </section>
        </div>
    </div>




    <script>
        // Dark mode support
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        // Storage Manager (same as index.html)
        class StorageManager {
            constructor() {
                this.storage = {};
                this.storageKey = 'economicsLearningProgress';
                this.loadFromCookie();
            }

            loadFromCookie() {
                const cookies = document.cookie.split(';');
                for (let cookie of cookies) {
                    const [name, value] = cookie.trim().split('=');
                    if (name === this.storageKey) {
                        try {
                            this.storage = JSON.parse(decodeURIComponent(value));
                        } catch (e) {
                            this.storage = {};
                        }
                        break;
                    }
                }
            }

            saveToCookie() {
                const expires = new Date();
                expires.setFullYear(expires.getFullYear() + 1);
                document.cookie = `${this.storageKey}=${encodeURIComponent(JSON.stringify(this.storage))}; expires=${expires.toUTCString()}; path=/; SameSite=Strict`;
            }

            getItem(key) {
                return this.storage[key] || null;
            }

            setItem(key, value) {
                this.storage[key] = value;
                this.saveToCookie();
            }

            removeItem(key) {
                delete this.storage[key];
                this.saveToCookie();
            }
        }

        const storage = new StorageManager();
        const moduleId = 'lo1';

        // Quiz data
        const quizData = [
            {
                question: "What is the primary function of bookkeeping?",
                options: [
                    "Preparing financial statements",
                    "Recording financial transactions",
                    "Making business decisions",
                    "Conducting financial audits"
                ],
                correct: 1
            },
            {
                question: "Which of the following is an accounting function?",
                options: [
                    "Recording daily sales",
                    "Maintaining ledgers",
                    "Analyzing financial performance",
                    "Filing receipts"
                ],
                correct: 2
            },
            {
                question: "What level of skills is typically required for bookkeeping?",
                options: [
                    "Professional certification required",
                    "Basic knowledge and attention to detail",
                    "Advanced analytical skills",
                    "Management experience"
                ],
                correct: 1
            },
            {
                question: "Which statement best describes the relationship between bookkeeping and accounting?",
                options: [
                    "They are completely separate functions",
                    "Bookkeeping is more advanced than accounting",
                    "Accounting builds upon the foundation of bookkeeping",
                    "Accounting has replaced bookkeeping"
                ],
                correct: 2
            },
            {
                question: "What is the main output of accounting?",
                options: [
                    "Daily transaction logs",
                    "Financial statements and analysis",
                    "Receipt collections",
                    "Journal entries"
                ],
                correct: 1
            }
        ];

        let userAnswers = {};

        // Track progress through content
        function updateProgress() {
            const sections = document.querySelectorAll('.content-section');
            const scrollPosition = window.scrollY + window.innerHeight / 2;

            let currentSection = 0;
            sections.forEach((section, index) => {
                const rect = section.getBoundingClientRect();
                const absoluteTop = window.scrollY + rect.top;
                if (scrollPosition >= absoluteTop) {
                    currentSection = index + 1;
                }
            });

            const progress = Math.min(100, Math.round((currentSection / sections.length) * 100));
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressPercent').textContent = progress + '%';

            // Update last visited
            const progressData = getProgressData();
            progressData.lastVisited = new Date().toISOString();
            saveProgressData(progressData);
        }

        // Get progress data
        function getProgressData() {
            const data = storage.getItem(`progress_${moduleId}`);
            return data ? JSON.parse(data) : { completed: false, score: 0, quizTaken: false, lastVisited: null };
        }

        // Save progress data
        function saveProgressData(data) {
            storage.setItem(`progress_${moduleId}`, JSON.stringify(data));
        }

        // Render quiz
        function renderQuiz() {
            const container = document.getElementById('quizContainer');
            container.innerHTML = quizData.map((q, qIndex) => `
                <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow">
                    <h3 class="font-semibold text-gray-800 dark:text-white mb-4">${qIndex + 1}. ${q.question}</h3>
                    <div class="space-y-2">
                        ${q.options.map((option, oIndex) => `
                            <label class="quiz-option flex items-center p-4 border-2 border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:border-indigo-500 dark:hover:border-indigo-400 transition">
                                <input type="radio" name="q${qIndex}" value="${oIndex}" class="mr-3 w-4 h-4 text-indigo-600" onchange="saveAnswer(${qIndex}, ${oIndex})">
                                <span class="text-gray-700 dark:text-gray-300">${option}</span>
                            </label>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        // Save answer
        function saveAnswer(questionIndex, answerIndex) {
            userAnswers[questionIndex] = answerIndex;
        }

        // Submit quiz
        function submitQuiz() {
            if (Object.keys(userAnswers).length < quizData.length) {
                showCustomAlert('Please answer all questions before submitting.');
                return;
            }

            let correct = 0;
            quizData.forEach((q, index) => {
                const selected = userAnswers[index];
                const options = document.querySelectorAll(`input[name="q${index}"]`);

                options.forEach((option, oIndex) => {
                    const label = option.closest('label');
                    if (oIndex === q.correct) {
                        label.classList.add('correct');
                    } else if (oIndex === selected && selected !== q.correct) {
                        label.classList.add('incorrect');
                    }
                    option.disabled = true;
                });

                if (selected === q.correct) {
                    correct++;
                }
            });

            const score = Math.round((correct / quizData.length) * 100);

            // Save progress
            const progressData = getProgressData();
            progressData.quizTaken = true;
            progressData.score = score;
            progressData.completed = score >= 60;
            saveProgressData(progressData);

            // Show results
            displayResults(score, correct);
        }

        // Display results
        function displayResults(score, correct) {
            document.getElementById('submitQuiz').classList.add('hidden');
            document.getElementById('quizResults').classList.remove('hidden');

            const scoreTitle = document.getElementById('scoreTitle');
            const scoreDisplay = document.getElementById('scoreDisplay');
            const scoreFeedback = document.getElementById('scoreFeedback');

            scoreDisplay.textContent = `${score}% (${correct}/${quizData.length})`;

            if (score >= 80) {
                scoreTitle.textContent = 'üéâ Excellent!';
                scoreTitle.className = 'text-2xl font-bold mb-2 text-green-600 dark:text-green-400';
                scoreFeedback.textContent = 'Outstanding! You have a strong understanding of the material.';
            } else if (score >= 60) {
                scoreTitle.textContent = '‚úÖ Good Job!';
                scoreTitle.className = 'text-2xl font-bold mb-2 text-blue-600 dark:text-blue-400';
                scoreFeedback.textContent = 'Well done! Consider reviewing the material to strengthen your knowledge.';
            } else {
                scoreTitle.textContent = 'üìö Keep Learning';
                scoreTitle.className = 'text-2xl font-bold mb-2 text-yellow-600 dark:text-yellow-400';
                scoreFeedback.textContent = 'Review the lesson content and try again. You can do it!';
            }

            // Scroll to results
            document.getElementById('quizResults').scrollIntoView({ behavior: 'smooth' });
        }

        // Retake quiz
        function retakeQuiz() {
            userAnswers = {};
            document.getElementById('quizResults').classList.add('hidden');
            document.getElementById('submitQuiz').classList.remove('hidden');
            renderQuiz();
            document.getElementById('quizContainer').scrollIntoView({ behavior: 'smooth' });
        }

        // Custom alert function
        function showCustomAlert(message) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-4';
            modal.innerHTML = `
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-sm w-full">
                    <p class="text-gray-700 dark:text-gray-300 mb-4">${message}</p>
                    <button class="w-full px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700 rounded transition" onclick="this.closest('.fixed').remove()">OK</button>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // Initialize
        renderQuiz();
        window.addEventListener('scroll', updateProgress);
        updateProgress();
    </script>
</body>
</html>