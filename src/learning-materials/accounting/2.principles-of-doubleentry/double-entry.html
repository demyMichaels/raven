<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Double Entry Accounting Master</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/marked@4.0.2/marked.min.js"></script>
    <script src="https://unpkg.com/sortablejs@1.14.0/Sortable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#5D5CDE',
                        secondary: '#9797f0',
                        darkBg: '#181818',
                        darkCard: '#282828',
                        lightCard: '#ffffff',
                        lightBg: '#f5f5f5'
                    },
                    animation: {
                        'bounce-slow': 'bounce 2s infinite',
                    }
                }
            }
        }
    </script>
    <style>
        .tooltip {
            position: relative;
            display: inline-block;
            border-bottom: 1px dotted #ccc;
            cursor: help;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: #555;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        .draggable {
            cursor: grab;
        }

        .draggable:active {
            cursor: grabbing;
        }

        .dark .text-slate-700 {
            color: #e0e0e0;
        }

        .modal {
            transition: opacity 0.25s ease;
        }

        @keyframes confetti {
            0% { transform: translateY(0) rotate(0); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #5D5CDE;
            animation: confetti 3s ease-in-out forwards;
            z-index: 1000;
        }

        .hidden-content {
            display: none;
        }

        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        body {
            overflow-x: hidden;
        }

        /* Ledger styles */
        .ledger-table {
            border-collapse: collapse;
            width: 100%;
        }
        .ledger-table td, .ledger-table th {
            padding: 8px;
            text-align: left;
        }
        .ledger-column {
            width: 48%;
            vertical-align: top;
        }
        .ledger-divider {
            width: 4%;
            border-left: 1px solid #ccc;
            border-right: 1px solid #ccc;
        }
        .dark .ledger-divider {
            border-left: 1px solid #555;
            border-right: 1px solid #555;
        }
    </style>
</head>
<body class="bg-lightBg dark:bg-darkBg text-slate-700 dark:text-gray-200 transition-colors duration-200">
    <!-- Header -->
    <header class="bg-primary text-white p-4 shadow-md">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fas fa-book-open text-2xl"></i>
                <h1 class="text-xl md:text-2xl font-bold">Double Entry Accounting Master</h1>
            </div>
            <div class="flex items-center space-x-4">
                <button id="toggleTheme" class="p-2 rounded-full hover:bg-secondary transition-colors">
                    <i class="fas fa-moon dark:hidden"></i>
                    <i class="fas fa-sun hidden dark:block"></i>
                </button>
                <div class="hidden md:flex items-center space-x-1">
                    <i class="fas fa-trophy text-yellow-300"></i>
                    <span id="totalPoints" class="font-semibold">0</span>
                    <span class="text-sm">points</span>
                </div>
                <div class="hidden md:flex items-center space-x-1">
                    <i class="fas fa-star text-yellow-300"></i>
                    <span id="progressPercent" class="font-semibold">0%</span>
                    <span class="text-sm">complete</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Mobile Progress Bar (only visible on small screens) -->
    <div class="md:hidden bg-white dark:bg-darkCard p-2 shadow">
        <div class="flex justify-between items-center px-4">
            <div class="flex items-center space-x-1">
                <i class="fas fa-trophy text-yellow-300"></i>
                <span id="mobilePoints" class="font-semibold">0</span>
                <span class="text-sm">points</span>
            </div>
            <div class="w-1/2 bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                <div id="mobileProgressBar" class="bg-primary h-2 rounded-full" style="width: 0%"></div>
            </div>
            <div class="flex items-center space-x-1">
                <span id="mobileProgress" class="font-semibold">0%</span>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-6">
        <!-- Welcome Modal -->
        <div id="welcomeModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal">
            <div class="bg-white dark:bg-darkCard rounded-lg shadow-lg max-w-md w-full mx-4 p-6">
                <div class="text-center mb-4">
                    <i class="fas fa-graduation-cap text-5xl text-primary mb-4"></i>
                    <h2 class="text-2xl font-bold">Welcome to Double Entry Accounting Master!</h2>
                </div>
                <p class="mb-4">This interactive app will help you understand and master double entry accounting principles through practice and hands-on activities.</p>
                <p class="mb-4">You'll learn about:</p>
                <ul class="list-disc pl-6 mb-4 space-y-1">
                    <li>Source documents and books of original entry üìÑ</li>
                    <li>The accounting equation and its application ‚öñÔ∏è</li>
                    <li>Ledger classifications and posting entries üìö</li>
                    <li>Creating a trial balance ‚úÖ</li>
                    <li>Identifying and correcting errors üîç</li>
                    <li>Working with suspense accounts üß©</li>
                </ul>
                <p class="mb-4">Complete activities to earn points and track your progress!</p>
                <button id="startLearning" class="w-full bg-primary hover:bg-secondary text-white py-3 px-4 rounded-md font-semibold transition-colors">
                    Start Learning! <i class="fas fa-arrow-right ml-2"></i>
                </button>
            </div>
        </div>

        <!-- Tabs Navigation -->
        <div class="mb-6 overflow-x-auto hide-scrollbar">
            <div class="flex space-x-2 min-w-max">
                <button class="tab-btn active flex items-center space-x-2 bg-white dark:bg-darkCard px-4 py-3 rounded-md font-medium shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors" data-tab="introduction">
                    <i class="fas fa-flag-checkered text-primary"></i>
                    <span>Introduction</span>
                </button>
                <button class="tab-btn flex items-center space-x-2 bg-white dark:bg-darkCard px-4 py-3 rounded-md font-medium shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors" data-tab="source-documents">
                    <i class="fas fa-file-invoice text-primary"></i>
                    <span>Source Documents</span>
                </button>
                <button class="tab-btn flex items-center space-x-2 bg-white dark:bg-darkCard px-4 py-3 rounded-md font-medium shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors" data-tab="accounting-equation">
                    <i class="fas fa-balance-scale text-primary"></i>
                    <span>Accounting Equation</span>
                </button>
                <button class="tab-btn flex items-center space-x-2 bg-white dark:bg-darkCard px-4 py-3 rounded-md font-medium shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors" data-tab="double-entry">
                    <i class="fas fa-exchange-alt text-primary"></i>
                    <span>Double Entry</span>
                </button>
                <button class="tab-btn flex items-center space-x-2 bg-white dark:bg-darkCard px-4 py-3 rounded-md font-medium shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors" data-tab="ledger">
                    <i class="fas fa-book text-primary"></i>
                    <span>Ledger</span>
                </button>
                <button class="tab-btn flex items-center space-x-2 bg-white dark:bg-darkCard px-4 py-3 rounded-md font-medium shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors" data-tab="trial-balance">
                    <i class="fas fa-tasks text-primary"></i>
                    <span>Trial Balance</span>
                </button>
                <button class="tab-btn flex items-center space-x-2 bg-white dark:bg-darkCard px-4 py-3 rounded-md font-medium shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors" data-tab="errors">
                    <i class="fas fa-bug text-primary"></i>
                    <span>Errors</span>
                </button>
                <button class="tab-btn flex items-center space-x-2 bg-white dark:bg-darkCard px-4 py-3 rounded-md font-medium shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors" data-tab="suspense">
                    <i class="fas fa-question-circle text-primary"></i>
                    <span>Suspense Account</span>
                </button>
                <button class="tab-btn flex items-center space-x-2 bg-white dark:bg-darkCard px-4 py-3 rounded-md font-medium shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors" data-tab="final-challenge">
                    <i class="fas fa-trophy text-yellow-500"></i>
                    <span>Final Challenge</span>
                </button>
            </div>
        </div>

        <!-- Tab Content Sections -->
        <div id="tab-content" class="bg-white dark:bg-darkCard rounded-lg shadow-md p-6">
            <!-- Introduction Tab -->
            <div id="introduction" class="tab-content">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-2xl font-bold">Introduction to Double Entry Accounting</h2>
                    <span class="bg-primary text-white px-3 py-1 rounded-full text-sm">Module 1/9</span>
                </div>
                
                <div class="mb-8">
                    <div class="flex items-center mb-4">
                        <div class="bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center mr-3">
                            <i class="fas fa-info"></i>
                        </div>
                        <h3 class="text-xl font-semibold">What is Double Entry Accounting?</h3>
                    </div>
                    <p class="mb-4">Double entry accounting is a system where every financial transaction affects at least two accounts. For every debit, there must be a credit of equal value.</p>
                    
                    <div class="bg-blue-50 dark:bg-gray-700 p-4 rounded-md mb-4 flex items-start">
                        <div class="text-2xl mr-3">üí°</div>
                        <div>
                            <p class="font-semibold">Key Principle:</p>
                            <p>"Every debit must have a credit, and the total debits must equal the total credits."</p>
                        </div>
                    </div>
                    
                    <div class="bg-green-50 dark:bg-gray-700 p-4 rounded-md flex items-start">
                        <div class="text-2xl mr-3">üéØ</div>
                        <div>
                            <p class="font-semibold">Why it matters:</p>
                            <p>This system creates a self-balancing set of accounts that helps detect errors and provides a complete picture of a business's financial position.</p>
                        </div>
                    </div>
                </div>
                
                <div class="mb-8">
                    <div class="flex items-center mb-4">
                        <div class="bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center mr-3">
                            <i class="fas fa-list-ol"></i>
                        </div>
                        <h3 class="text-xl font-semibold">What You'll Learn</h3>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-file-invoice text-primary mr-2"></i>
                                <h4 class="font-semibold">Source Documents</h4>
                            </div>
                            <p class="text-sm">Identify and use business documents that trigger accounting entries</p>
                        </div>
                        
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-book text-primary mr-2"></i>
                                <h4 class="font-semibold">Books of Original Entry</h4>
                            </div>
                            <p class="text-sm">Record transactions in journals before posting to ledgers</p>
                        </div>
                        
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-balance-scale text-primary mr-2"></i>
                                <h4 class="font-semibold">Accounting Equation</h4>
                            </div>
                            <p class="text-sm">Understand Assets = Liabilities + Equity and how transactions affect it</p>
                        </div>
                        
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-exchange-alt text-primary mr-2"></i>
                                <h4 class="font-semibold">Double Entry Principles</h4>
                            </div>
                            <p class="text-sm">Apply debit and credit rules to record financial transactions</p>
                        </div>
                        
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-tasks text-primary mr-2"></i>
                                <h4 class="font-semibold">Trial Balance</h4>
                            </div>
                            <p class="text-sm">Create a list of all accounts with their balances to verify equality</p>
                        </div>
                        
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-bug text-primary mr-2"></i>
                                <h4 class="font-semibold">Error Correction</h4>
                            </div>
                            <p class="text-sm">Identify and fix different types of accounting errors</p>
                        </div>
                    </div>
                </div>
                
                <!-- Knowledge Check -->
                <div class="bg-yellow-50 dark:bg-gray-800 border border-yellow-200 dark:border-gray-700 rounded-lg p-6 mb-6">
                    <div class="flex items-center mb-4">
                        <div class="text-2xl mr-3">üß†</div>
                        <h3 class="text-xl font-semibold">Quick Knowledge Check</h3>
                    </div>
                    
                    <p class="mb-4">Let's see what you already know about double entry accounting!</p>
                    
                    <div class="space-y-4" id="intro-quiz">
                        <div class="p-4 bg-white dark:bg-gray-700 rounded-md">
                            <p class="font-semibold mb-2">1. In double entry accounting, what must always be equal?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="intro-q1" value="a" class="mr-2">
                                    <span>Assets and Liabilities</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="intro-q1" value="b" class="mr-2">
                                    <span>Income and Expenses</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="intro-q1" value="c" class="mr-2">
                                    <span>Debits and Credits</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="intro-q1" value="d" class="mr-2">
                                    <span>Revenue and Capital</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="p-4 bg-white dark:bg-gray-700 rounded-md">
                            <p class="font-semibold mb-2">2. Which document would you check to verify all accounts are in balance?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="intro-q2" value="a" class="mr-2">
                                    <span>Balance Sheet</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="intro-q2" value="b" class="mr-2">
                                    <span>Income Statement</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="intro-q2" value="c" class="mr-2">
                                    <span>Trial Balance</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="intro-q2" value="d" class="mr-2">
                                    <span>Cash Flow Statement</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <button id="check-intro-quiz" class="mt-4 bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors">
                        Check Answers
                    </button>
                    
                    <div id="intro-quiz-result" class="mt-4 hidden"></div>
                </div>
                
                <div class="flex justify-between">
                    <button class="btn-disabled opacity-50 cursor-not-allowed bg-gray-300 dark:bg-gray-600 py-2 px-4 rounded-md">
                        <i class="fas fa-arrow-left mr-2"></i> Previous
                    </button>
                    <button class="next-module bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors" data-next="source-documents">
                        Next: Source Documents <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>

            <!-- Source Documents Tab -->
            <div id="source-documents" class="tab-content hidden">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-2xl font-bold">Source Documents</h2>
                    <span class="bg-primary text-white px-3 py-1 rounded-full text-sm">Module 2/9</span>
                </div>
                
                <div class="mb-6">
                    <div class="flex items-center mb-4">
                        <div class="bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center mr-3">
                            <i class="fas fa-file-invoice"></i>
                        </div>
                        <h3 class="text-xl font-semibold">What are Source Documents?</h3>
                    </div>
                    
                    <p class="mb-4">Source documents are the original records of financial transactions that provide evidence and details needed for accounting entries.</p>
                    
                    <div class="bg-blue-50 dark:bg-gray-700 p-4 rounded-md mb-4 flex items-start">
                        <div class="text-2xl mr-3">üìù</div>
                        <div>
                            <p class="font-semibold">Remember:</p>
                            <p>Source documents are the starting point of the accounting cycle and provide proof that transactions actually occurred.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Interactive Source Documents -->
                <div class="mb-8">
                    <h3 class="text-lg font-semibold mb-4">Common Source Documents</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        <div id="source-docs-container" class="space-y-3">
                            <!-- Document cards will be generated by JS -->
                        </div>
                        
                        <div class="bg-gray-50 dark:bg-gray-800 rounded-lg p-4">
                            <h4 class="font-semibold mb-3">Document Preview</h4>
                            <div id="doc-preview" class="border dark:border-gray-700 rounded-lg p-6 h-80 flex items-center justify-center text-center">
                                <p class="text-gray-500 dark:text-gray-400">üëà Click on a document to see it</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Books of Original Entry -->
                <div class="mb-8">
                    <div class="flex items-center mb-4">
                        <div class="bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center mr-3">
                            <i class="fas fa-book"></i>
                        </div>
                        <h3 class="text-xl font-semibold">Books of Original Entry</h3>
                    </div>
                    
                    <p class="mb-4">Books of original entry (journals) are where transactions are first recorded before being posted to ledger accounts.</p>
                    
                    <div class="bg-orange-50 dark:bg-gray-700 p-4 rounded-md mb-6">
                        <h4 class="font-semibold mb-2">Match Source Documents to Their Books of Original Entry</h4>
                        <p class="mb-4">Drag the source documents on the left to match them with the correct books of original entry on the right.</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div id="source-doc-items" class="space-y-2">
                                <div class="draggable bg-white dark:bg-gray-800 p-3 rounded-md shadow-sm" data-id="invoice">
                                    <div class="flex items-center">
                                        <i class="fas fa-file-invoice text-primary mr-2"></i>
                                        <span>Sales Invoice</span>
                                    </div>
                                </div>
                                <div class="draggable bg-white dark:bg-gray-800 p-3 rounded-md shadow-sm" data-id="receipt">
                                    <div class="flex items-center">
                                        <i class="fas fa-receipt text-primary mr-2"></i>
                                        <span>Cash Receipt</span>
                                    </div>
                                </div>
                                <div class="draggable bg-white dark:bg-gray-800 p-3 rounded-md shadow-sm" data-id="check">
                                    <div class="flex items-center">
                                        <i class="fas fa-money-check text-primary mr-2"></i>
                                        <span>Cheque</span>
                                    </div>
                                </div>
                                <div class="draggable bg-white dark:bg-gray-800 p-3 rounded-md shadow-sm" data-id="note">
                                    <div class="flex items-center">
                                        <i class="fas fa-sticky-note text-primary mr-2"></i>
                                        <span>Credit Note</span>
                                    </div>
                                </div>
                                <div class="draggable bg-white dark:bg-gray-800 p-3 rounded-md shadow-sm" data-id="memo">
                                    <div class="flex items-center">
                                        <i class="fas fa-file-alt text-primary mr-2"></i>
                                        <span>Debit Memo</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="journal-items" class="space-y-2">
                                <div class="droppable bg-gray-100 dark:bg-gray-700 p-3 rounded-md border-2 border-dashed border-gray-300 dark:border-gray-600 min-h-[60px]" data-id="sales">
                                    <div class="flex items-center mb-2">
                                        <i class="fas fa-book text-primary mr-2"></i>
                                        <span class="font-semibold">Sales Journal</span>
                                    </div>
                                    <div class="dropzone"></div>
                                </div>
                                <div class="droppable bg-gray-100 dark:bg-gray-700 p-3 rounded-md border-2 border-dashed border-gray-300 dark:border-gray-600 min-h-[60px]" data-id="cash">
                                    <div class="flex items-center mb-2">
                                        <i class="fas fa-book text-primary mr-2"></i>
                                        <span class="font-semibold">Cash Receipts Journal</span>
                                    </div>
                                    <div class="dropzone"></div>
                                </div>
                                <div class="droppable bg-gray-100 dark:bg-gray-700 p-3 rounded-md border-2 border-dashed border-gray-300 dark:border-gray-600 min-h-[60px]" data-id="payments">
                                    <div class="flex items-center mb-2">
                                        <i class="fas fa-book text-primary mr-2"></i>
                                        <span class="font-semibold">Cash Payments Journal</span>
                                    </div>
                                    <div class="dropzone"></div>
                                </div>
                                <div class="droppable bg-gray-100 dark:bg-gray-700 p-3 rounded-md border-2 border-dashed border-gray-300 dark:border-gray-600 min-h-[60px]" data-id="returns">
                                    <div class="flex items-center mb-2">
                                        <i class="fas fa-book text-primary mr-2"></i>
                                        <span class="font-semibold">Returns Journal</span>
                                    </div>
                                    <div class="dropzone"></div>
                                </div>
                                <div class="droppable bg-gray-100 dark:bg-gray-700 p-3 rounded-md border-2 border-dashed border-gray-300 dark:border-gray-600 min-h-[60px]" data-id="general">
                                    <div class="flex items-center mb-2">
                                        <i class="fas fa-book text-primary mr-2"></i>
                                        <span class="font-semibold">General Journal</span>
                                    </div>
                                    <div class="dropzone"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-4 text-center">
                            <button id="check-docs-matching" class="bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors">
                                Check Answers
                            </button>
                            <button id="reset-docs-matching" class="ml-2 bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 text-gray-800 dark:text-white py-2 px-4 rounded-md transition-colors">
                                Reset
                            </button>
                        </div>
                        
                        <div id="docs-matching-result" class="mt-4 hidden"></div>
                    </div>
                </div>
                
                <!-- Knowledge Check -->
                <div class="bg-yellow-50 dark:bg-gray-800 border border-yellow-200 dark:border-gray-700 rounded-lg p-6 mb-6">
                    <div class="flex items-center mb-4">
                        <div class="text-2xl mr-3">üß†</div>
                        <h3 class="text-xl font-semibold">Knowledge Check</h3>
                    </div>
                    
                    <div class="space-y-4" id="source-docs-quiz">
                        <div class="p-4 bg-white dark:bg-gray-700 rounded-md">
                            <p class="font-semibold mb-2">1. What is the main purpose of source documents?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="docs-q1" value="a" class="mr-2">
                                    <span>To calculate taxes</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="docs-q1" value="b" class="mr-2">
                                    <span>To provide evidence of financial transactions</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="docs-q1" value="c" class="mr-2">
                                    <span>To replace ledger accounts</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="docs-q1" value="d" class="mr-2">
                                    <span>To create financial statements</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="p-4 bg-white dark:bg-gray-700 rounded-md">
                            <p class="font-semibold mb-2">2. Which of the following is NOT a book of original entry?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="docs-q2" value="a" class="mr-2">
                                    <span>Sales Journal</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="docs-q2" value="b" class="mr-2">
                                    <span>Cash Receipts Journal</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="docs-q2" value="c" class="mr-2">
                                    <span>Trial Balance</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="docs-q2" value="d" class="mr-2">
                                    <span>General Journal</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <button id="check-docs-quiz" class="mt-4 bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors">
                        Check Answers
                    </button>
                    
                    <div id="docs-quiz-result" class="mt-4 hidden"></div>
                </div>
                
                <div class="flex justify-between">
                    <button class="prev-module bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 py-2 px-4 rounded-md transition-colors" data-prev="introduction">
                        <i class="fas fa-arrow-left mr-2"></i> Previous: Introduction
                    </button>
                    <button class="next-module bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors" data-next="accounting-equation">
                        Next: Accounting Equation <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>

            <!-- Accounting Equation Tab -->
            <div id="accounting-equation" class="tab-content hidden">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-2xl font-bold">Accounting Equation</h2>
                    <span class="bg-primary text-white px-3 py-1 rounded-full text-sm">Module 3/9</span>
                </div>
                
                <div class="mb-6">
                    <div class="flex items-center mb-4">
                        <div class="bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center mr-3">
                            <i class="fas fa-balance-scale"></i>
                        </div>
                        <h3 class="text-xl font-semibold">The Fundamental Accounting Equation</h3>
                    </div>
                    
                    <div class="text-center py-6">
                        <div class="text-2xl md:text-3xl font-bold mb-4">Assets = Liabilities + Equity</div>
                        <p class="mb-2 text-lg">This equation is the foundation of double entry accounting.</p>
                        <p>Every transaction must keep this equation in balance.</p>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                        <div class="bg-blue-50 dark:bg-gray-700 p-4 rounded-md">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-coins text-yellow-500 mr-2"></i>
                                <h4 class="font-semibold">Assets</h4>
                            </div>
                            <p class="text-sm">Resources owned by the business that have economic value</p>
                            <p class="text-xs mt-2 italic">Examples: Cash, Inventory, Equipment, Accounts Receivable</p>
                        </div>
                        
                        <div class="bg-red-50 dark:bg-gray-700 p-4 rounded-md">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-hand-holding-usd text-red-500 mr-2"></i>
                                <h4 class="font-semibold">Liabilities</h4>
                            </div>
                            <p class="text-sm">Obligations or debts that the business owes to others</p>
                            <p class="text-xs mt-2 italic">Examples: Loans, Accounts Payable, Taxes Payable</p>
                        </div>
                        
                        <div class="bg-green-50 dark:bg-gray-700 p-4 rounded-md">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-chart-pie text-green-500 mr-2"></i>
                                <h4 class="font-semibold">Equity</h4>
                            </div>
                            <p class="text-sm">Owner's investment in the business (assets minus liabilities)</p>
                            <p class="text-xs mt-2 italic">Examples: Capital, Retained Earnings, Common Stock</p>
                        </div>
                    </div>
                </div>
                
                <!-- Interactive Equation Simulator -->
                <div class="mb-8 bg-white dark:bg-gray-800 p-5 rounded-lg border dark:border-gray-700 shadow-sm">
                    <h3 class="text-lg font-semibold mb-4">Interactive Equation Simulator</h3>
                    <p class="mb-4">See how different transactions affect the accounting equation.</p>
                    
                    <div class="mb-6">
                        <canvas id="equation-chart" height="100"></canvas>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block mb-2 font-semibold">Select a transaction:</label>
                        <select id="transaction-selector" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base">
                            <option value="initial">Initial state: A=$10,000, L=$4,000, E=$6,000</option>
                            <option value="cash-purchase">Purchase equipment for $2,000 cash</option>
                            <option value="credit-purchase">Purchase inventory for $3,000 on credit</option>
                            <option value="investment">Owner invests $5,000 in the business</option>
                            <option value="revenue">Earn $1,000 revenue in cash</option>
                            <option value="expense">Pay $500 for office supplies (expense)</option>
                            <option value="loan">Take out a loan for $4,000</option>
                            <option value="pay-debt">Pay off $2,000 of debt</option>
                        </select>
                    </div>
                    
                    <div id="transaction-effect" class="bg-gray-50 dark:bg-gray-700 p-4 rounded-md">
                        <p>Select a transaction to see its effect on the accounting equation.</p>
                    </div>
                </div>
                
                <!-- Knowledge Check -->
                <div class="bg-yellow-50 dark:bg-gray-800 border border-yellow-200 dark:border-gray-700 rounded-lg p-6 mb-6">
                    <div class="flex items-center mb-4">
                        <div class="text-2xl mr-3">üß†</div>
                        <h3 class="text-xl font-semibold">Knowledge Check</h3>
                    </div>
                    
                    <div class="space-y-4" id="equation-quiz">
                        <div class="p-4 bg-white dark:bg-gray-700 rounded-md">
                            <p class="font-semibold mb-2">1. If a business has assets of $50,000 and liabilities of $30,000, what is the owner's equity?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="eq-q1" value="a" class="mr-2">
                                    <span>$80,000</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="eq-q1" value="b" class="mr-2">
                                    <span>$20,000</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="eq-q1" value="c" class="mr-2">
                                    <span>$30,000</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="eq-q1" value="d" class="mr-2">
                                    <span>$50,000</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="p-4 bg-white dark:bg-gray-700 rounded-md">
                            <p class="font-semibold mb-2">2. When a business takes out a loan, which elements of the accounting equation change?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="eq-q2" value="a" class="mr-2">
                                    <span>Assets increase, Equity increases</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="eq-q2" value="b" class="mr-2">
                                    <span>Assets increase, Liabilities increase</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="eq-q2" value="c" class="mr-2">
                                    <span>Liabilities increase, Equity decreases</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="eq-q2" value="d" class="mr-2">
                                    <span>Assets decrease, Liabilities increase</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="p-4 bg-white dark:bg-gray-700 rounded-md">
                            <p class="font-semibold mb-2">3. A business pays $1,000 in rent. How does this transaction affect the accounting equation?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="eq-q3" value="a" class="mr-2">
                                    <span>Assets decrease by $1,000, Equity decreases by $1,000</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="eq-q3" value="b" class="mr-2">
                                    <span>Assets decrease by $1,000, Liabilities decrease by $1,000</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="eq-q3" value="c" class="mr-2">
                                    <span>Liabilities increase by $1,000, Equity decreases by $1,000</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="eq-q3" value="d" class="mr-2">
                                    <span>Assets increase by $1,000, Equity increases by $1,000</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <button id="check-equation-quiz" class="mt-4 bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors">
                        Check Answers
                    </button>
                    
                    <div id="equation-quiz-result" class="mt-4 hidden"></div>
                </div>
                
                <div class="flex justify-between">
                    <button class="prev-module bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 py-2 px-4 rounded-md transition-colors" data-prev="source-documents">
                        <i class="fas fa-arrow-left mr-2"></i> Previous: Source Documents
                    </button>
                    <button class="next-module bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors" data-next="double-entry">
                        Next: Double Entry <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>

            <!-- Double Entry Tab -->
            <div id="double-entry" class="tab-content hidden">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-2xl font-bold">Double Entry Principles</h2>
                    <span class="bg-primary text-white px-3 py-1 rounded-full text-sm">Module 4/9</span>
                </div>
                
                <div class="mb-6">
                    <div class="flex items-center mb-4">
                        <div class="bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center mr-3">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        <h3 class="text-xl font-semibold">The Double Entry System</h3>
                    </div>
                    
                    <p class="mb-4">In double entry accounting, every transaction affects at least two accounts. Each transaction is recorded with equal debits and credits.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-blue-50 dark:bg-gray-700 p-4 rounded-md">
                            <h4 class="font-semibold mb-2">Debit Rules (DR) <span class="tooltip">‚ìò<span class="tooltiptext">Debits are recorded on the left side of the account</span></span></h4>
                            <ul class="list-disc pl-5 space-y-1">
                                <li>Increase Asset accounts</li>
                                <li>Increase Expense accounts</li>
                                <li>Decrease Liability accounts</li>
                                <li>Decrease Equity accounts</li>
                                <li>Decrease Revenue accounts</li>
                            </ul>
                        </div>
                        
                        <div class="bg-red-50 dark:bg-gray-700 p-4 rounded-md">
                            <h4 class="font-semibold mb-2">Credit Rules (CR) <span class="tooltip">‚ìò<span class="tooltiptext">Credits are recorded on the right side of the account</span></span></h4>
                            <ul class="list-disc pl-5 space-y-1">
                                <li>Decrease Asset accounts</li>
                                <li>Decrease Expense accounts</li>
                                <li>Increase Liability accounts</li>
                                <li>Increase Equity accounts</li>
                                <li>Increase Revenue accounts</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="bg-green-50 dark:bg-gray-700 p-4 rounded-md mb-6">
                        <div class="flex items-start">
                            <div class="text-2xl mr-3">üí°</div>
                            <div>
                                <p class="font-semibold">Key Principle:</p>
                                <p>Remember the accounting equation: Assets = Liabilities + Equity</p>
                                <p class="mt-2 text-sm">
                                    - When assets increase, they're debited<br>
                                    - When liabilities or equity increase, they're credited
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Transaction Examples -->
                <div class="mb-8">
                    <h3 class="text-lg font-semibold mb-4">Transaction Examples</h3>
                    
                    <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg overflow-hidden">
                        <div class="flex border-b dark:border-gray-700">
                            <button class="transaction-tab w-1/3 py-3 px-4 font-medium transition-colors text-primary border-primary border-b-2" data-tab="transaction1">
                                Example 1
                            </button>
                            <button class="transaction-tab w-1/3 py-3 px-4 font-medium transition-colors" data-tab="transaction2">
                                Example 2
                            </button>
                            <button class="transaction-tab w-1/3 py-3 px-4 font-medium transition-colors" data-tab="transaction3">
                                Example 3
                            </button>
                        </div>
                        
                        <div id="transaction1" class="transaction-content p-4">
                            <div class="mb-4">
                                <strong>Transaction:</strong> Purchased office supplies for $500 cash
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div class="border dark:border-gray-700 rounded-md p-3">
                                    <div class="font-semibold mb-2">Analysis:</div>
                                    <p>- Office Supplies (Asset) increases by $500</p>
                                    <p>- Cash (Asset) decreases by $500</p>
                                </div>
                                
                                <div class="border dark:border-gray-700 rounded-md p-3">
                                    <div class="font-semibold mb-2">Journal Entry:</div>
                                    <p>Dr. Office Supplies (Asset) &nbsp;&nbsp;&nbsp;&nbsp; $500</p>
                                    <p>&nbsp;&nbsp; Cr. Cash (Asset) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $500</p>
                                </div>
                            </div>
                            
                            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-md">
                                <div class="font-semibold mb-2">Effect on Accounting Equation:</div>
                                <p>Assets = Liabilities + Equity</p>
                                <p>$0 = $0 + $0 (Office Supplies +$500, Cash -$500)</p>
                                <p class="text-sm mt-1">The accounting equation remains balanced as one asset increases and another decreases by the same amount.</p>
                            </div>
                        </div>
                        
                        <div id="transaction2" class="transaction-content p-4 hidden">
                            <div class="mb-4">
                                <strong>Transaction:</strong> Received $2,000 cash from clients for services
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div class="border dark:border-gray-700 rounded-md p-3">
                                    <div class="font-semibold mb-2">Analysis:</div>
                                    <p>- Cash (Asset) increases by $2,000</p>
                                    <p>- Service Revenue (Equity) increases by $2,000</p>
                                </div>
                                
                                <div class="border dark:border-gray-700 rounded-md p-3">
                                    <div class="font-semibold mb-2">Journal Entry:</div>
                                    <p>Dr. Cash (Asset) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $2,000</p>
                                    <p>&nbsp;&nbsp; Cr. Service Revenue (Equity) &nbsp;&nbsp; $2,000</p>
                                </div>
                            </div>
                            
                            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-md">
                                <div class="font-semibold mb-2">Effect on Accounting Equation:</div>
                                <p>Assets = Liabilities + Equity</p>
                                <p>+$2,000 = $0 + +$2,000</p>
                                <p class="text-sm mt-1">The accounting equation remains balanced as assets and equity both increase by $2,000.</p>
                            </div>
                        </div>
                        
                        <div id="transaction3" class="transaction-content p-4 hidden">
                            <div class="mb-4">
                                <strong>Transaction:</strong> Purchased equipment for $10,000 on credit
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div class="border dark:border-gray-700 rounded-md p-3">
                                    <div class="font-semibold mb-2">Analysis:</div>
                                    <p>- Equipment (Asset) increases by $10,000</p>
                                    <p>- Accounts Payable (Liability) increases by $10,000</p>
                                </div>
                                
                                <div class="border dark:border-gray-700 rounded-md p-3">
                                    <div class="font-semibold mb-2">Journal Entry:</div>
                                    <p>Dr. Equipment (Asset) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $10,000</p>
                                    <p>&nbsp;&nbsp; Cr. Accounts Payable (Liability) &nbsp;&nbsp; $10,000</p>
                                </div>
                            </div>
                            
                            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-md">
                                <div class="font-semibold mb-2">Effect on Accounting Equation:</div>
                                <p>Assets = Liabilities + Equity</p>
                                <p>+$10,000 = +$10,000 + $0</p>
                                <p class="text-sm mt-1">The accounting equation remains balanced as assets and liabilities both increase by $10,000.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Practice Exercise -->
                <div class="mb-8 bg-orange-50 dark:bg-gray-800 border border-orange-200 dark:border-gray-700 rounded-lg p-6">
                    <h3 class="text-lg font-semibold mb-4">üí™ Practice: Record the Journal Entries</h3>
                    
                    <div class="mb-6">
                        <div class="font-semibold mb-2">Transaction:</div>
                        <p class="mb-4">Company XYZ purchased a delivery van for $20,000, paying $5,000 in cash and signing a note payable for the remaining $15,000.</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block mb-2">First Account to Debit:</label>
                                <select id="practice-debit1-account" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base">
                                    <option value="">Select Account</option>
                                    <option value="vehicle">Vehicle (Asset)</option>
                                    <option value="cash">Cash (Asset)</option>
                                    <option value="note">Notes Payable (Liability)</option>
                                    <option value="expense">Vehicle Expense</option>
                                </select>
                            </div>
                            <div>
                                <label class="block mb-2">Amount:</label>
                                <input type="number" id="practice-debit1-amount" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base" placeholder="Enter amount">
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block mb-2">First Account to Credit:</label>
                                <select id="practice-credit1-account" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base">
                                    <option value="">Select Account</option>
                                    <option value="vehicle">Vehicle (Asset)</option>
                                    <option value="cash">Cash (Asset)</option>
                                    <option value="note">Notes Payable (Liability)</option>
                                    <option value="expense">Vehicle Expense</option>
                                </select>
                            </div>
                            <div>
                                <label class="block mb-2">Amount:</label>
                                <input type="number" id="practice-credit1-amount" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base" placeholder="Enter amount">
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block mb-2">Second Account to Credit:</label>
                                <select id="practice-credit2-account" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base">
                                    <option value="">Select Account</option>
                                    <option value="vehicle">Vehicle (Asset)</option>
                                    <option value="cash">Cash (Asset)</option>
                                    <option value="note">Notes Payable (Liability)</option>
                                    <option value="expense">Vehicle Expense</option>
                                </select>
                            </div>
                            <div>
                                <label class="block mb-2">Amount:</label>
                                <input type="number" id="practice-credit2-amount" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base" placeholder="Enter amount">
                            </div>
                        </div>
                    </div>
                    
                    <button id="check-journal-entry" class="bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors">
                        Check My Entry
                    </button>
                    
                    <div id="journal-entry-result" class="mt-4 hidden"></div>
                </div>
                
                <!-- Knowledge Check -->
                <div class="bg-yellow-50 dark:bg-gray-800 border border-yellow-200 dark:border-gray-700 rounded-lg p-6 mb-6">
                    <div class="flex items-center mb-4">
                        <div class="text-2xl mr-3">üß†</div>
                        <h3 class="text-xl font-semibold">Knowledge Check</h3>
                    </div>
                    
                    <div class="space-y-4" id="double-entry-quiz">
                        <div class="p-4 bg-white dark:bg-gray-700 rounded-md">
                            <p class="font-semibold mb-2">1. When a business owner withdraws cash for personal use, which accounts are affected?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="de-q1" value="a" class="mr-2">
                                    <span>Dr. Cash, Cr. Owner's Equity</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="de-q1" value="b" class="mr-2">
                                    <span>Dr. Owner's Drawings, Cr. Cash</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="de-q1" value="c" class="mr-2">
                                    <span>Dr. Expenses, Cr. Cash</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="de-q1" value="d" class="mr-2">
                                    <span>Dr. Cash, Cr. Revenue</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="p-4 bg-white dark:bg-gray-700 rounded-md">
                            <p class="font-semibold mb-2">2. A business pays $1,000 for rent. Which of the following correctly describes the journal entry?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="de-q2" value="a" class="mr-2">
                                    <span>Dr. Rent Expense $1,000, Cr. Cash $1,000</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="de-q2" value="b" class="mr-2">
                                    <span>Dr. Cash $1,000, Cr. Rent Expense $1,000</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="de-q2" value="c" class="mr-2">
                                    <span>Dr. Rent Expense $1,000, Cr. Accounts Payable $1,000</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="de-q2" value="d" class="mr-2">
                                    <span>Dr. Rent Asset $1,000, Cr. Cash $1,000</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <button id="check-double-entry-quiz" class="mt-4 bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors">
                        Check Answers
                    </button>
                    
                    <div id="double-entry-quiz-result" class="mt-4 hidden"></div>
                </div>
                
                <div class="flex justify-between">
                    <button class="prev-module bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 py-2 px-4 rounded-md transition-colors" data-prev="accounting-equation">
                        <i class="fas fa-arrow-left mr-2"></i> Previous: Accounting Equation
                    </button>
                    <button class="next-module bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors" data-next="ledger">
                        Next: Ledger <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>

            <!-- Ledger Tab -->
            <div id="ledger" class="tab-content hidden">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-2xl font-bold">Ledger and Classifications</h2>
                    <span class="bg-primary text-white px-3 py-1 rounded-full text-sm">Module 5/9</span>
                </div>
                
                <div class="mb-6">
                    <div class="flex items-center mb-4">
                        <div class="bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center mr-3">
                            <i class="fas fa-book"></i>
                        </div>
                        <h3 class="text-xl font-semibold">What is a Ledger?</h3>
                    </div>
                    
                    <p class="mb-4">A ledger is a record-keeping system that contains all accounts used by a business. It's the second step in the accounting cycle after recording transactions in journals.</p>
                    
                    <div class="bg-blue-50 dark:bg-gray-700 p-4 rounded-md mb-6 flex items-start">
                        <div class="text-2xl mr-3">üìí</div>
                        <div>
                            <p class="font-semibold">Remember:</p>
                            <p>The process of transferring entries from the journal to the ledger is called "posting."</p>
                        </div>
                    </div>
                </div>
                
                <!-- Types of Ledgers -->
                <div class="mb-8">
                    <h3 class="text-lg font-semibold mb-4">Types of Ledgers</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm">
                            <div class="flex items-center mb-3">
                                <i class="fas fa-book text-primary mr-2"></i>
                                <h4 class="font-semibold">General Ledger</h4>
                            </div>
                            <p class="mb-2">Contains all accounts used by the business, including assets, liabilities, equity, revenue, and expenses.</p>
                            <p class="text-sm italic">Example: Cash account, Accounts Receivable, Equipment, etc.</p>
                        </div>
                        
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm">
                            <div class="flex items-center mb-3">
                                <i class="fas fa-book text-primary mr-2"></i>
                                <h4 class="font-semibold">Subsidiary Ledger</h4>
                            </div>
                            <p class="mb-2">Contains detailed accounts that support control accounts in the general ledger.</p>
                            <p class="text-sm italic">Example: Individual customer accounts that make up Accounts Receivable.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Account Classifications -->
                <div class="mb-8">
                    <h3 class="text-lg font-semibold mb-4">Account Classifications</h3>
                    
                    <div class="overflow-x-auto">
                        <table class="w-full min-w-[600px] border-collapse">
                            <thead>
                                <tr class="bg-gray-100 dark:bg-gray-700">
                                    <th class="border dark:border-gray-600 p-3 text-left">Classification</th>
                                    <th class="border dark:border-gray-600 p-3 text-left">Type</th>
                                    <th class="border dark:border-gray-600 p-3 text-left">Normal Balance</th>
                                    <th class="border dark:border-gray-600 p-3 text-left">Examples</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Assets</td>
                                    <td class="border dark:border-gray-600 p-3">Real</td>
                                    <td class="border dark:border-gray-600 p-3">Debit</td>
                                    <td class="border dark:border-gray-600 p-3">Cash, Inventory, Equipment</td>
                                </tr>
                                <tr class="bg-gray-50 dark:bg-gray-700">
                                    <td class="border dark:border-gray-600 p-3">Liabilities</td>
                                    <td class="border dark:border-gray-600 p-3">Real</td>
                                    <td class="border dark:border-gray-600 p-3">Credit</td>
                                    <td class="border dark:border-gray-600 p-3">Accounts Payable, Loans</td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Equity</td>
                                    <td class="border dark:border-gray-600 p-3">Real</td>
                                    <td class="border dark:border-gray-600 p-3">Credit</td>
                                    <td class="border dark:border-gray-600 p-3">Capital, Retained Earnings</td>
                                </tr>
                                <tr class="bg-gray-50 dark:bg-gray-700">
                                    <td class="border dark:border-gray-600 p-3">Revenue</td>
                                    <td class="border dark:border-gray-600 p-3">Nominal</td>
                                    <td class="border dark:border-gray-600 p-3">Credit</td>
                                    <td class="border dark:border-gray-600 p-3">Sales, Service Revenue</td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Expenses</td>
                                    <td class="border dark:border-gray-600 p-3">Nominal</td>
                                    <td class="border dark:border-gray-600 p-3">Debit</td>
                                    <td class="border dark:border-gray-600 p-3">Rent, Utilities, Salaries</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="mt-4 text-sm">
                        <p><strong>Real Accounts:</strong> Permanent accounts that appear on the balance sheet.</p>
                        <p><strong>Nominal Accounts:</strong> Temporary accounts that are closed at the end of each accounting period.</p>
                    </div>
                </div>
                
                <!-- T-Account Structure -->
                <div class="mb-8">
                    <h3 class="text-lg font-semibold mb-4">T-Account Structure</h3>
                    <p class="mb-4">T-accounts are a visual representation of individual ledger accounts, named for their T-shape.</p>
                    
                    <div class="border dark:border-gray-700 rounded-lg p-4 mb-6">
                        <div class="text-center font-semibold border-b dark:border-gray-700 pb-2 mb-4">Cash</div>
                        <div class="flex">
                            <div class="w-1/2 border-r dark:border-gray-700 p-2">
                                <div class="text-center font-semibold mb-2">Debit (Dr)</div>
                                <ul class="list-none space-y-1">
                                    <li>Increases</li>
                                    <li>+$1,000 (Initial investment)</li>
                                    <li>+$500 (Sales)</li>
                                </ul>
                            </div>
                            <div class="w-1/2 p-2">
                                <div class="text-center font-semibold mb-2">Credit (Cr)</div>
                                <ul class="list-none space-y-1">
                                    <li>Decreases</li>
                                    <li>-$200 (Rent payment)</li>
                                    <li>-$150 (Supplies purchase)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Interactive T-Account Practice -->
                <div class="mb-8 bg-orange-50 dark:bg-gray-800 border border-orange-200 dark:border-gray-700 rounded-lg p-6">
                    <h3 class="text-lg font-semibold mb-4">üí™ Practice: Post to T-Accounts</h3>
                    
                    <div class="mb-4">
                        <p class="font-semibold">Transaction:</p>
                        <p>Purchased office equipment for $2,000, paying $800 in cash and charging $1,200 on account.</p>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                        <div>
                            <div class="border dark:border-gray-700 rounded-lg overflow-hidden">
                                <div class="text-center font-semibold border-b dark:border-gray-700 py-2 bg-gray-50 dark:bg-gray-700">Equipment</div>
                                <div class="flex">
                                    <div class="w-1/2 border-r dark:border-gray-700 p-2">
                                        <div class="text-center text-sm mb-2">Debit</div>
                                        <input type="number" id="t-account-1-debit" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base" placeholder="Amount">
                                    </div>
                                    <div class="w-1/2 p-2">
                                        <div class="text-center text-sm mb-2">Credit</div>
                                        <input type="number" id="t-account-1-credit" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base" placeholder="Amount">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <div class="border dark:border-gray-700 rounded-lg overflow-hidden">
                                <div class="text-center font-semibold border-b dark:border-gray-700 py-2 bg-gray-50 dark:bg-gray-700">Cash</div>
                                <div class="flex">
                                    <div class="w-1/2 border-r dark:border-gray-700 p-2">
                                        <div class="text-center text-sm mb-2">Debit</div>
                                        <input type="number" id="t-account-2-debit" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base" placeholder="Amount">
                                    </div>
                                    <div class="w-1/2 p-2">
                                        <div class="text-center text-sm mb-2">Credit</div>
                                        <input type="number" id="t-account-2-credit" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base" placeholder="Amount">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <div class="border dark:border-gray-700 rounded-lg overflow-hidden">
                                <div class="text-center font-semibold border-b dark:border-gray-700 py-2 bg-gray-50 dark:bg-gray-700">Accounts Payable</div>
                                <div class="flex">
                                    <div class="w-1/2 border-r dark:border-gray-700 p-2">
                                        <div class="text-center text-sm mb-2">Debit</div>
                                        <input type="number" id="t-account-3-debit" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base" placeholder="Amount">
                                    </div>
                                    <div class="w-1/2 p-2">
                                        <div class="text-center text-sm mb-2">Credit</div>
                                        <input type="number" id="t-account-3-credit" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base" placeholder="Amount">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <button id="check-t-accounts" class="bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors">
                        Check My Entries
                    </button>
                    
                    <div id="t-accounts-result" class="mt-4 hidden"></div>
                </div>
                
                <!-- Interactive Posting Exercise -->
                <div class="mb-8 bg-gray-50 dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-6">
                    <h3 class="text-lg font-semibold mb-4">Ledger Format and Posting</h3>
                    
                    <div class="overflow-x-auto mb-4">
                        <table class="w-full min-w-[600px] border-collapse">
                            <thead>
                                <tr class="bg-gray-100 dark:bg-gray-700">
                                    <th colspan="5" class="border dark:border-gray-600 p-3 text-center font-semibold">General Journal</th>
                                </tr>
                                <tr class="bg-gray-100 dark:bg-gray-700">
                                    <th class="border dark:border-gray-600 p-3 text-left">Date</th>
                                    <th class="border dark:border-gray-600 p-3 text-left">Account Titles and Description</th>
                                    <th class="border dark:border-gray-600 p-3 text-center">PR</th>
                                    <th class="border dark:border-gray-600 p-3 text-right">Debit</th>
                                    <th class="border dark:border-gray-600 p-3 text-right">Credit</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Jan 5</td>
                                    <td class="border dark:border-gray-600 p-3">Rent Expense</td>
                                    <td class="border dark:border-gray-600 p-3 text-center">512</td>
                                    <td class="border dark:border-gray-600 p-3 text-right">1,200</td>
                                    <td class="border dark:border-gray-600 p-3"></td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3"></td>
                                    <td class="border dark:border-gray-600 p-3 pl-8">Cash</td>
                                    <td class="border dark:border-gray-600 p-3 text-center">101</td>
                                    <td class="border dark:border-gray-600 p-3"></td>
                                    <td class="border dark:border-gray-600 p-3 text-right">1,200</td>
                                </tr>
                                <tr class="bg-gray-50 dark:bg-gray-700">
                                    <td class="border dark:border-gray-600 p-3" colspan="5"><em>Paid monthly rent</em></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-4">
                        <div>
                            <h4 class="font-semibold mb-2">Cash Account (101)</h4>
                            <table class="w-full border-collapse ledger-table">
                                <thead>
                                    <tr class="bg-gray-100 dark:bg-gray-700">
                                        <th class="border dark:border-gray-600 p-2 text-left">Date</th>
                                        <th class="border dark:border-gray-600 p-2 text-left">Description</th>
                                        <th class="border dark:border-gray-600 p-2 text-center">PR</th>
                                        <th class="border dark:border-gray-600 p-2 text-right">Debit</th>
                                        <th class="border dark:border-gray-600 p-2 text-right">Credit</th>
                                        <th class="border dark:border-gray-600 p-2 text-right">Balance</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="bg-white dark:bg-gray-800">
                                        <td class="border dark:border-gray-600 p-2">Jan 1</td>
                                        <td class="border dark:border-gray-600 p-2">Balance</td>
                                        <td class="border dark:border-gray-600 p-2 text-center"></td>
                                        <td class="border dark:border-gray-600 p-2 text-right"></td>
                                        <td class="border dark:border-gray-600 p-2 text-right"></td>
                                        <td class="border dark:border-gray-600 p-2 text-right">10,000</td>
                                    </tr>
                                    <tr class="bg-white dark:bg-gray-800">
                                        <td class="border dark:border-gray-600 p-2">Jan 5</td>
                                        <td class="border dark:border-gray-600 p-2">Rent Payment</td>
                                        <td class="border dark:border-gray-600 p-2 text-center">GJ1</td>
                                        <td class="border dark:border-gray-600 p-2 text-right"></td>
                                        <td class="border dark:border-gray-600 p-2 text-right">1,200</td>
                                        <td class="border dark:border-gray-600 p-2 text-right">8,800</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div>
                            <h4 class="font-semibold mb-2">Rent Expense Account (512)</h4>
                            <table class="w-full border-collapse ledger-table">
                                <thead>
                                    <tr class="bg-gray-100 dark:bg-gray-700">
                                        <th class="border dark:border-gray-600 p-2 text-left">Date</th>
                                        <th class="border dark:border-gray-600 p-2 text-left">Description</th>
                                        <th class="border dark:border-gray-600 p-2 text-center">PR</th>
                                        <th class="border dark:border-gray-600 p-2 text-right">Debit</th>
                                        <th class="border dark:border-gray-600 p-2 text-right">Credit</th>
                                        <th class="border dark:border-gray-600 p-2 text-right">Balance</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="bg-white dark:bg-gray-800">
                                        <td class="border dark:border-gray-600 p-2">Jan 1</td>
                                        <td class="border dark:border-gray-600 p-2">Balance</td>
                                        <td class="border dark:border-gray-600 p-2 text-center"></td>
                                        <td class="border dark:border-gray-600 p-2 text-right"></td>
                                        <td class="border dark:border-gray-600 p-2 text-right"></td>
                                        <td class="border dark:border-gray-600 p-2 text-right">0</td>
                                    </tr>
                                    <tr class="bg-white dark:bg-gray-800">
                                        <td class="border dark:border-gray-600 p-2">Jan 5</td>
                                        <td class="border dark:border-gray-600 p-2">Rent Payment</td>
                                        <td class="border dark:border-gray-600 p-2 text-center">GJ1</td>
                                        <td class="border dark:border-gray-600 p-2 text-right">1,200</td>
                                        <td class="border dark:border-gray-600 p-2 text-right"></td>
                                        <td class="border dark:border-gray-600 p-2 text-right">1,200</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="bg-blue-50 dark:bg-gray-700 p-4 rounded-md">
                        <div class="flex items-start">
                            <div class="text-2xl mr-3">üìù</div>
                            <div>
                                <p class="font-semibold">Posting Process:</p>
                                <ol class="list-decimal pl-5 space-y-1 mt-2">
                                    <li>Enter the date in the ledger account</li>
                                    <li>Enter a description for the transaction</li>
                                    <li>In the PR (Post Reference) column, enter the journal page number</li>
                                    <li>Enter the debit or credit amount in the appropriate column</li>
                                    <li>Calculate and enter the new account balance</li>
                                    <li>Return to the journal and enter the ledger account number in the PR column</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Knowledge Check -->
                <div class="bg-yellow-50 dark:bg-gray-800 border border-yellow-200 dark:border-gray-700 rounded-lg p-6 mb-6">
                    <div class="flex items-center mb-4">
                        <div class="text-2xl mr-3">üß†</div>
                        <h3 class="text-xl font-semibold">Knowledge Check</h3>
                    </div>
                    
                    <div class="space-y-4" id="ledger-quiz">
                        <div class="p-4 bg-white dark:bg-gray-700 rounded-md">
                            <p class="font-semibold mb-2">1. Which of the following accounts would appear in a trial balance but NOT in a subsidiary ledger?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="ledger-q1" value="a" class="mr-2">
                                    <span>Cash</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="ledger-q1" value="b" class="mr-2">
                                    <span>Customer X's Account</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="ledger-q1" value="c" class="mr-2">
                                    <span>Supplier Y's Account</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="ledger-q1" value="d" class="mr-2">
                                    <span>Employee Z's Payroll</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="p-4 bg-white dark:bg-gray-700 rounded-md">
                            <p class="font-semibold mb-2">2. What is the normal balance side for an expense account?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="ledger-q2" value="a" class="mr-2">
                                    <span>Debit</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="ledger-q2" value="b" class="mr-2">
                                    <span>Credit</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="ledger-q2" value="c" class="mr-2">
                                    <span>Both debit and credit</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="ledger-q2" value="d" class="mr-2">
                                    <span>Neither debit nor credit</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <button id="check-ledger-quiz" class="mt-4 bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors">
                        Check Answers
                    </button>
                    
                    <div id="ledger-quiz-result" class="mt-4 hidden"></div>
                </div>
                
                <div class="flex justify-between">
                    <button class="prev-module bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 py-2 px-4 rounded-md transition-colors" data-prev="double-entry">
                        <i class="fas fa-arrow-left mr-2"></i> Previous: Double Entry
                    </button>
                    <button class="next-module bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors" data-next="trial-balance">
                        Next: Trial Balance <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>

            <!-- Trial Balance Tab -->
            <div id="trial-balance" class="tab-content hidden">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-2xl font-bold">Trial Balance</h2>
                    <span class="bg-primary text-white px-3 py-1 rounded-full text-sm">Module 6/9</span>
                </div>
                
                <div class="mb-6">
                    <div class="flex items-center mb-4">
                        <div class="bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center mr-3">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <h3 class="text-xl font-semibold">What is a Trial Balance?</h3>
                    </div>
                    
                    <p class="mb-4">A trial balance is a list of all accounts with their debit or credit balances to verify that debits equal credits. It's a crucial step before preparing financial statements.</p>
                    
                    <div class="bg-blue-50 dark:bg-gray-700 p-4 rounded-md mb-6 flex items-start">
                        <div class="text-2xl mr-3">‚úÖ</div>
                        <div>
                            <p class="font-semibold">Purpose of a Trial Balance:</p>
                            <ul class="list-disc pl-5 space-y-1 mt-2">
                                <li>To check the mathematical accuracy of the ledger</li>
                                <li>To detect errors in journalizing and posting</li>
                                <li>To provide account balances for financial statement preparation</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- Sample Trial Balance -->
                <div class="mb-8">
                    <h3 class="text-lg font-semibold mb-4">Sample Trial Balance</h3>
                    
                    <div class="overflow-x-auto mb-6">
                        <table class="w-full min-w-[600px] border-collapse">
                            <thead>
                                <tr class="bg-gray-100 dark:bg-gray-700">
                                    <th colspan="3" class="border dark:border-gray-600 p-3 text-center font-semibold">Smith Company<br>Trial Balance<br>December 31, 2023</th>
                                </tr>
                                <tr class="bg-gray-100 dark:bg-gray-700">
                                    <th class="border dark:border-gray-600 p-3 text-left">Account</th>
                                    <th class="border dark:border-gray-600 p-3 text-right">Debit ($)</th>
                                    <th class="border dark:border-gray-600 p-3 text-right">Credit ($)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Cash</td>
                                    <td class="border dark:border-gray-600 p-3 text-right">15,000</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Accounts Receivable</td>
                                    <td class="border dark:border-gray-600 p-3 text-right">8,500</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Supplies</td>
                                    <td class="border dark:border-gray-600 p-3 text-right">2,000</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Equipment</td>
                                    <td class="border dark:border-gray-600 p-3 text-right">25,000</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Accounts Payable</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                    <td class="border dark:border-gray-600 p-3 text-right">7,500</td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Notes Payable</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                    <td class="border dark:border-gray-600 p-3 text-right">10,000</td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Smith, Capital</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                    <td class="border dark:border-gray-600 p-3 text-right">20,000</td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Service Revenue</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                    <td class="border dark:border-gray-600 p-3 text-right">18,000</td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Rent Expense</td>
                                    <td class="border dark:border-gray-600 p-3 text-right">3,000</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Salaries Expense</td>
                                    <td class="border dark:border-gray-600 p-3 text-right">2,000</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                </tr>
                                <tr class="bg-gray-100 dark:bg-gray-700 font-semibold">
                                    <td class="border dark:border-gray-600 p-3">Total</td>
                                    <td class="border dark:border-gray-600 p-3 text-right">55,500</td>
                                    <td class="border dark:border-gray-600 p-3 text-right">55,500</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-green-50 dark:bg-gray-700 p-4 rounded-md">
                            <div class="flex items-start">
                                <div class="text-2xl mr-3">‚öñÔ∏è</div>
                                <div>
                                    <p class="font-semibold">Balanced:</p>
                                    <p>If the trial balance debits and credits are equal, it suggests that the ledger is mathematically correct, but does not guarantee all transactions were recorded properly.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-red-50 dark:bg-gray-700 p-4 rounded-md">
                            <div class="flex items-start">
                                <div class="text-2xl mr-3">‚ö†Ô∏è</div>
                                <div>
                                    <p class="font-semibold">Unbalanced:</p>
                                    <p>If totals don't match, there's an error in the accounting records that must be located and corrected.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Interactive Trial Balance Exercise -->
                <div class="mb-8 bg-orange-50 dark:bg-gray-800 border border-orange-200 dark:border-gray-700 rounded-lg p-6">
                    <h3 class="text-lg font-semibold mb-4">üí™ Practice: Complete the Trial Balance</h3>
                    
                    <p class="mb-4">Fill in the missing values for the trial balance to make it balance correctly.</p>
                    
                    <div class="overflow-x-auto mb-4">
                        <table class="w-full min-w-[600px] border-collapse">
                            <thead>
                                <tr class="bg-gray-100 dark:bg-gray-700">
                                    <th colspan="3" class="border dark:border-gray-600 p-3 text-center font-semibold">XYZ Company<br>Trial Balance<br>June 30, 2023</th>
                                </tr>
                                <tr class="bg-gray-100 dark:bg-gray-700">
                                    <th class="border dark:border-gray-600 p-3 text-left">Account</th>
                                    <th class="border dark:border-gray-600 p-3 text-right">Debit ($)</th>
                                    <th class="border dark:border-gray-600 p-3 text-right">Credit ($)</th>
                                </tr>
                            </thead>
                            <tbody id="practice-trial-balance">
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Cash</td>
                                    <td class="border dark:border-gray-600 p-3 text-right">12,000</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Accounts Receivable</td>
                                    <td class="border dark:border-gray-600 p-3 text-right">7,500</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Inventory</td>
                                    <td class="border dark:border-gray-600 p-3 text-right">
                                        <input type="number" id="tb-inventory" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base text-right" placeholder="?">
                                    </td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Equipment</td>
                                    <td class="border dark:border-gray-600 p-3 text-right">20,000</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Accounts Payable</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                    <td class="border dark:border-gray-600 p-3 text-right">6,500</td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Loans Payable</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                    <td class="border dark:border-gray-600 p-3 text-right">15,000</td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Common Stock</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                    <td class="border dark:border-gray-600 p-3 text-right">20,000</td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Retained Earnings</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                    <td class="border dark:border-gray-600 p-3 text-right">5,000</td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Sales Revenue</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                    <td class="border dark:border-gray-600 p-3 text-right">
                                        <input type="number" id="tb-sales" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base text-right" placeholder="?">
                                    </td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Cost of Goods Sold</td>
                                    <td class="border dark:border-gray-600 p-3 text-right">15,000</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Salaries Expense</td>
                                    <td class="border dark:border-gray-600 p-3 text-right">8,000</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Rent Expense</td>
                                    <td class="border dark:border-gray-600 p-3 text-right">2,500</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Utilities Expense</td>
                                    <td class="border dark:border-gray-600 p-3 text-right">1,000</td>
                                    <td class="border dark:border-gray-600 p-3 text-right"></td>
                                </tr>
                                <tr class="bg-gray-100 dark:bg-gray-700 font-semibold">
                                    <td class="border dark:border-gray-600 p-3">Total</td>
                                    <td class="border dark:border-gray-600 p-3 text-right">
                                        <span id="tb-total-debit">?</span>
                                    </td>
                                    <td class="border dark:border-gray-600 p-3 text-right">
                                        <span id="tb-total-credit">?</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="text-center">
                        <button id="check-trial-balance" class="bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors">
                            Check My Work
                        </button>
                        <button id="recalculate-totals" class="ml-2 bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 text-gray-800 dark:text-white py-2 px-4 rounded-md transition-colors">
                            Recalculate Totals
                        </button>
                    </div>
                    
                    <div id="trial-balance-result" class="mt-4 hidden"></div>
                </div>
                
                <!-- Knowledge Check -->
                <div class="bg-yellow-50 dark:bg-gray-800 border border-yellow-200 dark:border-gray-700 rounded-lg p-6 mb-6">
                    <div class="flex items-center mb-4">
                        <div class="text-2xl mr-3">üß†</div>
                        <h3 class="text-xl font-semibold">Knowledge Check</h3>
                    </div>
                    
                    <div class="space-y-4" id="trial-balance-quiz">
                        <div class="p-4 bg-white dark:bg-gray-700 rounded-md">
                            <p class="font-semibold mb-2">1. Which of the following statements about a trial balance is TRUE?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="tb-q1" value="a" class="mr-2">
                                    <span>A trial balance guarantees that all transactions were recorded correctly</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="tb-q1" value="b" class="mr-2">
                                    <span>A trial balance proves that all financial statements are accurate</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="tb-q1" value="c" class="mr-2">
                                    <span>A trial balance tests the mathematical equality of debits and credits</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="tb-q1" value="d" class="mr-2">
                                    <span>A trial balance eliminates the need for adjusting entries</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="p-4 bg-white dark:bg-gray-700 rounded-md">
                            <p class="font-semibold mb-2">2. Which of the following errors would NOT be detected by a trial balance?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="tb-q2" value="a" class="mr-2">
                                    <span>Recording a debit as $5,000 and the corresponding credit as $500</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="tb-q2" value="b" class="mr-2">
                                    <span>Recording both the debit and credit for a $750 transaction as $75</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="tb-q2" value="c" class="mr-2">
                                    <span>Recording a $250 debit to Rent Expense but forgetting the credit to Cash</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="tb-q2" value="d" class="mr-2">
                                    <span>Posting a $300 debit to Utilities Expense instead of Rent Expense</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <button id="check-trial-balance-quiz" class="mt-4 bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors">
                        Check Answers
                    </button>
                    
                    <div id="trial-balance-quiz-result" class="mt-4 hidden"></div>
                </div>
                
                <div class="flex justify-between">
                    <button class="prev-module bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 py-2 px-4 rounded-md transition-colors" data-prev="ledger">
                        <i class="fas fa-arrow-left mr-2"></i> Previous: Ledger
                    </button>
                    <button class="next-module bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors" data-next="errors">
                        Next: Errors <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>

            <!-- Errors Tab -->
            <div id="errors" class="tab-content hidden">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-2xl font-bold">Types and Correction of Errors</h2>
                    <span class="bg-primary text-white px-3 py-1 rounded-full text-sm">Module 7/9</span>
                </div>
                
                <div class="mb-6">
                    <div class="flex items-center mb-4">
                        <div class="bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center mr-3">
                            <i class="fas fa-bug"></i>
                        </div>
                        <h3 class="text-xl font-semibold">Types of Accounting Errors</h3>
                    </div>
                    
                    <p class="mb-4">Even with careful work, errors can occur in the accounting process. Understanding different types of errors and how to correct them is essential.</p>
                </div>
                
                <!-- Types of Errors -->
                <div class="mb-8">
                    <h3 class="text-lg font-semibold mb-4">Errors That Do Not Affect Trial Balance</h3>
                    <p class="mb-2 text-sm italic">These errors still maintain equality of debits and credits, but they affect the accuracy of accounting records.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-exchange-alt text-red-500 mr-2"></i>
                                <h4 class="font-semibold">Error of Original Entry</h4>
                            </div>
                            <p class="mb-2 text-sm">Recording an incorrect amount in both debit and credit entries.</p>
                            <div class="bg-gray-50 dark:bg-gray-700 p-2 rounded-md text-sm">
                                <p><strong>Example:</strong> Recording a $500 transaction as $50 in both the debit and credit entries.</p>
                            </div>
                        </div>
                        
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-random text-red-500 mr-2"></i>
                                <h4 class="font-semibold">Error of Commission</h4>
                            </div>
                            <p class="mb-2 text-sm">Using the correct amount but wrong account of the same type.</p>
                            <div class="bg-gray-50 dark:bg-gray-700 p-2 rounded-md text-sm">
                                <p><strong>Example:</strong> Debiting Utilities Expense instead of Rent Expense.</p>
                            </div>
                        </div>
                        
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-sitemap text-red-500 mr-2"></i>
                                <h4 class="font-semibold">Error of Principle</h4>
                            </div>
                            <p class="mb-2 text-sm">Violating accounting principles by using the wrong type of account.</p>
                            <div class="bg-gray-50 dark:bg-gray-700 p-2 rounded-md text-sm">
                                <p><strong>Example:</strong> Recording the purchase of equipment as an expense rather than an asset.</p>
                            </div>
                        </div>
                        
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-copy text-red-500 mr-2"></i>
                                <h4 class="font-semibold">Error of Omission</h4>
                            </div>
                            <p class="mb-2 text-sm">Completely forgetting to record a transaction.</p>
                            <div class="bg-gray-50 dark:bg-gray-700 p-2 rounded-md text-sm">
                                <p><strong>Example:</strong> Not recording a credit sale that occurred at the end of the month.</p>
                            </div>
                        </div>
                        
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-redo text-red-500 mr-2"></i>
                                <h4 class="font-semibold">Error of Duplication</h4>
                            </div>
                            <p class="mb-2 text-sm">Recording the same transaction twice.</p>
                            <div class="bg-gray-50 dark:bg-gray-700 p-2 rounded-md text-sm">
                                <p><strong>Example:</strong> Recording a purchase invoice twice in the purchases journal.</p>
                            </div>
                        </div>
                        
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-calendar-alt text-red-500 mr-2"></i>
                                <h4 class="font-semibold">Error of Period</h4>
                            </div>
                            <p class="mb-2 text-sm">Recording a transaction in the wrong accounting period.</p>
                            <div class="bg-gray-50 dark:bg-gray-700 p-2 rounded-md text-sm">
                                <p><strong>Example:</strong> Recording December's rent payment as a January expense.</p>
                            </div>
                        </div>
                    </div>
                    
                    <h3 class="text-lg font-semibold mb-4">Errors That Affect Trial Balance</h3>
                    <p class="mb-2 text-sm italic">These errors will cause the trial balance to be unbalanced, making them easier to detect.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-calculator text-red-500 mr-2"></i>
                                <h4 class="font-semibold">Error of Posting</h4>
                            </div>
                            <p class="mb-2 text-sm">Posting a different amount to the ledger than what's in the journal.</p>
                            <div class="bg-gray-50 dark:bg-gray-700 p-2 rounded-md text-sm">
                                <p><strong>Example:</strong> Journal shows $300 debit to Supplies, but the ledger shows $30.</p>
                            </div>
                        </div>
                        
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-balance-scale text-red-500 mr-2"></i>
                                <h4 class="font-semibold">Single-Entry Error</h4>
                            </div>
                            <p class="mb-2 text-sm">Recording only one side of a transaction (either debit or credit).</p>
                            <div class="bg-gray-50 dark:bg-gray-700 p-2 rounded-md text-sm">
                                <p><strong>Example:</strong> Recording a $200 debit to Office Supplies but forgetting to credit Cash.</p>
                            </div>
                        </div>
                        
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-not-equal text-red-500 mr-2"></i>
                                <h4 class="font-semibold">Unequal Debits and Credits</h4>
                            </div>
                            <p class="mb-2 text-sm">Recording unequal amounts for the debit and credit entries of a transaction.</p>
                            <div class="bg-gray-50 dark:bg-gray-700 p-2 rounded-md text-sm">
                                <p><strong>Example:</strong> Recording a $500 debit but only a $50 credit.</p>
                            </div>
                        </div>
                        
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-crosshairs text-red-500 mr-2"></i>
                                <h4 class="font-semibold">Transposition Error</h4>
                            </div>
                            <p class="mb-2 text-sm">Switching the order of digits when recording a number.</p>
                            <div class="bg-gray-50 dark:bg-gray-700 p-2 rounded-md text-sm">
                                <p><strong>Example:</strong> Writing $753 as $573.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Correcting Errors -->
                <div class="mb-8">
                    <div class="flex items-center mb-4">
                        <div class="bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center mr-3">
                            <i class="fas fa-wrench"></i>
                        </div>
                        <h3 class="text-xl font-semibold">Correcting Errors</h3>
                    </div>
                    
                    <div class="bg-blue-50 dark:bg-gray-700 p-4 rounded-md mb-6">
                        <div class="flex items-start">
                            <div class="text-2xl mr-3">üìù</div>
                            <div>
                                <p class="font-semibold">Methods for Correcting Errors:</p>
                                <ol class="list-decimal pl-5 space-y-1 mt-2">
                                    <li>If the error is discovered before posting to the ledger, simply cross it out in the journal and write the correct entry.</li>
                                    <li>If the error is discovered after posting but before financial statements are prepared, use a correcting entry.</li>
                                    <li>If the error is discovered in a later accounting period, use a prior period adjustment.</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                    
                    <h4 class="font-semibold mb-3">Example of a Correcting Entry:</h4>
                    <p class="mb-4">A $500 purchase of equipment was incorrectly recorded as a debit to Office Supplies and a credit to Cash.</p>
                    
                    <div class="overflow-x-auto mb-6">
                        <table class="w-full min-w-[600px] border-collapse">
                            <thead>
                                <tr class="bg-gray-100 dark:bg-gray-700">
                                    <th colspan="5" class="border dark:border-gray-600 p-3 text-center font-semibold">Correcting Journal Entry</th>
                                </tr>
                                <tr class="bg-gray-100 dark:bg-gray-700">
                                    <th class="border dark:border-gray-600 p-3 text-left">Date</th>
                                    <th class="border dark:border-gray-600 p-3 text-left">Account Titles and Description</th>
                                    <th class="border dark:border-gray-600 p-3 text-center">PR</th>
                                    <th class="border dark:border-gray-600 p-3 text-right">Debit</th>
                                    <th class="border dark:border-gray-600 p-3 text-right">Credit</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3">Jul 15</td>
                                    <td class="border dark:border-gray-600 p-3">Equipment</td>
                                    <td class="border dark:border-gray-600 p-3 text-center">124</td>
                                    <td class="border dark:border-gray-600 p-3 text-right">500</td>
                                    <td class="border dark:border-gray-600 p-3"></td>
                                </tr>
                                <tr class="bg-white dark:bg-gray-800">
                                    <td class="border dark:border-gray-600 p-3"></td>
                                    <td class="border dark:border-gray-600 p-3 pl-8">Office Supplies</td>
                                    <td class="border dark:border-gray-600 p-3 text-center">115</td>
                                    <td class="border dark:border-gray-600 p-3"></td>
                                    <td class="border dark:border-gray-600 p-3 text-right">500</td>
                                </tr>
                                <tr class="bg-gray-50 dark:bg-gray-700">
                                    <td class="border dark:border-gray-600 p-3" colspan="5"><em>To correct entry that recorded equipment purchase as office supplies.</em></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Interactive Error Detection and Correction -->
                <div class="mb-8 bg-orange-50 dark:bg-gray-800 border border-orange-200 dark:border-gray-700 rounded-lg p-6">
                    <h3 class="text-lg font-semibold mb-4">üí™ Practice: Detect and Correct Errors</h3>
                    
                    <p class="mb-4">The following transactions contain errors. Identify the type of error and create the correcting entry.</p>
                    
                    <div class="space-y-6 mb-6">
                        <div class="bg-white dark:bg-gray-700 p-4 rounded-md" id="error-scenario-1">
                            <p class="font-semibold mb-2">Scenario 1:</p>
                            <p class="mb-3">A company purchased $750 of inventory on account, but it was recorded as a $750 debit to Inventory and a $750 credit to Cash.</p>
                            
                            <div class="mb-3">
                                <label class="block mb-2">What type of error is this?</label>
                                <select id="error-type-1" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base">
                                    <option value="">Select error type</option>
                                    <option value="commission">Error of Commission</option>
                                    <option value="principle">Error of Principle</option>
                                    <option value="original">Error of Original Entry</option>
                                    <option value="omission">Error of Omission</option>
                                    <option value="posting">Error of Posting</option>
                                </select>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-3">
                                <div>
                                    <label class="block mb-2">First Account to Debit:</label>
                                    <select id="error1-debit-account" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base">
                                        <option value="">Select Account</option>
                                        <option value="cash">Cash</option>
                                        <option value="inventory">Inventory</option>
                                        <option value="accounts-payable">Accounts Payable</option>
                                        <option value="accounts-receivable">Accounts Receivable</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block mb-2">Amount:</label>
                                    <input type="number" id="error1-debit-amount" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base" placeholder="Enter amount">
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block mb-2">First Account to Credit:</label>
                                    <select id="error1-credit-account" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base">
                                        <option value="">Select Account</option>
                                        <option value="cash">Cash</option>
                                        <option value="inventory">Inventory</option>
                                        <option value="accounts-payable">Accounts Payable</option>
                                        <option value="accounts-receivable">Accounts Receivable</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block mb-2">Amount:</label>
                                    <input type="number" id="error1-credit-amount" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base" placeholder="Enter amount">
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white dark:bg-gray-700 p-4 rounded-md" id="error-scenario-2">
                            <p class="font-semibold mb-2">Scenario 2:</p>
                            <p class="mb-3">A company received $500 cash from a customer for services performed, but the transaction was never recorded.</p>
                            
                            <div class="mb-3">
                                <label class="block mb-2">What type of error is this?</label>
                                <select id="error-type-2" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base">
                                    <option value="">Select error type</option>
                                    <option value="commission">Error of Commission</option>
                                    <option value="principle">Error of Principle</option>
                                    <option value="original">Error of Original Entry</option>
                                    <option value="omission">Error of Omission</option>
                                    <option value="posting">Error of Posting</option>
                                </select>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-3">
                                <div>
                                    <label class="block mb-2">First Account to Debit:</label>
                                    <select id="error2-debit-account" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base">
                                        <option value="">Select Account</option>
                                        <option value="cash">Cash</option>
                                        <option value="inventory">Inventory</option>
                                        <option value="accounts-receivable">Accounts Receivable</option>
                                        <option value="service-revenue">Service Revenue</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block mb-2">Amount:</label>
                                    <input type="number" id="error2-debit-amount" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base" placeholder="Enter amount">
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block mb-2">First Account to Credit:</label>
                                    <select id="error2-credit-account" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base">
                                        <option value="">Select Account</option>
                                        <option value="cash">Cash</option>
                                        <option value="inventory">Inventory</option>
                                        <option value="accounts-receivable">Accounts Receivable</option>
                                        <option value="service-revenue">Service Revenue</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block mb-2">Amount:</label>
                                    <input type="number" id="error2-credit-amount" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base" placeholder="Enter amount">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <button id="check-error-corrections" class="bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors">
                        Check My Corrections
                    </button>
                    
                    <div id="error-corrections-result" class="mt-4 hidden"></div>
                </div>
                
                <!-- Knowledge Check -->
                <div class="bg-yellow-50 dark:bg-gray-800 border border-yellow-200 dark:border-gray-700 rounded-lg p-6 mb-6">
                    <div class="flex items-center mb-4">
                        <div class="text-2xl mr-3">üß†</div>
                        <h3 class="text-xl font-semibold">Knowledge Check</h3>
                    </div>
                    
                    <div class="space-y-4" id="errors-quiz">
                        <div class="p-4 bg-white dark:bg-gray-700 rounded-md">
                            <p class="font-semibold mb-2">1. Which of the following errors would cause a trial balance to be unbalanced?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="errors-q1" value="a" class="mr-2">
                                    <span>Recording Rent Expense instead of Insurance Expense</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="errors-q1" value="b" class="mr-2">
                                    <span>Recording $500 as $50 in both debit and credit entries</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="errors-q1" value="c" class="mr-2">
                                    <span>Recording a $300 debit but only a $30 credit</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="errors-q1" value="d" class="mr-2">
                                    <span>Recording the purchase of equipment as an expense</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="p-4 bg-white dark:bg-gray-700 rounded-md">
                            <p class="font-semibold mb-2">2. A company purchased land for $100,000 but recorded it as a debit to Buildings. What type of error is this?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="errors-q2" value="a" class="mr-2">
                                    <span>Error of Original Entry</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="errors-q2" value="b" class="mr-2">
                                    <span>Error of Commission</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="errors-q2" value="c" class="mr-2">
                                    <span>Error of Principle</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="errors-q2" value="d" class="mr-2">
                                    <span>Error of Omission</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <button id="check-errors-quiz" class="mt-4 bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors">
                        Check Answers
                    </button>
                    
                    <div id="errors-quiz-result" class="mt-4 hidden"></div>
                </div>
                
                <div class="flex justify-between">
                    <button class="prev-module bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 py-2 px-4 rounded-md transition-colors" data-prev="trial-balance">
                        <i class="fas fa-arrow-left mr-2"></i> Previous: Trial Balance
                    </button>
                    <button class="next-module bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors" data-next="suspense">
                        Next: Suspense Account <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>

            <!-- Suspense Account Tab -->
            <div id="suspense" class="tab-content hidden">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-2xl font-bold">Suspense Account</h2>
                    <span class="bg-primary text-white px-3 py-1 rounded-full text-sm">Module 8/9</span>
                </div>
                
                <div class="mb-6">
                    <div class="flex items-center mb-4">
                        <div class="bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center mr-3">
                            <i class="fas fa-question-circle"></i>
                        </div>
                        <h3 class="text-xl font-semibold">What is a Suspense Account?</h3>
                    </div>
                    
                    <p class="mb-4">A suspense account is a temporary account used to record transactions that can't be immediately allocated to a specific account. It helps maintain the balance of the trial balance while errors are investigated.</p>
                    
                    <div class="bg-blue-50 dark:bg-gray-700 p-4 rounded-md mb-6 flex items-start">
                        <div class="text-2xl mr-3">üîç</div>
                        <div>
                            <p class="font-semibold">When to Use a Suspense Account:</p>
                            <ul class="list-disc pl-5 space-y-1 mt-2">
                                <li>When the trial balance doesn't balance and the cause can't be immediately found</li>
                                <li>When incomplete information is available about a transaction</li>
                                <li>When a transaction is recorded but there's uncertainty about which account should be debited or credited</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- How Suspense Accounts Work -->
                <div class="mb-8">
                    <h3 class="text-lg font-semibold mb-4">How Suspense Accounts Work</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm">
                            <div class="flex items-center mb-3">
                                <i class="fas fa-balance-scale text-primary mr-2"></i>
                                <h4 class="font-semibold">Creating a Suspense Account</h4>
                            </div>
                            <p class="mb-2">When a trial balance doesn't balance, the difference between the debit and credit totals is recorded in a suspense account to make the trial balance balance.</p>
                            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-md text-sm">
                                <p><strong>Example:</strong> If debits exceed credits by $500, create a $500 credit balance in the suspense account.</p>
                            </div>
                        </div>
                        
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm">
                            <div class="flex items-center mb-3">
                                <i class="fas fa-search text-primary mr-2"></i>
                                <h4 class="font-semibold">Resolving Suspense Items</h4>
                            </div>
                            <p class="mb-2">As errors are discovered, correcting entries are made that involve the suspense account, gradually reducing its balance to zero.</p>
                            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-md text-sm">
                                <p><strong>Example:</strong> If an $200 expense was omitted, debit Expense and credit Suspense for $200.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Example of Using a Suspense Account -->
                <div class="mb-8">
                    <h3 class="text-lg font-semibold mb-4">Example: Using a Suspense Account</h3>
                    
                    <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-6 mb-6">
                        <p class="mb-4"><strong>Scenario:</strong> A company's trial balance shows debits totaling $25,000 and credits totaling $24,700. The difference of $300 is recorded in a suspense account.</p>
                        
                        <div class="overflow-x-auto mb-6">
                            <table class="w-full min-w-[600px] border-collapse">
                                <thead>
                                    <tr class="bg-gray-100 dark:bg-gray-700">
                                        <th colspan="5" class="border dark:border-gray-600 p-3 text-center font-semibold">Journal Entry to Create Suspense Account</th>
                                    </tr>
                                    <tr class="bg-gray-100 dark:bg-gray-700">
                                        <th class="border dark:border-gray-600 p-3 text-left">Date</th>
                                        <th class="border dark:border-gray-600 p-3 text-left">Account Titles and Description</th>
                                        <th class="border dark:border-gray-600 p-3 text-center">PR</th>
                                        <th class="border dark:border-gray-600 p-3 text-right">Debit</th>
                                        <th class="border dark:border-gray-600 p-3 text-right">Credit</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="bg-white dark:bg-gray-800">
                                        <td class="border dark:border-gray-600 p-3">Dec 31</td>
                                        <td class="border dark:border-gray-600 p-3">Suspense Account</td>
                                        <td class="border dark:border-gray-600 p-3 text-center"></td>
                                        <td class="border dark:border-gray-600 p-3 text-right"></td>
                                        <td class="border dark:border-gray-600 p-3 text-right">300</td>
                                    </tr>
                                    <tr class="bg-gray-50 dark:bg-gray-700">
                                        <td class="border dark:border-gray-600 p-3" colspan="5"><em>To balance the trial balance temporarily.</em></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <p class="mb-4"><strong>Later investigation found the following errors:</strong></p>
                        
                        <ol class="list-decimal pl-5 space-y-3 mb-6">
                            <li>A $200 credit sale was recorded in the sales journal but never posted to the accounts receivable ledger.</li>
                            <li>A $100 payment for office supplies was recorded as $10 in the cash payments journal.</li>
                        </ol>
                        
                        <div class="overflow-x-auto">
                            <table class="w-full min-w-[600px] border-collapse">
                                <thead>
                                    <tr class="bg-gray-100 dark:bg-gray-700">
                                        <th colspan="5" class="border dark:border-gray-600 p-3 text-center font-semibold">Correcting Entries</th>
                                    </tr>
                                    <tr class="bg-gray-100 dark:bg-gray-700">
                                        <th class="border dark:border-gray-600 p-3 text-left">Date</th>
                                        <th class="border dark:border-gray-600 p-3 text-left">Account Titles and Description</th>
                                        <th class="border dark:border-gray-600 p-3 text-center">PR</th>
                                        <th class="border dark:border-gray-600 p-3 text-right">Debit</th>
                                        <th class="border dark:border-gray-600 p-3 text-right">Credit</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="bg-white dark:bg-gray-800">
                                        <td class="border dark:border-gray-600 p-3">Dec 31</td>
                                        <td class="border dark:border-gray-600 p-3">Accounts Receivable</td>
                                        <td class="border dark:border-gray-600 p-3 text-center"></td>
                                        <td class="border dark:border-gray-600 p-3 text-right">200</td>
                                        <td class="border dark:border-gray-600 p-3 text-right"></td>
                                    </tr>
                                    <tr class="bg-white dark:bg-gray-800">
                                        <td class="border dark:border-gray-600 p-3"></td>
                                        <td class="border dark:border-gray-600 p-3 pl-8">Suspense Account</td>
                                        <td class="border dark:border-gray-600 p-3 text-center"></td>
                                        <td class="border dark:border-gray-600 p-3 text-right"></td>
                                        <td class="border dark:border-gray-600 p-3 text-right">200</td>
                                    </tr>
                                    <tr class="bg-gray-50 dark:bg-gray-700">
                                        <td class="border dark:border-gray-600 p-3" colspan="5"><em>To record accounts receivable that was omitted.</em></td>
                                    </tr>
                                    <tr class="bg-white dark:bg-gray-800">
                                        <td class="border dark:border-gray-600 p-3">Dec 31</td>
                                        <td class="border dark:border-gray-600 p-3">Office Supplies</td>
                                        <td class="border dark:border-gray-600 p-3 text-center"></td>
                                        <td class="border dark:border-gray-600 p-3 text-right">90</td>
                                        <td class="border dark:border-gray-600 p-3 text-right"></td>
                                    </tr>
                                    <tr class="bg-white dark:bg-gray-800">
                                        <td class="border dark:border-gray-600 p-3"></td>
                                        <td class="border dark:border-gray-600 p-3 pl-8">Suspense Account</td>
                                        <td class="border dark:border-gray-600 p-3 text-center"></td>
                                        <td class="border dark:border-gray-600 p-3 text-right"></td>
                                        <td class="border dark:border-gray-600 p-3 text-right">90</td>
                                    </tr>
                                    <tr class="bg-gray-50 dark:bg-gray-700">
                                        <td class="border dark:border-gray-600 p-3" colspan="5"><em>To correct the office supplies expense that was understated by $90.</em></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="mt-4">
                            <p><strong>Suspense Account Balance After Corrections:</strong></p>
                            <p>Original Credit Balance: $300</p>
                            <p>Additional Credit for A/R: $200</p>
                            <p>Additional Credit for Supplies: $90</p>
                            <p>Final Balance: $590 Credit (which doesn't equal zero - more errors likely exist)</p>
                        </div>
                    </div>
                </div>
                
                <!-- Interactive Suspense Account Exercise -->
                <div class="mb-8 bg-orange-50 dark:bg-gray-800 border border-orange-200 dark:border-gray-700 rounded-lg p-6">
                    <h3 class="text-lg font-semibold mb-4">üí™ Practice: Using a Suspense Account</h3>
                    
                    <p class="mb-4">The trial balance of Johnson Company has total debits of $45,600 and total credits of $45,000. Complete the necessary entries.</p>
                    
                    <div class="mb-6">
                        <p class="font-semibold mb-2">Step 1: Create the suspense account to balance the trial balance.</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block mb-2">Should the suspense account be debited or credited?</label>
                                <select id="suspense-type" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base">
                                    <option value="">Select one</option>
                                    <option value="debit">Debit Suspense Account</option>
                                    <option value="credit">Credit Suspense Account</option>
                                </select>
                            </div>
                            <div>
                                <label class="block mb-2">What is the amount of the difference?</label>
                                <input type="number" id="suspense-amount" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base" placeholder="Enter amount">
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <p class="font-semibold mb-2">Step 2: Later, the following errors were discovered:</p>
                        <ul class="list-disc pl-5 space-y-1 mb-4">
                            <li>A $300 purchase of supplies was recorded as $30 in the purchases journal.</li>
                            <li>A $400 payment received from a customer was never recorded.</li>
                        </ul>
                        
                        <p class="mb-2">Create the correcting entry for the supplies error:</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block mb-2">Account to Debit:</label>
                                <select id="supplies-debit-account" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base">
                                    <option value="">Select Account</option>
                                    <option value="supplies">Supplies</option>
                                    <option value="suspense">Suspense Account</option>
                                    <option value="cash">Cash</option>
                                    <option value="accounts-payable">Accounts Payable</option>
                                </select>
                            </div>
                            <div>
                                <label class="block mb-2">Amount:</label>
                                <input type="number" id="supplies-debit-amount" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base" placeholder="Enter amount">
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                            <div>
                                <label class="block mb-2">Account to Credit:</label>
                                <select id="supplies-credit-account" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base">
                                    <option value="">Select Account</option>
                                    <option value="supplies">Supplies</option>
                                    <option value="suspense">Suspense Account</option>
                                    <option value="cash">Cash</option>
                                    <option value="accounts-payable">Accounts Payable</option>
                                </select>
                            </div>
                            <div>
                                <label class="block mb-2">Amount:</label>
                                <input type="number" id="supplies-credit-amount" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base" placeholder="Enter amount">
                            </div>
                        </div>
                        
                        <p class="mb-2">Create the correcting entry for the customer payment error:</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block mb-2">Account to Debit:</label>
                                <select id="payment-debit-account" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base">
                                    <option value="">Select Account</option>
                                    <option value="cash">Cash</option>
                                    <option value="suspense">Suspense Account</option>
                                    <option value="accounts-receivable">Accounts Receivable</option>
                                    <option value="sales-revenue">Sales Revenue</option>
                                </select>
                            </div>
                            <div>
                                <label class="block mb-2">Amount:</label>
                                <input type="number" id="payment-debit-amount" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base" placeholder="Enter amount">
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block mb-2">Account to Credit:</label>
                                <select id="payment-credit-account" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base">
                                    <option value="">Select Account</option>
                                    <option value="cash">Cash</option>
                                    <option value="suspense">Suspense Account</option>
                                    <option value="accounts-receivable">Accounts Receivable</option>
                                    <option value="sales-revenue">Sales Revenue</option>
                                </select>
                            </div>
                            <div>
                                <label class="block mb-2">Amount:</label>
                                <input type="number" id="payment-credit-amount" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base" placeholder="Enter amount">
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <p class="font-semibold mb-2">Step 3: After these corrections, what is the balance of the suspense account?</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block mb-2">Suspense Account Balance:</label>
                                <input type="number" id="final-suspense-balance" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base" placeholder="Enter amount">
                            </div>
                            <div>
                                <label class="block mb-2">Is this a debit or credit balance?</label>
                                <select id="final-suspense-type" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base">
                                    <option value="">Select one</option>
                                    <option value="debit">Debit Balance</option>
                                    <option value="credit">Credit Balance</option>
                                    <option value="zero">Zero Balance</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <button id="check-suspense-exercise" class="bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors">
                        Check My Work
                    </button>
                    
                    <div id="suspense-exercise-result" class="mt-4 hidden"></div>
                </div>
                
                <!-- Knowledge Check -->
                <div class="bg-yellow-50 dark:bg-gray-800 border border-yellow-200 dark:border-gray-700 rounded-lg p-6 mb-6">
                    <div class="flex items-center mb-4">
                        <div class="text-2xl mr-3">üß†</div>
                        <h3 class="text-xl font-semibold">Knowledge Check</h3>
                    </div>
                    
                    <div class="space-y-4" id="suspense-quiz">
                        <div class="p-4 bg-white dark:bg-gray-700 rounded-md">
                            <p class="font-semibold mb-2">1. What is the primary purpose of a suspense account?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="suspense-q1" value="a" class="mr-2">
                                    <span>To record transactions that will occur in the future</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="suspense-q1" value="b" class="mr-2">
                                    <span>To hide errors from auditors</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="suspense-q1" value="c" class="mr-2">
                                    <span>To temporarily balance the books until errors are found and corrected</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="suspense-q1" value="d" class="mr-2">
                                    <span>To permanently store unidentifiable transactions</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="p-4 bg-white dark:bg-gray-700 rounded-md">
                            <p class="font-semibold mb-2">2. If the trial balance shows total debits of $75,000 and total credits of $73,500, what entry would be made to create a suspense account?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="suspense-q2" value="a" class="mr-2">
                                    <span>Debit Suspense Account $1,500</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="suspense-q2" value="b" class="mr-2">
                                    <span>Credit Suspense Account $1,500</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="suspense-q2" value="c" class="mr-2">
                                    <span>Debit Suspense Account $75,000; Credit Suspense Account $73,500</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="suspense-q2" value="d" class="mr-2">
                                    <span>Credit Suspense Account $75,000; Debit Suspense Account $73,500</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <button id="check-suspense-quiz" class="mt-4 bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors">
                        Check Answers
                    </button>
                    
                    <div id="suspense-quiz-result" class="mt-4 hidden"></div>
                </div>
                
                <div class="flex justify-between">
                    <button class="prev-module bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 py-2 px-4 rounded-md transition-colors" data-prev="errors">
                        <i class="fas fa-arrow-left mr-2"></i> Previous: Errors
                    </button>
                    <button class="next-module bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors" data-next="final-challenge">
                        Next: Final Challenge <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>

            <!-- Final Challenge Tab -->
            <div id="final-challenge" class="tab-content hidden">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-2xl font-bold">Final Challenge</h2>
                    <span class="bg-primary text-white px-3 py-1 rounded-full text-sm">Module 9/9</span>
                </div>
                
                <div class="mb-6">
                    <div class="flex items-center mb-4">
                        <div class="bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center mr-3">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <h3 class="text-xl font-semibold">Put It All Together</h3>
                    </div>
                    
                    <p class="mb-4">Congratulations on making it to the final challenge! Now it's time to apply everything you've learned about double entry accounting.</p>
                </div>
                
                <!-- Comprehensive Challenge -->
                <div class="mb-8 bg-orange-50 dark:bg-gray-800 border border-orange-200 dark:border-gray-700 rounded-lg p-6">
                    <h3 class="text-lg font-semibold mb-4">üèÜ Final Challenge: Complete Accounting Cycle</h3>
                    
                    <p class="mb-4">Apply your knowledge to process a set of transactions for a small business called "TechRepair" that provides computer repair services.</p>
                    
                    <div class="mb-6">
                        <p class="font-semibold mb-2">Transactions for the month of January 2023:</p>
                        
                        <ol class="list-decimal pl-5 space-y-2 mb-4">
                            <li>Jan 1: Owner invested $10,000 cash to start the business.</li>
                            <li>Jan 5: Purchased repair equipment for $3,000, paying $1,000 in cash and the rest on account.</li>
                            <li>Jan 8: Purchased office supplies for $500 on account.</li>
                            <li>Jan 12: Paid $800 for rent for the month.</li>
                            <li>Jan 15: Completed repairs for a customer and received $1,500 cash.</li>
                            <li>Jan 18: Paid $300 for an advertisement in the local newspaper.</li>
                            <li>Jan 22: Completed repairs for a customer for $2,000 on account.</li>
                            <li>Jan 25: Received $1,000 from the customer billed on Jan 22.</li>
                            <li>Jan 28: Paid $200 for utilities.</li>
                            <li>Jan 31: Paid $1,000 salary to a part-time employee.</li>
                        </ol>
                    </div>
                    
                    <div class="space-y-6">
                        <div class="bg-white dark:bg-gray-700 p-4 rounded-md">
                            <h4 class="font-semibold mb-3">Step 1: Analyze and Journalize Transactions</h4>
                            
                            <div id="challenge-journal" class="overflow-x-auto mb-4">
                                <table class="w-full min-w-[600px] border-collapse">
                                    <thead>
                                        <tr class="bg-gray-100 dark:bg-gray-700">
                                            <th colspan="5" class="border dark:border-gray-600 p-3 text-center font-semibold">TechRepair General Journal</th>
                                        </tr>
                                        <tr class="bg-gray-100 dark:bg-gray-700">
                                            <th class="border dark:border-gray-600 p-3 text-left">Date</th>
                                            <th class="border dark:border-gray-600 p-3 text-left">Account Titles and Description</th>
                                            <th class="border dark:border-gray-600 p-3 text-center">PR</th>
                                            <th class="border dark:border-gray-600 p-3 text-right">Debit</th>
                                            <th class="border dark:border-gray-600 p-3 text-right">Credit</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Row 1 -->
                                        <tr class="bg-white dark:bg-gray-800">
                                            <td class="border dark:border-gray-600 p-3">Jan 1</td>
                                            <td class="border dark:border-gray-600 p-3">
                                                <select id="journal-1-1" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base">
                                                    <option value="">Select Account</option>
                                                    <option value="cash">Cash</option>
                                                    <option value="accounts-receivable">Accounts Receivable</option>
                                                    <option value="supplies">Supplies</option>
                                                    <option value="equipment">Equipment</option>
                                                    <option value="accounts-payable">Accounts Payable</option>
                                                    <option value="capital">Owner's Capital</option>
                                                    <option value="revenue">Service Revenue</option>
                                                    <option value="rent">Rent Expense</option>
                                                    <option value="advertising">Advertising Expense</option>
                                                    <option value="utilities">Utilities Expense</option>
                                                    <option value="salaries">Salaries Expense</option>
                                                </select>
                                            </td>
                                            <td class="border dark:border-gray-600 p-3 text-center"></td>
                                            <td class="border dark:border-gray-600 p-3 text-right">
                                                <input type="number" id="journal-1-1-debit" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base text-right" placeholder="Amount">
                                            </td>
                                            <td class="border dark:border-gray-600 p-3 text-right"></td>
                                        </tr>
                                        <tr class="bg-white dark:bg-gray-800">
                                            <td class="border dark:border-gray-600 p-3"></td>
                                            <td class="border dark:border-gray-600 p-3 pl-8">
                                                <select id="journal-1-2" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base">
                                                    <option value="">Select Account</option>
                                                    <option value="cash">Cash</option>
                                                    <option value="accounts-receivable">Accounts Receivable</option>
                                                    <option value="supplies">Supplies</option>
                                                    <option value="equipment">Equipment</option>
                                                    <option value="accounts-payable">Accounts Payable</option>
                                                    <option value="capital">Owner's Capital</option>
                                                    <option value="revenue">Service Revenue</option>
                                                    <option value="rent">Rent Expense</option>
                                                    <option value="advertising">Advertising Expense</option>
                                                    <option value="utilities">Utilities Expense</option>
                                                    <option value="salaries">Salaries Expense</option>
                                                </select>
                                            </td>
                                            <td class="border dark:border-gray-600 p-3 text-center"></td>
                                            <td class="border dark:border-gray-600 p-3 text-right"></td>
                                            <td class="border dark:border-gray-600 p-3 text-right">
                                                <input type="number" id="journal-1-2-credit" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base text-right" placeholder="Amount">
                                            </td>
                                        </tr>
                                        <!-- More transactions would be here -->
                                    </tbody>
                                </table>
                            </div>
                            
                            <div class="text-center mb-4">
                                <p class="text-sm italic mb-2">Note: In a real journal, you would record all 10 transactions. For this exercise, we're focusing on the first transaction only.</p>
                            </div>
                        </div>
                        
                        <div class="bg-white dark:bg-gray-700 p-4 rounded-md">
                            <h4 class="font-semibold mb-3">Step 2: Complete the Trial Balance</h4>
                            
                            <p class="mb-4">After recording all transactions for the month, prepare a trial balance for TechRepair as of January 31, 2023.</p>
                            
                            <div class="overflow-x-auto">
                                <table class="w-full min-w-[600px] border-collapse">
                                    <thead>
                                        <tr class="bg-gray-100 dark:bg-gray-700">
                                            <th colspan="3" class="border dark:border-gray-600 p-3 text-center font-semibold">TechRepair<br>Trial Balance<br>January 31, 2023</th>
                                        </tr>
                                        <tr class="bg-gray-100 dark:bg-gray-700">
                                            <th class="border dark:border-gray-600 p-3 text-left">Account</th>
                                            <th class="border dark:border-gray-600 p-3 text-right">Debit ($)</th>
                                            <th class="border dark:border-gray-600 p-3 text-right">Credit ($)</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="bg-white dark:bg-gray-800">
                                            <td class="border dark:border-gray-600 p-3">Cash</td>
                                            <td class="border dark:border-gray-600 p-3 text-right">
                                                <input type="number" id="tb-cash" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base text-right" placeholder="Amount">
                                            </td>
                                            <td class="border dark:border-gray-600 p-3 text-right"></td>
                                        </tr>
                                        <tr class="bg-white dark:bg-gray-800">
                                            <td class="border dark:border-gray-600 p-3">Accounts Receivable</td>
                                            <td class="border dark:border-gray-600 p-3 text-right">
                                                <input type="number" id="tb-ar" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base text-right" placeholder="Amount">
                                            </td>
                                            <td class="border dark:border-gray-600 p-3 text-right"></td>
                                        </tr>
                                        <tr class="bg-white dark:bg-gray-800">
                                            <td class="border dark:border-gray-600 p-3">Supplies</td>
                                            <td class="border dark:border-gray-600 p-3 text-right">
                                                <input type="number" id="tb-supplies" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base text-right" placeholder="Amount">
                                            </td>
                                            <td class="border dark:border-gray-600 p-3 text-right"></td>
                                        </tr>
                                        <tr class="bg-white dark:bg-gray-800">
                                            <td class="border dark:border-gray-600 p-3">Equipment</td>
                                            <td class="border dark:border-gray-600 p-3 text-right">
                                                <input type="number" id="tb-equipment" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base text-right" placeholder="Amount">
                                            </td>
                                            <td class="border dark:border-gray-600 p-3 text-right"></td>
                                        </tr>
                                        <tr class="bg-white dark:bg-gray-800">
                                            <td class="border dark:border-gray-600 p-3">Accounts Payable</td>
                                            <td class="border dark:border-gray-600 p-3 text-right"></td>
                                            <td class="border dark:border-gray-600 p-3 text-right">
                                                <input type="number" id="tb-ap" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base text-right" placeholder="Amount">
                                            </td>
                                        </tr>
                                        <tr class="bg-white dark:bg-gray-800">
                                            <td class="border dark:border-gray-600 p-3">Owner's Capital</td>
                                            <td class="border dark:border-gray-600 p-3 text-right"></td>
                                            <td class="border dark:border-gray-600 p-3 text-right">
                                                <input type="number" id="tb-capital" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base text-right" placeholder="Amount">
                                            </td>
                                        </tr>
                                        <tr class="bg-white dark:bg-gray-800">
                                            <td class="border dark:border-gray-600 p-3">Service Revenue</td>
                                            <td class="border dark:border-gray-600 p-3 text-right"></td>
                                            <td class="border dark:border-gray-600 p-3 text-right">
                                                <input type="number" id="tb-revenue" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base text-right" placeholder="Amount">
                                            </td>
                                        </tr>
                                        <tr class="bg-white dark:bg-gray-800">
                                            <td class="border dark:border-gray-600 p-3">Rent Expense</td>
                                            <td class="border dark:border-gray-600 p-3 text-right">
                                                <input type="number" id="tb-rent" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base text-right" placeholder="Amount">
                                            </td>
                                            <td class="border dark:border-gray-600 p-3 text-right"></td>
                                        </tr>
                                        <tr class="bg-white dark:bg-gray-800">
                                            <td class="border dark:border-gray-600 p-3">Advertising Expense</td>
                                            <td class="border dark:border-gray-600 p-3 text-right">
                                                <input type="number" id="tb-advertising" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base text-right" placeholder="Amount">
                                            </td>
                                            <td class="border dark:border-gray-600 p-3 text-right"></td>
                                        </tr>
                                        <tr class="bg-white dark:bg-gray-800">
                                            <td class="border dark:border-gray-600 p-3">Utilities Expense</td>
                                            <td class="border dark:border-gray-600 p-3 text-right">
                                                <input type="number" id="tb-utilities" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base text-right" placeholder="Amount">
                                            </td>
                                            <td class="border dark:border-gray-600 p-3 text-right"></td>
                                        </tr>
                                        <tr class="bg-white dark:bg-gray-800">
                                            <td class="border dark:border-gray-600 p-3">Salaries Expense</td>
                                            <td class="border dark:border-gray-600 p-3 text-right">
                                                <input type="number" id="tb-salaries" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base text-right" placeholder="Amount">
                                            </td>
                                            <td class="border dark:border-gray-600 p-3 text-right"></td>
                                        </tr>
                                        <tr class="bg-gray-100 dark:bg-gray-700 font-semibold">
                                            <td class="border dark:border-gray-600 p-3">Total</td>
                                            <td class="border dark:border-gray-600 p-3 text-right">
                                                <input type="number" id="tb-total-debits" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base text-right" placeholder="Total">
                                            </td>
                                            <td class="border dark:border-gray-600 p-3 text-right">
                                                <input type="number" id="tb-total-credits" class="w-full p-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-base text-right" placeholder="Total">
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-6 text-center">
                        <button id="check-final-challenge" class="bg-primary hover:bg-secondary text-white py-3 px-6 rounded-md transition-colors text-lg font-semibold">
                            Submit Final Challenge
                        </button>
                    </div>
                    
                    <div id="final-challenge-result" class="mt-6 hidden"></div>
                </div>
                
                <!-- Completion Certificate -->
                <div id="completion-certificate" class="mb-8 hidden">
                    <div class="bg-white dark:bg-gray-800 border-8 border-double border-primary p-8 rounded-lg text-center">
                        <div class="text-3xl font-bold mb-4">Certificate of Completion</div>
                        <div class="mb-6">This certifies that</div>
                        <div class="text-2xl font-semibold mb-6 text-primary">Accounting Student</div>
                        <div class="mb-6">has successfully completed</div>
                        <div class="text-xl font-bold mb-8">Double Entry Accounting Principles</div>
                        <div class="grid grid-cols-2 gap-8 mb-6">
                            <div>
                                <div class="border-b border-gray-300 dark:border-gray-600 pb-2 mb-2">Date</div>
                                <div id="certificate-date"></div>
                            </div>
                            <div>
                                <div class="border-b border-gray-300 dark:border-gray-600 pb-2 mb-2">Score</div>
                                <div id="certificate-score"></div>
                            </div>
                        </div>
                        <div class="text-sm italic">Congratulations on mastering the fundamentals of double entry accounting!</div>
                    </div>
                    
                    <div class="text-center mt-6">
                        <button id="download-certificate" class="bg-primary hover:bg-secondary text-white py-2 px-4 rounded-md transition-colors">
                            <i class="fas fa-download mr-2"></i> Save Certificate
                        </button>
                        <div class="mt-2 text-sm italic">Right-click on the certificate and select "Save image as..." to save it to your device.</div>
                    </div>
                </div>
                
                <div class="flex justify-between">
                    <button class="prev-module bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 py-2 px-4 rounded-md transition-colors" data-prev="suspense">
                        <i class="fas fa-arrow-left mr-2"></i> Previous: Suspense Account
                    </button>
                    <button class="btn-disabled opacity-50 cursor-not-allowed bg-gray-300 dark:bg-gray-600 py-2 px-4 rounded-md">
                        Next <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Footer -->
    <footer class="bg-gray-100 dark:bg-gray-800 py-4 mt-8">
        <div class="container mx-auto px-4 text-center">
            <p class="text-sm text-gray-600 dark:text-gray-400">¬© 2023 Double Entry Accounting Master | Educational App</p>
        </div>
    </footer>

    <script>
        // Helper Functions
        function showConfetti() {
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                
                // Random position, color and size
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 80%, 60%)`;
                confetti.style.width = `${Math.random() * 10 + 5}px`;
                confetti.style.height = `${Math.random() * 10 + 5}px`;
                confetti.style.animationDuration = `${Math.random() * 3 + 2}s`;
                
                document.body.appendChild(confetti);
                
                // Remove after animation
                setTimeout(() => {
                    confetti.remove();
                }, 5000);
            }
        }
        
        function updateProgressBar(percent) {
            document.getElementById('progressPercent').textContent = `${percent}%`;
            document.getElementById('mobileProgress').textContent = `${percent}%`;
            document.getElementById('mobileProgressBar').style.width = `${percent}%`;
        }
        
        function updatePoints(points) {
            document.getElementById('totalPoints').textContent = points;
            document.getElementById('mobilePoints').textContent = points;
        }
        
        function showFeedback(elementId, isCorrect, message) {
            const element = document.getElementById(elementId);
            element.classList.remove('hidden');
            
            if (isCorrect) {
                element.classList.add('bg-green-100', 'dark:bg-green-900', 'border-green-200', 'dark:border-green-700', 'text-green-800', 'dark:text-green-200');
                element.innerHTML = `<div class="flex items-center">
                    <i class="fas fa-check-circle text-green-500 mr-2"></i>
                    <span>${message}</span>
                </div>`;
            } else {
                element.classList.add('bg-red-100', 'dark:bg-red-900', 'border-red-200', 'dark:border-red-700', 'text-red-800', 'dark:text-red-200');
                element.innerHTML = `<div class="flex items-center">
                    <i class="fas fa-times-circle text-red-500 mr-2"></i>
                    <span>${message}</span>
                </div>`;
            }
        }
        
        // Global variables
        let totalPoints = 0;
        let completedModules = new Set();
        const totalModules = 9;
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            // Theme Toggling
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.documentElement.classList.add('dark');
            }
            
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
                if (event.matches) {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
            });
            
            document.getElementById('toggleTheme').addEventListener('click', function() {
                document.documentElement.classList.toggle('dark');
            });
            
            // Welcome Modal
            const welcomeModal = document.getElementById('welcomeModal');
            document.getElementById('startLearning').addEventListener('click', function() {
                welcomeModal.classList.add('opacity-0');
                setTimeout(() => {
                    welcomeModal.classList.add('hidden');
                }, 300);
            });
            
            // Tab Navigation
            const tabButtons = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const tabId = button.getAttribute('data-tab');
                    
                    // Remove active class from all buttons and hide all contents
                    tabButtons.forEach(btn => btn.classList.remove('active', 'bg-primary', 'text-white'));
                    tabContents.forEach(content => content.classList.add('hidden'));
                    
                    // Add active class to clicked button and show corresponding content
                    button.classList.add('active', 'bg-primary', 'text-white');
                    document.getElementById(tabId).classList.remove('hidden');
                });
            });
            
            // Next/Previous Module Navigation
            document.querySelectorAll('.next-module').forEach(button => {
                button.addEventListener('click', function() {
                    const nextTab = this.getAttribute('data-next');
                    
                    // Update tab buttons and content
                    tabButtons.forEach(btn => {
                        if (btn.getAttribute('data-tab') === nextTab) {
                            tabButtons.forEach(b => b.classList.remove('active', 'bg-primary', 'text-white'));
                            btn.classList.add('active', 'bg-primary', 'text-white');
                        }
                    });
                    
                    tabContents.forEach(content => content.classList.add('hidden'));
                    document.getElementById(nextTab).classList.remove('hidden');
                });
            });
            
            document.querySelectorAll('.prev-module').forEach(button => {
                button.addEventListener('click', function() {
                    const prevTab = this.getAttribute('data-prev');
                    
                    // Update tab buttons and content
                    tabButtons.forEach(btn => {
                        if (btn.getAttribute('data-tab') === prevTab) {
                            tabButtons.forEach(b => b.classList.remove('active', 'bg-primary', 'text-white'));
                            btn.classList.add('active', 'bg-primary', 'text-white');
                        }
                    });
                    
                    tabContents.forEach(content => content.classList.add('hidden'));
                    document.getElementById(prevTab).classList.remove('hidden');
                });
            });
            
            // Introduction Quiz
            document.getElementById('check-intro-quiz').addEventListener('click', function() {
                const q1Answer = document.querySelector('input[name="intro-q1"]:checked')?.value;
                const q2Answer = document.querySelector('input[name="intro-q2"]:checked')?.value;
                
                let message = '';
                let isCorrect = false;
                let points = 0;
                
                if (q1Answer === 'c' && q2Answer === 'c') {
                    message = 'Great job! You got all questions correct!';
                    isCorrect = true;
                    points = 10;
                    completedModules.add('introduction');
                } else if (q1Answer === 'c' || q2Answer === 'c') {
                    message = 'You got 1 question correct. Try again for full points!';
                    isCorrect = false;
                    points = 5;
                } else {
                    message = 'Review the material and try again.';
                    isCorrect = false;
                    points = 0;
                }
                
                totalPoints += points;
                updatePoints(totalPoints);
                updateProgressBar(Math.round((completedModules.size / totalModules) * 100));
                
                showFeedback('intro-quiz-result', isCorrect, message);
            });
            
            // Source Documents Content
            const sourceDocuments = [
                {
                    id: 'invoice',
                    name: 'Sales Invoice',
                    icon: 'file-invoice',
                    description: 'A document issued by a seller to a buyer that indicates the products, quantities, and agreed prices for products or services the seller has provided.',
                    uses: 'Records sales of goods or services on credit.',
                    image: '<div class="text-center"><i class="fas fa-file-invoice text-5xl text-primary mb-3"></i><h3 class="text-xl font-semibold mb-2">Sales Invoice</h3><div class="border dark:border-gray-600 p-4 rounded-md mb-3"><div class="text-left"><p class="font-semibold">INVOICE #1001</p><p>Date: Jan 15, 2023</p><p>Customer: ABC Company</p><hr class="my-2 border-gray-300 dark:border-gray-600"><table class="w-full text-left mt-2"><tr><th>Item</th><th>Qty</th><th>Price</th><th>Total</th></tr><tr><td>Widget A</td><td>5</td><td>$20.00</td><td>$100.00</td></tr><tr><td>Service B</td><td>2</td><td>$50.00</td><td>$100.00</td></tr></table><hr class="my-2 border-gray-300 dark:border-gray-600"><p class="text-right font-semibold">Total: $200.00</p></div></div><p class="text-sm">Records a sale of goods or services, particularly on credit.</p></div>'
                },
                {
                    id: 'receipt',
                    name: 'Cash Receipt',
                    icon: 'receipt',
                    description: 'A document that confirms a payment has been received for goods or services.',
                    uses: 'Provides proof of cash payments or collections.',
                    image: '<div class="text-center"><i class="fas fa-receipt text-5xl text-primary mb-3"></i><h3 class="text-xl font-semibold mb-2">Cash Receipt</h3><div class="border dark:border-gray-600 p-4 rounded-md mb-3"><div class="text-left"><p class="font-semibold">RECEIPT #5023</p><p>Date: Jan 18, 2023</p><p>Received From: XYZ Ltd</p><hr class="my-2 border-gray-300 dark:border-gray-600"><p class="my-2">Amount Received: $350.00</p><p>For: Payment of Invoice #1001</p><p>Payment Method: Cash</p><hr class="my-2 border-gray-300 dark:border-gray-600"><p class="text-right font-semibold">Signature: __________</p></div></div><p class="text-sm">Documents money received from customers for goods or services.</p></div>'
                },
                {
                    id: 'check',
                    name: 'Cheque',
                    icon: 'money-check',
                    description: 'A written order instructing a bank to pay a specific amount from a specific account to a person or business.',
                    uses: 'Used for making payments to suppliers, employees, etc.',
                    image: '<div class="text-center"><i class="fas fa-money-check text-5xl text-primary mb-3"></i><h3 class="text-xl font-semibold mb-2">Cheque</h3><div class="border dark:border-gray-600 p-4 rounded-md mb-3"><div class="text-left p-2 bg-gray-50 dark:bg-gray-700 rounded"><p class="font-semibold">BUSINESS BANK</p><p class="text-xs">Date: Jan 20, 2023</p><p class="my-2">PAY TO THE ORDER OF: Office Supplies Inc.</p><div class="flex justify-between"><p>$275.00</p><p class="font-semibold">John Smith</p></div><p class="text-xs mt-2">For: Office Supplies</p></div></div><p class="text-sm">Provides a record of payment and serves as proof of transaction.</p></div>'
                },
                {
                    id: 'note',
                    name: 'Credit Note',
                    icon: 'sticky-note',
                    description: 'A document issued by a seller to a buyer to indicate the reduction in the amount due from the buyer.',
                    uses: 'Records returns, allowances, or corrections to previous sales.',
                    image: '<div class="text-center"><i class="fas fa-sticky-note text-5xl text-primary mb-3"></i><h3 class="text-xl font-semibold mb-2">Credit Note</h3><div class="border dark:border-gray-600 p-4 rounded-md mb-3"><div class="text-left"><p class="font-semibold">CREDIT NOTE #CR102</p><p>Date: Jan 22, 2023</p><p>Customer: ABC Company</p><p>Reference: Invoice #1001</p><hr class="my-2 border-gray-300 dark:border-gray-600"><table class="w-full text-left mt-2"><tr><th>Item</th><th>Qty</th><th>Price</th><th>Total</th></tr><tr><td>Widget A (Returned)</td><td>2</td><td>$20.00</td><td>$40.00</td></tr></table><hr class="my-2 border-gray-300 dark:border-gray-600"><p class="text-right font-semibold">Total Credit: $40.00</p></div></div><p class="text-sm">Documents reductions to customer accounts due to returns or allowances.</p></div>'
                },
                {
                    id: 'memo',
                    name: 'Debit Memo',
                    icon: 'file-alt',
                    description: 'A document issued by a buyer to a seller to request a reduction in the amount owed.',
                    uses: 'Records additional charges or corrections to previous purchases.',
                    image: '<div class="text-center"><i class="fas fa-file-alt text-5xl text-primary mb-3"></i><h3 class="text-xl font-semibold mb-2">Debit Memo</h3><div class="border dark:border-gray-600 p-4 rounded-md mb-3"><div class="text-left"><p class="font-semibold">DEBIT MEMO #DM205</p><p>Date: Jan 25, 2023</p><p>Vendor: Supplier Co.</p><p>Reference: Purchase Order #P2023</p><hr class="my-2 border-gray-300 dark:border-gray-600"><table class="w-full text-left mt-2"><tr><th>Reason</th><th>Amount</th></tr><tr><td>Shipping charges not included in invoice</td><td>$25.00</td></tr></table><hr class="my-2 border-gray-300 dark:border-gray-600"><p class="text-right font-semibold">Total Additional Charge: $25.00</p></div></div><p class="text-sm">Notifies vendors of additional charges or corrections needed.</p></div>'
                }
            ];
            
            // Populate source documents
            const sourceDocsContainer = document.getElementById('source-docs-container');
            if (sourceDocsContainer) {
                sourceDocuments.forEach(doc => {
                    const docElement = document.createElement('div');
                    docElement.className = 'bg-white dark:bg-gray-800 p-3 rounded-md shadow-sm cursor-pointer hover:shadow-md transition-shadow source-doc-card';
                    docElement.dataset.id = doc.id;
                    
                    docElement.innerHTML = `
                        <div class="flex items-center">
                            <i class="fas fa-${doc.icon} text-primary mr-3"></i>
                            <div>
                                <h4 class="font-semibold">${doc.name}</h4>
                                <p class="text-xs text-gray-500 dark:text-gray-400">Click to view</p>
                            </div>
                        </div>
                    `;
                    
                    sourceDocsContainer.appendChild(docElement);
                    
                    docElement.addEventListener('click', function() {
                        const docId = this.dataset.id;
                        const selectedDoc = sourceDocuments.find(d => d.id === docId);
                        
                        document.getElementById('doc-preview').innerHTML = selectedDoc.image;
                        
                        // Highlight the selected card
                        document.querySelectorAll('.source-doc-card').forEach(card => {
                            card.classList.remove('border-primary', 'border-2');
                        });
                        this.classList.add('border-primary', 'border-2');
                    });
                });
            }
            
            // Source Documents Matching Exercise
            const sourceDocItems = document.getElementById('source-doc-items');
            const journalItems = document.getElementById('journal-items');
            
            if (sourceDocItems && journalItems) {
                // Set up draggable items
                new Sortable(sourceDocItems, {
                    group: {
                        name: 'shared',
                        pull: 'clone',
                        put: false
                    },
                    animation: 150,
                    sort: false,
                    onClone: function(evt) {
                        evt.clone.classList.add('opacity-50');
                    }
                });
                
                // Set up drop zones
                document.querySelectorAll('.dropzone').forEach(dropzone => {
                    new Sortable(dropzone, {
                        group: {
                            name: 'shared',
                            pull: false
                        },
                        animation: 150,
                        sort: false,
                        onAdd: function(evt) {
                            // Keep only one item per dropzone
                            if (evt.to.children.length > 1) {
                                evt.to.removeChild(evt.to.children[0]);
                            }
                        }
                    });
                });
                
                // Check answers
                document.getElementById('check-docs-matching').addEventListener('click', function() {
                    const correctMatches = {
                        'sales': 'invoice',
                        'cash': 'receipt',
                        'payments': 'check',
                        'returns': 'note',
                        'general': 'memo'
                    };
                    
                    let correctCount = 0;
                    let totalDropzones = 0;
                    
                    document.querySelectorAll('.droppable').forEach(droppable => {
                        const journalId = droppable.dataset.id;
                        const dropzone = droppable.querySelector('.dropzone');
                        totalDropzones++;
                        
                        if (dropzone.children.length > 0) {
                            const docId = dropzone.children[0].dataset.id;
                            
                            if (correctMatches[journalId] === docId) {
                                dropzone.classList.add('bg-green-100', 'dark:bg-green-900', 'border-green-500');
                                correctCount++;
                            } else {
                                dropzone.classList.add('bg-red-100', 'dark:bg-red-900', 'border-red-500');
                            }
                        }
                    });
                    
                    // Show feedback
                    const docsMatchingResult = document.getElementById('docs-matching-result');
                    docsMatchingResult.classList.remove('hidden');
                    
                    if (correctCount === totalDropzones) {
                        docsMatchingResult.innerHTML = `
                            <div class="bg-green-100 dark:bg-green-900 border border-green-200 dark:border-green-700 text-green-800 dark:text-green-200 p-3 rounded-md">
                                <div class="flex items-center">
                                    <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                    <span>Perfect! All matches are correct. You've earned 10 points!</span>
                                </div>
                            </div>
                        `;
                        totalPoints += 10;
                        updatePoints(totalPoints);
                        completedModules.add('source-documents');
                        updateProgressBar(Math.round((completedModules.size / totalModules) * 100));
                    } else {
                        const earnedPoints = Math.round((correctCount / totalDropzones) * 10);
                        docsMatchingResult.innerHTML = `
                            <div class="bg-yellow-100 dark:bg-yellow-900 border border-yellow-200 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200 p-3 rounded-md">
                                <div class="flex items-center">
                                    <i class="fas fa-exclamation-triangle text-yellow-500 mr-2"></i>
                                    <span>You got ${correctCount} out of ${totalDropzones} correct. You've earned ${earnedPoints} points. Try again for full points!</span>
                                </div>
                            </div>
                        `;
                        totalPoints += earnedPoints;
                        updatePoints(totalPoints);
                    }
                });
                
                // Reset matching exercise
                document.getElementById('reset-docs-matching').addEventListener('click', function() {
                    document.querySelectorAll('.dropzone').forEach(dropzone => {
                        // Remove all children
                        while (dropzone.firstChild) {
                            dropzone.removeChild(dropzone.firstChild);
                        }
                        
                        // Remove highlighting
                        dropzone.classList.remove(
                            'bg-green-100', 'dark:bg-green-900', 'border-green-500', 
                            'bg-red-100', 'dark:bg-red-900', 'border-red-500'
                        );
                    });
                    
                    // Hide result
                    document.getElementById('docs-matching-result').classList.add('hidden');
                });
            }
            
            // Source Documents Quiz
            document.getElementById('check-docs-quiz').addEventListener('click', function() {
                const q1Answer = document.querySelector('input[name="docs-q1"]:checked')?.value;
                const q2Answer = document.querySelector('input[name="docs-q2"]:checked')?.value;
                
                let message = '';
                let isCorrect = false;
                let points = 0;
                
                if (q1Answer === 'b' && q2Answer === 'c') {
                    message = 'Great job! You got all questions correct!';
                    isCorrect = true;
                    points = 10;
                    
                    if (!completedModules.has('source-documents')) {
                        completedModules.add('source-documents');
                        updateProgressBar(Math.round((completedModules.size / totalModules) * 100));
                    }
                } else if (q1Answer === 'b' || q2Answer === 'c') {
                    message = 'You got 1 question correct. Try again for full points!';
                    isCorrect = false;
                    points = 5;
                } else {
                    message = 'Review the material and try again.';
                    isCorrect = false;
                    points = 0;
                }
                
                totalPoints += points;
                updatePoints(totalPoints);
                
                showFeedback('docs-quiz-result', isCorrect, message);
            });
            
            // Accounting Equation Chart
            const equationCtx = document.getElementById('equation-chart');
            if (equationCtx) {
                const equationChart = new Chart(equationCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Assets', 'Liabilities + Equity'],
                        datasets: [{
                            label: 'Amount ($)',
                            data: [10000, 10000],
                            backgroundColor: [
                                '#5D5CDE',
                                '#9797f0'
                            ],
                            borderColor: [
                                '#4b4bbf',
                                '#7575d9'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    callback: function(value) {
                                        return '$' + value;
                                    }
                                }
                            }
                        }
                    }
                });
                
                // Transaction selector for equation chart
                document.getElementById('transaction-selector').addEventListener('change', function() {
                    const transaction = this.value;
                    const effectElement = document.getElementById('transaction-effect');
                    
                    let assets = 10000;
                    let liabilities = 4000;
                    let equity = 6000;
                    let explanation = '';
                    
                    switch(transaction) {
                        case 'initial':
                            explanation = 'Initial state: Assets = $10,000, Liabilities = $4,000, Equity = $6,000. The accounting equation is balanced: $10,000 = $4,000 + $6,000.';
                            break;
                        case 'cash-purchase':
                            explanation = 'Purchasing equipment with cash affects only the composition of assets. Cash decreases by $2,000, but Equipment increases by $2,000. Total assets remain unchanged at $10,000.';
                            break;
                        case 'credit-purchase':
                            assets = 13000;
                            liabilities = 7000;
                            explanation = 'Purchasing inventory on credit increases both assets (Inventory +$3,000) and liabilities (Accounts Payable +$3,000). The accounting equation remains balanced: $13,000 = $7,000 + $6,000.';
                            break;
                        case 'investment':
                            assets = 15000;
                            equity = 11000;
                            explanation = 'Owner investment increases both assets (Cash +$5,000) and equity (Owner\'s Capital +$5,000). The accounting equation remains balanced: $15,000 = $4,000 + $11,000.';
                            break;
                        case 'revenue':
                            assets = 11000;
                            equity = 7000;
                            explanation = 'Earning revenue increases both assets (Cash +$1,000) and equity (via Revenue +$1,000). The accounting equation remains balanced: $11,000 = $4,000 + $7,000.';
                            break;
                        case 'expense':
                            assets = 9500;
                            equity = 5500;
                            explanation = 'Paying for an expense decreases both assets (Cash -$500) and equity (via Expenses -$500). The accounting equation remains balanced: $9,500 = $4,000 + $5,500.';
                            break;
                        case 'loan':
                            assets = 14000;
                            liabilities = 8000;
                            explanation = 'Taking out a loan increases both assets (Cash +$4,000) and liabilities (Loan Payable +$4,000). The accounting equation remains balanced: $14,000 = $8,000 + $6,000.';
                            break;
                        case 'pay-debt':
                            assets = 8000;
                            liabilities = 2000;
                            explanation = 'Paying off debt decreases both assets (Cash -$2,000) and liabilities (Accounts Payable -$2,000). The accounting equation remains balanced: $8,000 = $2,000 + $6,000.';
                            break;
                    }
                    
                    // Update chart
                    equationChart.data.datasets[0].data = [assets, liabilities + equity];
                    equationChart.update();
                    
                    // Update explanation
                    effectElement.innerHTML = `
                        <div class="mb-3">
                            <div class="font-semibold mb-1">Current Values:</div>
                            <div class="flex justify-between">
                                <span>Assets: $${assets}</span>
                                <span>Liabilities: $${liabilities}</span>
                                <span>Equity: $${equity}</span>
                            </div>
                        </div>
                        <div>
                            <div class="font-semibold mb-1">Effect:</div>
                            <p>${explanation}</p>
                        </div>
                    `;
                });
            }
            
            // Accounting Equation Quiz
            document.getElementById('check-equation-quiz').addEventListener('click', function() {
                const q1Answer = document.querySelector('input[name="eq-q1"]:checked')?.value;
                const q2Answer = document.querySelector('input[name="eq-q2"]:checked')?.value;
                const q3Answer = document.querySelector('input[name="eq-q3"]:checked')?.value;
                
                let message = '';
                let isCorrect = false;
                let points = 0;
                
                if (q1Answer === 'b' && q2Answer === 'b' && q3Answer === 'a') {
                    message = 'Excellent! You got all questions correct!';
                    isCorrect = true;
                    points = 15;
                    completedModules.add('accounting-equation');
                    updateProgressBar(Math.round((completedModules.size / totalModules) * 100));
                } else if ((q1Answer === 'b' && q2Answer === 'b') || 
                          (q1Answer === 'b' && q3Answer === 'a') || 
                          (q2Answer === 'b' && q3Answer === 'a')) {
                    message = 'You got 2 questions correct. Try again for full points!';
                    isCorrect = false;
                    points = 10;
                } else if (q1Answer === 'b' || q2Answer === 'b' || q3Answer === 'a') {
                    message = 'You got 1 question correct. Review the material and try again.';
                    isCorrect = false;
                    points = 5;
                } else {
                    message = 'Review the material and try again.';
                    isCorrect = false;
                    points = 0;
                }
                
                totalPoints += points;
                updatePoints(totalPoints);
                
                showFeedback('equation-quiz-result', isCorrect, message);
            });
            
            // Transaction Tab Navigation
            const transactionTabs = document.querySelectorAll('.transaction-tab');
            const transactionContents = document.querySelectorAll('.transaction-content');
            
            transactionTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.getAttribute('data-tab');
                    
                    // Remove active class from all tabs and hide all contents
                    transactionTabs.forEach(t => t.classList.remove('text-primary', 'border-primary', 'border-b-2'));
                    transactionContents.forEach(content => content.classList.add('hidden'));
                    
                    // Add active class to clicked tab and show corresponding content
                    tab.classList.add('text-primary', 'border-primary', 'border-b-2');
                    document.getElementById(tabId).classList.remove('hidden');
                });
            });
            
            // Double Entry Practice
            document.getElementById('check-journal-entry').addEventListener('click', function() {
                const debit1Account = document.getElementById('practice-debit1-account').value;
                const debit1Amount = parseInt(document.getElementById('practice-debit1-amount').value) || 0;
                const credit1Account = document.getElementById('practice-credit1-account').value;
                const credit1Amount = parseInt(document.getElementById('practice-credit1-amount').value) || 0;
                const credit2Account = document.getElementById('practice-credit2-account').value;
                const credit2Amount = parseInt(document.getElementById('practice-credit2-amount').value) || 0;
                
                let isCorrect = false;
                let message = '';
                let points = 0;
                
                if (debit1Account === 'vehicle' && debit1Amount === 20000 && 
                    ((credit1Account === 'cash' && credit1Amount === 5000 && credit2Account === 'note' && credit2Amount === 15000) || 
                     (credit1Account === 'note' && credit1Amount === 15000 && credit2Account === 'cash' && credit2Amount === 5000))) {
                    message = 'Perfect! Your journal entry correctly records the purchase of a delivery van for $20,000, with $5,000 paid in cash and a $15,000 note payable.';
                    isCorrect = true;
                    points = 15;
                    completedModules.add('double-entry');
                    updateProgressBar(Math.round((completedModules.size / totalModules) * 100));
                } else if (debit1Account === 'vehicle' && debit1Amount === 20000) {
                    message = 'Your debit entry is correct, but check your credit entries. Remember that $5,000 was paid in cash and $15,000 was financed with a note payable.';
                    isCorrect = false;
                    points = 5;
                } else if ((credit1Account === 'cash' && credit1Amount === 5000) || 
                           (credit2Account === 'cash' && credit2Amount === 5000)) {
                    message = 'One of your credit entries is correct, but review the full transaction and check your debit entry and other credit entry.';
                    isCorrect = false;
                    points = 3;
                } else {
                    message = 'Review the double entry principles. Remember that when a company purchases a vehicle, the vehicle (an asset) increases, and either cash decreases or a liability increases.';
                    isCorrect = false;
                    points = 0;
                }
                
                totalPoints += points;
                updatePoints(totalPoints);
                
                showFeedback('journal-entry-result', isCorrect, message);
            });
            
            // Double Entry Quiz
            document.getElementById('check-double-entry-quiz').addEventListener('click', function() {
                const q1Answer = document.querySelector('input[name="de-q1"]:checked')?.value;
                const q2Answer = document.querySelector('input[name="de-q2"]:checked')?.value;
                
                let message = '';
                let isCorrect = false;
                let points = 0;
                
                if (q1Answer === 'b' && q2Answer === 'a') {
                    message = 'Excellent! You understand the principles of double entry accounting.';
                    isCorrect = true;
                    points = 10;
                    
                    if (!completedModules.has('double-entry')) {
                        completedModules.add('double-entry');
                        updateProgressBar(Math.round((completedModules.size / totalModules) * 100));
                    }
                } else if (q1Answer === 'b' || q2Answer === 'a') {
                    message = 'You got 1 question correct. Review the material and try again for full points!';
                    isCorrect = false;
                    points = 5;
                } else {
                    message = 'Review the double entry principles and try again.';
                    isCorrect = false;
                    points = 0;
                }
                
                totalPoints += points;
                updatePoints(totalPoints);
                
                showFeedback('double-entry-quiz-result', isCorrect, message);
            });
            
            // T-Accounts Practice
            document.getElementById('check-t-accounts').addEventListener('click', function() {
                const equipment1Debit = parseInt(document.getElementById('t-account-1-debit').value) || 0;
                const equipment1Credit = parseInt(document.getElementById('t-account-1-credit').value) || 0;
                const cash2Debit = parseInt(document.getElementById('t-account-2-debit').value) || 0;
                const cash2Credit = parseInt(document.getElementById('t-account-2-credit').value) || 0;
                const ap3Debit = parseInt(document.getElementById('t-account-3-debit').value) || 0;
                const ap3Credit = parseInt(document.getElementById('t-account-3-credit').value) || 0;
                
                let isCorrect = false;
                let message = '';
                let points = 0;
                
                if (equipment1Debit === 2000 && equipment1Credit === 0 && 
                    cash2Debit === 0 && cash2Credit === 800 && 
                    ap3Debit === 0 && ap3Credit === 1200) {
                    message = 'Perfect! Your T-account entries correctly show: Debit Equipment $2,000, Credit Cash $800, Credit Accounts Payable $1,200.';
                    isCorrect = true;
                    points = 15;
                    completedModules.add('ledger');
                    updateProgressBar(Math.round((completedModules.size / totalModules) * 100));
                } else if (equipment1Debit === 2000 && cash2Credit === 800 && ap3Credit === 1200) {
                    message = 'Almost there! You have the correct amounts in the right places, but make sure the other cells are empty or contain zeros.';
                    isCorrect = false;
                    points = 10;
                } else if (equipment1Debit === 2000 || (cash2Credit === 800 && ap3Credit === 1200)) {
                    message = 'You are partially correct. Remember: Equipment should be debited $2,000, Cash should be credited $800, and Accounts Payable should be credited $1,200.';
                    isCorrect = false;
                    points = 5;
                } else {
                    message = 'Review the T-account structure and the transaction. Equipment (asset) increases with a debit, Cash (asset) decreases with a credit, and Accounts Payable (liability) increases with a credit.';
                    isCorrect = false;
                    points = 0;
                }
                
                totalPoints += points;
                updatePoints(totalPoints);
                
                showFeedback('t-accounts-result', isCorrect, message);
            });
            
            // Ledger Quiz
            document.getElementById('check-ledger-quiz').addEventListener('click', function() {
                const q1Answer = document.querySelector('input[name="ledger-q1"]:checked')?.value;
                const q2Answer = document.querySelector('input[name="ledger-q2"]:checked')?.value;
                
                let message = '';
                let isCorrect = false;
                let points = 0;
                
                if (q1Answer === 'a' && q2Answer === 'a') {
                    message = 'Excellent! You understand ledger concepts and account classifications.';
                    isCorrect = true;
                    points = 10;
                    
                    if (!completedModules.has('ledger')) {
                        completedModules.add('ledger');
                        updateProgressBar(Math.round((completedModules.size / totalModules) * 100));
                    }
                } else if (q1Answer === 'a' || q2Answer === 'a') {
                    message = 'You got 1 question correct. Review the material and try again for full points!';
                    isCorrect = false;
                    points = 5;
                } else {
                    message = 'Review the ledger concepts and account classifications and try again.';
                    isCorrect = false;
                    points = 0;
                }
                
                totalPoints += points;
                updatePoints(totalPoints);
                
                showFeedback('ledger-quiz-result', isCorrect, message);
            });
            
            // Trial Balance Practice
            // Recalculate totals button
            document.getElementById('recalculate-totals').addEventListener('click', function() {
                // Get all debit inputs
                const debitInputs = [
                    parseInt(document.getElementById('tb-cash').value) || 0,
                    parseInt(document.getElementById('tb-ar').value) || 0,
                    parseInt(document.getElementById('tb-inventory').value) || 0,
                    parseInt(document.getElementById('tb-equipment').value) || 0,
                    parseInt(document.getElementById('tb-rent').value) || 0,
                    parseInt(document.getElementById('tb-advertising').value) || 0,
                    parseInt(document.getElementById('tb-utilities').value) || 0,
                    parseInt(document.getElementById('tb-salaries').value) || 0
                ];
                
                // Get all credit inputs
                const creditInputs = [
                    parseInt(document.getElementById('tb-ap').value) || 0,
                    parseInt(document.getElementById('tb-capital').value) || 0,
                    parseInt(document.getElementById('tb-sales').value) || 0
                ];
                
                // Calculate totals
                const debitTotal = debitInputs.reduce((acc, val) => acc + val, 0);
                const creditTotal = creditInputs.reduce((acc, val) => acc + val, 0);
                
                // Update total fields
                document.getElementById('tb-total-debits').value = debitTotal;
                document.getElementById('tb-total-credits').value = creditTotal;
            });
            
            // Check trial balance
            document.getElementById('check-trial-balance').addEventListener('click', function() {
                const inventoryValue = parseInt(document.getElementById('tb-inventory').value) || 0;
                const salesValue = parseInt(document.getElementById('tb-sales').value) || 0;
                const debitTotal = parseInt(document.getElementById('tb-total-debits').value) || 0;
                const creditTotal = parseInt(document.getElementById('tb-total-credits').value) || 0;
                
                let isCorrect = false;
                let message = '';
                let points = 0;
                
                if (inventoryValue === 15000 && salesValue === 24000 && debitTotal === 66000 && creditTotal === 66000) {
                    message = 'Perfect! Your trial balance is correct and balanced. Inventory should be $15,000, Sales Revenue should be $24,000, and both totals should be $66,000.';
                    isCorrect = true;
                    points = 15;
                    completedModules.add('trial-balance');
                    updateProgressBar(Math.round((completedModules.size / totalModules) * 100));
                } else if (inventoryValue === 15000 && salesValue === 24000) {
                    message = 'Your account values are correct, but check your totals. Make sure to click "Recalculate Totals" to update the values.';
                    isCorrect = false;
                    points = 10;
                } else if (debitTotal === creditTotal && debitTotal > 0) {
                    message = 'Your trial balance is balanced, but check the values for Inventory and Sales Revenue accounts.';
                    isCorrect = false;
                    points = 5;
                } else {
                    message = 'Review the trial balance principles. Inventory should be $15,000, Sales Revenue should be $24,000, and both totals should be $66,000.';
                    isCorrect = false;
                    points = 0;
                }
                
                totalPoints += points;
                updatePoints(totalPoints);
                
                showFeedback('trial-balance-result', isCorrect, message);
            });
            
            // Trial Balance Quiz
            document.getElementById('check-trial-balance-quiz').addEventListener('click', function() {
                const q1Answer = document.querySelector('input[name="tb-q1"]:checked')?.value;
                const q2Answer = document.querySelector('input[name="tb-q2"]:checked')?.value;
                
                let message = '';
                let isCorrect = false;
                let points = 0;
                
                if (q1Answer === 'c' && q2Answer === 'd') {
                    message = 'Excellent! You understand the purpose and limitations of a trial balance.';
                    isCorrect = true;
                    points = 10;
                    
                    if (!completedModules.has('trial-balance')) {
                        completedModules.add('trial-balance');
                        updateProgressBar(Math.round((completedModules.size / totalModules) * 100));
                    }
                } else if (q1Answer === 'c' || q2Answer === 'd') {
                    message = 'You got 1 question correct. Review the material and try again for full points!';
                    isCorrect = false;
                    points = 5;
                } else {
                    message = 'Review the trial balance concepts and try again.';
                    isCorrect = false;
                    points = 0;
                }
                
                totalPoints += points;
                updatePoints(totalPoints);
                
                showFeedback('trial-balance-quiz-result', isCorrect, message);
            });
            
            // Error Corrections Exercise
            document.getElementById('check-error-corrections').addEventListener('click', function() {
                const errorType1 = document.getElementById('error-type-1').value;
                const error1DebitAccount = document.getElementById('error1-debit-account').value;
                const error1DebitAmount = parseInt(document.getElementById('error1-debit-amount').value) || 0;
                const error1CreditAccount = document.getElementById('error1-credit-account').value;
                const error1CreditAmount = parseInt(document.getElementById('error1-credit-amount').value) || 0;
                
                const errorType2 = document.getElementById('error-type-2').value;
                const error2DebitAccount = document.getElementById('error2-debit-account').value;
                const error2DebitAmount = parseInt(document.getElementById('error2-debit-amount').value) || 0;
                const error2CreditAccount = document.getElementById('error2-credit-account').value;
                const error2CreditAmount = parseInt(document.getElementById('error2-credit-amount').value) || 0;
                
                let scenario1Correct = false;
                let scenario2Correct = false;
                let scenario1Points = 0;
                let scenario2Points = 0;
                let message = '';
                
                // Check scenario 1
                if (errorType1 === 'commission' && 
                    error1DebitAccount === 'accounts-payable' && error1DebitAmount === 750 && 
                    error1CreditAccount === 'cash' && error1CreditAmount === 750) {
                    scenario1Correct = true;
                    scenario1Points = 10;
                } else if (errorType1 === 'commission') {
                    scenario1Points = 2;
                } else if (error1DebitAccount === 'accounts-payable' && error1CreditAccount === 'cash') {
                    scenario1Points = 5;
                }
                
                // Check scenario 2
                if (errorType2 === 'omission' && 
                    error2DebitAccount === 'cash' && error2DebitAmount === 500 && 
                    error2CreditAccount === 'service-revenue' && error2CreditAmount === 500) {
                    scenario2Correct = true;
                    scenario2Points = 10;
                } else if (errorType2 === 'omission') {
                    scenario2Points = 2;
                } else if (error2DebitAccount === 'cash' && error2CreditAccount === 'service-revenue') {
                    scenario2Points = 5;
                }
                
                const totalScenarioPoints = scenario1Points + scenario2Points;
                const isFullyCorrect = scenario1Correct && scenario2Correct;
                
                if (isFullyCorrect) {
                    message = 'Perfect! You correctly identified and corrected both errors.';
                    completedModules.add('errors');
                    updateProgressBar(Math.round((completedModules.size / totalModules) * 100));
                } else if (totalScenarioPoints >= 10) {
                    message = 'You got some parts correct, but check your answers for the ' + 
                              (scenario1Correct ? 'second' : 'first') + ' scenario.';
                } else {
                    message = 'Review the types of errors and how to correct them. For Scenario 1, the error is an Error of Commission (used wrong account). For Scenario 2, the error is an Error of Omission (transaction never recorded).';
                }
                
                totalPoints += totalScenarioPoints;
                updatePoints(totalPoints);
                
                showFeedback('error-corrections-result', isFullyCorrect, message);
            });
            
            // Errors Quiz
            document.getElementById('check-errors-quiz').addEventListener('click', function() {
                const q1Answer = document.querySelector('input[name="errors-q1"]:checked')?.value;
                const q2Answer = document.querySelector('input[name="errors-q2"]:checked')?.value;
                
                let message = '';
                let isCorrect = false;
                let points = 0;
                
                if (q1Answer === 'c' && q2Answer === 'b') {
                    message = 'Excellent! You understand the different types of accounting errors.';
                    isCorrect = true;
                    points = 10;
                    
                    if (!completedModules.has('errors')) {
                        completedModules.add('errors');
                        updateProgressBar(Math.round((completedModules.size / totalModules) * 100));
                    }
                } else if (q1Answer === 'c' || q2Answer === 'b') {
                    message = 'You got 1 question correct. Review the material and try again for full points!';
                    isCorrect = false;
                    points = 5;
                } else {
                    message = 'Review the types of accounting errors and try again.';
                    isCorrect = false;
                    points = 0;
                }
                
                totalPoints += points;
                updatePoints(totalPoints);
                
                showFeedback('errors-quiz-result', isCorrect, message);
            });
            
            // Suspense Account Exercise
            document.getElementById('check-suspense-exercise').addEventListener('click', function() {
                const suspenseType = document.getElementById('suspense-type').value;
                const suspenseAmount = parseInt(document.getElementById('suspense-amount').value) || 0;
                
                const suppliesDebitAccount = document.getElementById('supplies-debit-account').value;
                const suppliesDebitAmount = parseInt(document.getElementById('supplies-debit-amount').value) || 0;
                const suppliesCreditAccount = document.getElementById('supplies-credit-account').value;
                const suppliesCreditAmount = parseInt(document.getElementById('supplies-credit-amount').value) || 0;
                
                const paymentDebitAccount = document.getElementById('payment-debit-account').value;
                const paymentDebitAmount = parseInt(document.getElementById('payment-debit-amount').value) || 0;
                const paymentCreditAccount = document.getElementById('payment-credit-account').value;
                const paymentCreditAmount = parseInt(document.getElementById('payment-credit-amount').value) || 0;
                
                const finalSuspenseBalance = parseInt(document.getElementById('final-suspense-balance').value) || 0;
                const finalSuspenseType = document.getElementById('final-suspense-type').value;
                
                let isCorrect = false;
                let message = '';
                let points = 0;
                
                if (suspenseType === 'credit' && suspenseAmount === 600 && 
                    suppliesDebitAccount === 'supplies' && suppliesDebitAmount === 270 && 
                    suppliesCreditAccount === 'suspense' && suppliesCreditAmount === 270 && 
                    paymentDebitAccount === 'cash' && paymentDebitAmount === 400 && 
                    paymentCreditAccount === 'accounts-receivable' && paymentCreditAmount === 400 && 
                    finalSuspenseBalance === 330 && finalSuspenseType === 'credit') {
                    
                    message = 'Perfect! You correctly created and used the suspense account to handle the discrepancy.';
                    isCorrect = true;
                    points = 20;
                    completedModules.add('suspense');
                    updateProgressBar(Math.round((completedModules.size / totalModules) * 100));
                    
                } else if (suspenseType === 'credit' && suspenseAmount === 600) {
                    message = 'You correctly set up the suspense account, but check your correcting entries or final balance calculation.';
                    isCorrect = false;
                    points = 5;
                } else {
                    message = 'Review how suspense accounts work. Since debits ($45,600) exceed credits ($45,000) by $600, the suspense account should have a credit balance of $600 to balance the trial balance.';
                    isCorrect = false;
                    points = 0;
                }
                
                totalPoints += points;
                updatePoints(totalPoints);
                
                showFeedback('suspense-exercise-result', isCorrect, message);
            });
            
            // Suspense Account Quiz
            document.getElementById('check-suspense-quiz').addEventListener('click', function() {
                const q1Answer = document.querySelector('input[name="suspense-q1"]:checked')?.value;
                const q2Answer = document.querySelector('input[name="suspense-q2"]:checked')?.value;
                
                let message = '';
                let isCorrect = false;
                let points = 0;
                
                if (q1Answer === 'c' && q2Answer === 'b') {
                    message = 'Excellent! You understand the purpose and use of suspense accounts.';
                    isCorrect = true;
                    points = 10;
                    
                    if (!completedModules.has('suspense')) {
                        completedModules.add('suspense');
                        updateProgressBar(Math.round((completedModules.size / totalModules) * 100));
                    }
                } else if (q1Answer === 'c' || q2Answer === 'b') {
                    message = 'You got 1 question correct. Review the material and try again for full points!';
                    isCorrect = false;
                    points = 5;
                } else {
                    message = 'Review the suspense account concepts and try again.';
                    isCorrect = false;
                    points = 0;
                }
                
                totalPoints += points;
                updatePoints(totalPoints);
                
                showFeedback('suspense-quiz-result', isCorrect, message);
            });
            
            // Final Challenge
            document.getElementById('check-final-challenge').addEventListener('click', function() {
                // Journal entries check
                const journal1_1 = document.getElementById('journal-1-1').value;
                const journal1_1_debit = parseInt(document.getElementById('journal-1-1-debit').value) || 0;
                const journal1_2 = document.getElementById('journal-1-2').value;
                const journal1_2_credit = parseInt(document.getElementById('journal-1-2-credit').value) || 0;
                
                // Trial balance values check
                const tbCash = parseInt(document.getElementById('tb-cash').value) || 0;
                const tbAR = parseInt(document.getElementById('tb-ar').value) || 0;
                const tbSupplies = parseInt(document.getElementById('tb-supplies').value) || 0;
                const tbEquipment = parseInt(document.getElementById('tb-equipment').value) || 0;
                const tbAP = parseInt(document.getElementById('tb-ap').value) || 0;
                const tbCapital = parseInt(document.getElementById('tb-capital').value) || 0;
                const tbRevenue = parseInt(document.getElementById('tb-revenue').value) || 0;
                const tbRent = parseInt(document.getElementById('tb-rent').value) || 0;
                const tbAdvertising = parseInt(document.getElementById('tb-advertising').value) || 0;
                const tbUtilities = parseInt(document.getElementById('tb-utilities').value) || 0;
                const tbSalaries = parseInt(document.getElementById('tb-salaries').value) || 0;
                
                const tbTotalDebits = parseInt(document.getElementById('tb-total-debits').value) || 0;
                const tbTotalCredits = parseInt(document.getElementById('tb-total-credits').value) || 0;
                
                let journalCorrect = false;
                let trialBalanceCorrect = false;
                let message = '';
                let points = 0;
                
                // Check journal entry
                if (journal1_1 === 'cash' && journal1_1_debit === 10000 && 
                    journal1_2 === 'capital' && journal1_2_credit === 10000) {
                    journalCorrect = true;
                    points += 10;
                }
                
                // Check trial balance values
                // Correct values for TechRepair's trial balance
                const correctValues = {
                    cash: 8200,
                    ar: 1000,
                    supplies: 500,
                    equipment: 3000,
                    ap: 2500,
                    capital: 10000,
                    revenue: 3500,
                    rent: 800,
                    advertising: 300,
                    utilities: 200,
                    salaries: 1000
                };
                
                if (tbCash === correctValues.cash && 
                    tbAR === correctValues.ar && 
                    tbSupplies === correctValues.supplies && 
                    tbEquipment === correctValues.equipment && 
                    tbAP === correctValues.ap && 
                    tbCapital === correctValues.capital && 
                    tbRevenue === correctValues.revenue && 
                    tbRent === correctValues.rent && 
                    tbAdvertising === correctValues.advertising && 
                    tbUtilities === correctValues.utilities && 
                    tbSalaries === correctValues.salaries && 
                    tbTotalDebits === 15000 && 
                    tbTotalCredits === 15000) {
                    trialBalanceCorrect = true;
                    points += 20;
                }
                
                if (journalCorrect && trialBalanceCorrect) {
                    message = 'Congratulations! You\'ve successfully completed the final challenge! You\'ve demonstrated a solid understanding of double entry accounting principles.';
                    completedModules.add('final-challenge');
                    updateProgressBar(Math.round((completedModules.size / totalModules) * 100));
                    
                    // Show certificate
                    document.getElementById('completion-certificate').classList.remove('hidden');
                    
                    // Update certificate details
                    const today = new Date();
                    document.getElementById('certificate-date').textContent = today.toLocaleDateString();
                    document.getElementById('certificate-score').textContent = totalPoints + ' points';
                    
                    // Show confetti animation
                    showConfetti();
                } else if (journalCorrect) {
                    message = 'Your journal entry for the first transaction is correct, but check your trial balance values.';
                } else if (trialBalanceCorrect) {
                    message = 'Your trial balance is correct, but check your journal entry for the first transaction.';
                } else {
                    message = 'Review the transactions and try again. For the first transaction: The owner invested $10,000 cash to start the business.';
                }
                
                totalPoints += points;
                updatePoints(totalPoints);
                
                showFeedback('final-challenge-result', journalCorrect && trialBalanceCorrect, message);
            });
            
            // Initialize source documents
            //const sourceDocsContainer = document.getElementById('source-docs-container');
            if (sourceDocsContainer) {
                const sourceDocuments = [
                    {
                        id: 'invoice',
                        name: 'Sales Invoice',
                        icon: 'file-invoice',
                        description: 'A document issued by a seller to a buyer that indicates the products, quantities, and agreed prices for products or services the seller has provided.',
                        uses: 'Records sales of goods or services on credit.',
                        image: '<div class="text-center"><i class="fas fa-file-invoice text-5xl text-primary mb-3"></i><h3 class="text-xl font-semibold mb-2">Sales Invoice</h3><div class="border dark:border-gray-600 p-4 rounded-md mb-3"><div class="text-left"><p class="font-semibold">INVOICE #1001</p><p>Date: Jan 15, 2023</p><p>Customer: ABC Company</p><hr class="my-2 border-gray-300 dark:border-gray-600"><table class="w-full text-left mt-2"><tr><th>Item</th><th>Qty</th><th>Price</th><th>Total</th></tr><tr><td>Widget A</td><td>5</td><td>$20.00</td><td>$100.00</td></tr><tr><td>Service B</td><td>2</td><td>$50.00</td><td>$100.00</td></tr></table><hr class="my-2 border-gray-300 dark:border-gray-600"><p class="text-right font-semibold">Total: $200.00</p></div></div><p class="text-sm">Records a sale of goods or services, particularly on credit.</p></div>'
                    },
                    {
                        id: 'receipt',
                        name: 'Cash Receipt',
                        icon: 'receipt',
                        description: 'A document that confirms a payment has been received for goods or services.',
                        uses: 'Provides proof of cash payments or collections.',
                        image: '<div class="text-center"><i class="fas fa-receipt text-5xl text-primary mb-3"></i><h3 class="text-xl font-semibold mb-2">Cash Receipt</h3><div class="border dark:border-gray-600 p-4 rounded-md mb-3"><div class="text-left"><p class="font-semibold">RECEIPT #5023</p><p>Date: Jan 18, 2023</p><p>Received From: XYZ Ltd</p><hr class="my-2 border-gray-300 dark:border-gray-600"><p class="my-2">Amount Received: $350.00</p><p>For: Payment of Invoice #1001</p><p>Payment Method: Cash</p><hr class="my-2 border-gray-300 dark:border-gray-600"><p class="text-right font-semibold">Signature: __________</p></div></div><p class="text-sm">Documents money received from customers for goods or services.</p></div>'
                    },
                    {
                        id: 'check',
                        name: 'Cheque',
                        icon: 'money-check',
                        description: 'A written order instructing a bank to pay a specific amount from a specific account to a person or business.',
                        uses: 'Used for making payments to suppliers, employees, etc.',
                        image: '<div class="text-center"><i class="fas fa-money-check text-5xl text-primary mb-3"></i><h3 class="text-xl font-semibold mb-2">Cheque</h3><div class="border dark:border-gray-600 p-4 rounded-md mb-3"><div class="text-left p-2 bg-gray-50 dark:bg-gray-700 rounded"><p class="font-semibold">BUSINESS BANK</p><p class="text-xs">Date: Jan 20, 2023</p><p class="my-2">PAY TO THE ORDER OF: Office Supplies Inc.</p><div class="flex justify-between"><p>$275.00</p><p class="font-semibold">John Smith</p></div><p class="text-xs mt-2">For: Office Supplies</p></div></div><p class="text-sm">Provides a record of payment and serves as proof of transaction.</p></div>'
                    },
                    {
                        id: 'note',
                        name: 'Credit Note',
                        icon: 'sticky-note',
                        description: 'A document issued by a seller to a buyer to indicate the reduction in the amount due from the buyer.',
                        uses: 'Records returns, allowances, or corrections to previous sales.',
                        image: '<div class="text-center"><i class="fas fa-sticky-note text-5xl text-primary mb-3"></i><h3 class="text-xl font-semibold mb-2">Credit Note</h3><div class="border dark:border-gray-600 p-4 rounded-md mb-3"><div class="text-left"><p class="font-semibold">CREDIT NOTE #CR102</p><p>Date: Jan 22, 2023</p><p>Customer: ABC Company</p><p>Reference: Invoice #1001</p><hr class="my-2 border-gray-300 dark:border-gray-600"><table class="w-full text-left mt-2"><tr><th>Item</th><th>Qty</th><th>Price</th><th>Total</th></tr><tr><td>Widget A (Returned)</td><td>2</td><td>$20.00</td><td>$40.00</td></tr></table><hr class="my-2 border-gray-300 dark:border-gray-600"><p class="text-right font-semibold">Total Credit: $40.00</p></div></div><p class="text-sm">Documents reductions to customer accounts due to returns or allowances.</p></div>'
                    },
                    {
                        id: 'memo',
                        name: 'Debit Memo',
                        icon: 'file-alt',
                        description: 'A document issued by a buyer to a seller to request a reduction in the amount owed.',
                        uses: 'Records additional charges or corrections to previous purchases.',
                        image: '<div class="text-center"><i class="fas fa-file-alt text-5xl text-primary mb-3"></i><h3 class="text-xl font-semibold mb-2">Debit Memo</h3><div class="border dark:border-gray-600 p-4 rounded-md mb-3"><div class="text-left"><p class="font-semibold">DEBIT MEMO #DM205</p><p>Date: Jan 25, 2023</p><p>Vendor: Supplier Co.</p><p>Reference: Purchase Order #P2023</p><hr class="my-2 border-gray-300 dark:border-gray-600"><table class="w-full text-left mt-2"><tr><th>Reason</th><th>Amount</th></tr><tr><td>Shipping charges not included in invoice</td><td>$25.00</td></tr></table><hr class="my-2 border-gray-300 dark:border-gray-600"><p class="text-right font-semibold">Total Additional Charge: $25.00</p></div></div><p class="text-sm">Notifies vendors of additional charges or corrections needed.</p></div>'
                    }
                ];
                
                sourceDocuments.forEach(doc => {
                    const docElement = document.createElement('div');
                    docElement.className = 'bg-white dark:bg-gray-800 p-3 rounded-md shadow-sm cursor-pointer hover:shadow-md transition-shadow source-doc-card';
                    docElement.dataset.id = doc.id;
                    
                    docElement.innerHTML = `
                        <div class="flex items-center">
                            <i class="fas fa-${doc.icon} text-primary mr-3"></i>
                            <div>
                                <h4 class="font-semibold">${doc.name}</h4>
                                <p class="text-xs text-gray-500 dark:text-gray-400">Click to view</p>
                            </div>
                        </div>
                    `;
                    
                    sourceDocsContainer.appendChild(docElement);
                    
                    docElement.addEventListener('click', function() {
                        const docId = this.dataset.id;
                        const selectedDoc = sourceDocuments.find(d => d.id === docId);
                        
                        document.getElementById('doc-preview').innerHTML = selectedDoc.image;
                        
                        // Highlight the selected card
                        document.querySelectorAll('.source-doc-card').forEach(card => {
                            card.classList.remove('border-primary', 'border-2');
                        });
                        this.classList.add('border-primary', 'border-2');
                    });
                });
            }
            
            // Certificate download simulation
            document.getElementById('download-certificate').addEventListener('click', function() {
                alert('To save the certificate, right-click on the certificate and select "Save image as..."');
            });
        });
    </script>