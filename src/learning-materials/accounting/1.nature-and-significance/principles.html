<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LO 3: Principles, Concepts and Conventions</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .progress-indicator { position: sticky; top: 0; z-index: 50; }
        .content-section { scroll-margin-top: 100px; }
        .principle-card { transition: transform 0.3s, box-shadow 0.3s; }
        .principle-card:hover { transform: translateY(-4px); box-shadow: 0 10px 20px rgba(0,0,0,0.15); }
        .quiz-option { transition: all 0.2s; }
        .quiz-option:hover { transform: translateX(4px); }
        .quiz-option.correct { background-color: #10b981 !important; color: white !important; }
        .quiz-option.incorrect { background-color: #ef4444 !important; color: white !important; }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 min-h-screen">
    <div class="progress-indicator bg-white dark:bg-gray-800 shadow-md">
        <div class="container mx-auto px-4 py-3 max-w-4xl">
            <div class="flex items-center justify-between mb-2">
                <a href="index.html" class="text-indigo-600 dark:text-indigo-400 hover:underline text-sm">‚Üê Back to Home</a>
                <span class="text-sm text-gray-600 dark:text-gray-400">Progress: <span id="progressPercent">0%</span></span>
            </div>
            <div class="w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2">
                <div id="progressBar" class="bg-indigo-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
            </div>
        </div>
    </div>

    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 md:p-8 mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800 dark:text-white mb-4">
                Learning Objective 3: Accounting Principles, Concepts & Conventions
            </h1>
            <p class="text-gray-600 dark:text-gray-300">
                Master the fundamental rules and guidelines that govern financial accounting
            </p>
        </div>

        <div class="space-y-8">
            <section class="content-section bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 md:p-8" data-section="1">
                <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">Core Accounting Principles</h2>
                <p class="text-gray-700 dark:text-gray-300 mb-6 leading-relaxed">
                    These fundamental principles form the foundation of financial accounting and ensure consistency and reliability in financial reporting:
                </p>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="principle-card bg-blue-50 dark:bg-blue-950 rounded-lg p-5 border-l-4 border-blue-500">
                        <h3 class="font-bold text-lg text-blue-900 dark:text-blue-100 mb-2">1. Business Entity</h3>
                        <p class="text-blue-800 dark:text-blue-200 text-sm">The business is separate from its owner(s). Personal and business transactions must be recorded separately.</p>
                    </div>
                    <div class="principle-card bg-green-50 dark:bg-green-950 rounded-lg p-5 border-l-4 border-green-500">
                        <h3 class="font-bold text-lg text-green-900 dark:text-green-100 mb-2">2. Going Concern</h3>
                        <p class="text-green-800 dark:text-green-200 text-sm">Assumes the business will continue operating indefinitely, affecting asset valuation and liability recognition.</p>
                    </div>
                    <div class="principle-card bg-purple-50 dark:bg-purple-950 rounded-lg p-5 border-l-4 border-purple-500">
                        <h3 class="font-bold text-lg text-purple-900 dark:text-purple-100 mb-2">3. Monetary Unit</h3>
                        <p class="text-purple-800 dark:text-purple-200 text-sm">Only transactions measurable in monetary terms are recorded. Assumes currency value remains stable.</p>
                    </div>
                    <div class="principle-card bg-orange-50 dark:bg-orange-950 rounded-lg p-5 border-l-4 border-orange-500">
                        <h3 class="font-bold text-lg text-orange-900 dark:text-orange-100 mb-2">4. Accounting Period</h3>
                        <p class="text-orange-800 dark:text-orange-200 text-sm">Financial performance is measured over specific time periods (monthly, quarterly, annually).</p>
                    </div>
                </div>
            </section>

            <section class="content-section bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 md:p-8" data-section="2">
                <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">Key Accounting Concepts</h2>
                <div class="space-y-4">
                    <div class="border-l-4 border-indigo-500 pl-4 py-2">
                        <h3 class="font-bold text-gray-800 dark:text-white">Accrual Basis</h3>
                        <p class="text-gray-700 dark:text-gray-300">Revenue is recognized when earned, and expenses when incurred, regardless of cash flow timing.</p>
                        <div class="mt-2 bg-indigo-50 dark:bg-indigo-950 p-3 rounded text-sm">
                            <strong class="text-indigo-900 dark:text-indigo-100">Example:</strong> <span class="text-indigo-800 dark:text-indigo-200">If you deliver services in December but receive payment in January, record the revenue in December.</span>
                        </div>
                    </div>
                    <div class="border-l-4 border-teal-500 pl-4 py-2">
                        <h3 class="font-bold text-gray-800 dark:text-white">Matching Principle</h3>
                        <p class="text-gray-700 dark:text-gray-300">Expenses should be matched with the revenues they help generate in the same accounting period.</p>
                        <div class="mt-2 bg-teal-50 dark:bg-teal-950 p-3 rounded text-sm">
                            <strong class="text-teal-900 dark:text-teal-100">Example:</strong> <span class="text-teal-800 dark:text-teal-200">Cost of goods sold is recorded in the same period as the sales revenue from those goods.</span>
                        </div>
                    </div>
                    <div class="border-l-4 border-pink-500 pl-4 py-2">
                        <h3 class="font-bold text-gray-800 dark:text-white">Historical Cost</h3>
                        <p class="text-gray-700 dark:text-gray-300">Assets are recorded at their original purchase price, not current market value.</p>
                        <div class="mt-2 bg-pink-50 dark:bg-pink-950 p-3 rounded text-sm">
                            <strong class="text-pink-900 dark:text-pink-100">Example:</strong> <span class="text-pink-800 dark:text-pink-200">Land purchased for $100,000 remains on books at $100,000 even if market value increases to $200,000.</span>
                        </div>
                    </div>
                    <div class="border-l-4 border-yellow-500 pl-4 py-2">
                        <h3 class="font-bold text-gray-800 dark:text-white">Consistency</h3>
                        <p class="text-gray-700 dark:text-gray-300">Once an accounting method is adopted, it should be used consistently across periods for comparability.</p>
                    </div>
                </div>
            </section>

            <section class="content-section bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 md:p-8" data-section="3">
                <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">Accounting Conventions</h2>
                <p class="text-gray-700 dark:text-gray-300 mb-4">Conventions are practices developed over time to address practical accounting issues:</p>
                <div class="space-y-4">
                    <div class="bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-950 dark:to-cyan-950 rounded-lg p-5">
                        <h3 class="font-bold text-lg text-gray-800 dark:text-white mb-2">üîç Conservatism (Prudence)</h3>
                        <p class="text-gray-700 dark:text-gray-300 mb-2">When in doubt, choose the option that is least likely to overstate assets or income.</p>
                        <ul class="list-disc list-inside text-sm text-gray-600 dark:text-gray-400 ml-4">
                            <li>Recognize potential losses immediately</li>
                            <li>Recognize gains only when realized</li>
                        </ul>
                    </div>
                    <div class="bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950 dark:to-emerald-950 rounded-lg p-5">
                        <h3 class="font-bold text-lg text-gray-800 dark:text-white mb-2">üìä Materiality</h3>
                        <p class="text-gray-700 dark:text-gray-300 mb-2">Only information significant enough to influence decisions needs detailed treatment.</p>
                        <ul class="list-disc list-inside text-sm text-gray-600 dark:text-gray-400 ml-4">
                            <li>Minor items can be treated more simply</li>
                            <li>Significant items require full disclosure</li>
                        </ul>
                    </div>
                    <div class="bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-950 dark:to-pink-950 rounded-lg p-5">
                        <h3 class="font-bold text-lg text-gray-800 dark:text-white mb-2">üìù Full Disclosure</h3>
                        <p class="text-gray-700 dark:text-gray-300 mb-2">All relevant information that could affect user decisions must be disclosed in financial statements.</p>
                        <ul class="list-disc list-inside text-sm text-gray-600 dark:text-gray-400 ml-4">
                            <li>Include notes to financial statements</li>
                            <li>Disclose accounting policies used</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section class="content-section bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 md:p-8" data-section="4">
                <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">Why These Matter</h2>
                <p class="text-gray-700 dark:text-gray-300 mb-4 leading-relaxed">
                    These principles, concepts, and conventions ensure that:
                </p>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="flex items-start space-x-3 bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                        <span class="text-2xl">‚úì</span>
                        <div>
                            <h4 class="font-semibold text-gray-800 dark:text-white">Comparability</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Financial statements can be compared across companies and time periods</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-3 bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                        <span class="text-2xl">‚úì</span>
                        <div>
                            <h4 class="font-semibold text-gray-800 dark:text-white">Reliability</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Users can trust the accuracy of financial information</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-3 bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                        <span class="text-2xl">‚úì</span>
                        <div>
                            <h4 class="font-semibold text-gray-800 dark:text-white">Transparency</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Clear presentation of financial position and performance</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-3 bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                        <span class="text-2xl">‚úì</span>
                        <div>
                            <h4 class="font-semibold text-gray-800 dark:text-white">Standardization</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Uniform application across the accounting profession</p>
                        </div>
                    </div>
                </div>
            </section>

            <section class="content-section bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-950 dark:to-purple-950 rounded-lg shadow-md p-6 md:p-8" data-section="5">
                <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">üìù Knowledge Check Quiz</h2>
                <p class="text-gray-600 dark:text-gray-300 mb-6">Test your understanding of accounting principles and concepts</p>
                <div id="quizContainer" class="space-y-6"></div>
                <div id="quizResults" class="hidden mt-6">
                    <div class="bg-white dark:bg-gray-800 rounded-lg p-6 text-center">
                        <h3 class="text-2xl font-bold mb-2" id="scoreTitle"></h3>
                        <p class="text-4xl font-bold mb-4" id="scoreDisplay"></p>
                        <p class="text-gray-600 dark:text-gray-400 mb-4" id="scoreFeedback"></p>
                        <div class="flex flex-col sm:flex-row gap-3 justify-center">
                            <button onclick="retakeQuiz()" class="px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-semibold transition">Retake Quiz</button>
                            <a href="index.html" class="px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition text-center">Back to Home</a>
                        </div>
                    </div>
                </div>
                <button id="submitQuiz" onclick="submitQuiz()" class="w-full mt-6 px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-semibold transition">Submit Quiz</button>
            </section>
        </div>
    </div>

    <script>
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            document.documentElement.classList.add(event.matches ? 'dark' : '');
            if (!event.matches) document.documentElement.classList.remove('dark');
        });

        class StorageManager {
            constructor() { this.storage = {}; this.storageKey = 'accountingLearningProgress'; this.loadFromCookie(); }
            loadFromCookie() {
                const cookies = document.cookie.split(';');
                for (let cookie of cookies) {
                    const [name, value] = cookie.trim().split('=');
                    if (name === this.storageKey) {
                        try { this.storage = JSON.parse(decodeURIComponent(value)); } catch (e) { this.storage = {}; }
                        break;
                    }
                }
            }
            saveToCookie() {
                const expires = new Date();
                expires.setFullYear(expires.getFullYear() + 1);
                document.cookie = `${this.storageKey}=${encodeURIComponent(JSON.stringify(this.storage))}; expires=${expires.toUTCString()}; path=/; SameSite=Strict`;
            }
            getItem(key) { return this.storage[key] || null; }
            setItem(key, value) { this.storage[key] = value; this.saveToCookie(); }
        }

        const storage = new StorageManager();
        const moduleId = 'lo3';

        const quizData = [
            {
                question: "Which principle states that business transactions should be kept separate from personal transactions?",
                options: ["Going Concern", "Business Entity", "Monetary Unit", "Matching"],
                correct: 1
            },
            {
                question: "Under which concept is revenue recognized when earned, not when cash is received?",
                options: ["Cash Basis", "Accrual Basis", "Historical Cost", "Conservatism"],
                correct: 1
            },
            {
                question: "The matching principle requires:",
                options: ["Recording all transactions in cash", "Matching expenses with related revenues", "Matching assets with liabilities", "Recording transactions at market value"],
                correct: 1
            },
            {
                question: "What does the conservatism convention suggest?",
                options: ["Always overstate income", "Recognize gains immediately", "Choose the option least likely to overstate assets", "Ignore potential losses"],
                correct: 2
            },
            {
                question: "The historical cost principle requires assets to be recorded at:",
                options: ["Current market value", "Estimated future value", "Original purchase price", "Replacement cost"],
                correct: 2
            }
        ];

        let userAnswers = {};

        function updateProgress() {
            const sections = document.querySelectorAll('.content-section');
            const scrollPosition = window.scrollY + window.innerHeight / 2;
            let currentSection = 0;
            sections.forEach((section, index) => {
                const rect = section.getBoundingClientRect();
                if (scrollPosition >= window.scrollY + rect.top) currentSection = index + 1;
            });
            const progress = Math.min(100, Math.round((currentSection / sections.length) * 100));
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressPercent').textContent = progress + '%';
            const progressData = getProgressData();
            progressData.lastVisited = new Date().toISOString();
            saveProgressData(progressData);
        }

        function getProgressData() {
            const data = storage.getItem(`progress_${moduleId}`);
            return data ? JSON.parse(data) : { completed: false, score: 0, quizTaken: false, lastVisited: null };
        }

        function saveProgressData(data) { storage.setItem(`progress_${moduleId}`, JSON.stringify(data)); }

        function renderQuiz() {
            document.getElementById('quizContainer').innerHTML = quizData.map((q, qIndex) => `
                <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow">
                    <h3 class="font-semibold text-gray-800 dark:text-white mb-4">${qIndex + 1}. ${q.question}</h3>
                    <div class="space-y-2">
                        ${q.options.map((option, oIndex) => `
                            <label class="quiz-option flex items-center p-4 border-2 border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:border-indigo-500 transition">
                                <input type="radio" name="q${qIndex}" value="${oIndex}" class="mr-3 w-4 h-4" onchange="saveAnswer(${qIndex}, ${oIndex})">
                                <span class="text-gray-700 dark:text-gray-300">${option}</span>
                            </label>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function saveAnswer(questionIndex, answerIndex) { userAnswers[questionIndex] = answerIndex; }

        function submitQuiz() {
            if (Object.keys(userAnswers).length < quizData.length) {
                showCustomAlert('Please answer all questions before submitting.');
                return;
            }
            let correct = 0;
            quizData.forEach((q, index) => {
                const selected = userAnswers[index];
                document.querySelectorAll(`input[name="q${index}"]`).forEach((option, oIndex) => {
                    const label = option.closest('label');
                    if (oIndex === q.correct) label.classList.add('correct');
                    else if (oIndex === selected) label.classList.add('incorrect');
                    option.disabled = true;
                });
                if (selected === q.correct) correct++;
            });
            const score = Math.round((correct / quizData.length) * 100);
            const progressData = getProgressData();
            progressData.quizTaken = true;
            progressData.score = score;
            progressData.completed = score >= 60;
            saveProgressData(progressData);
            displayResults(score, correct);
        }

        function displayResults(score, correct) {
            document.getElementById('submitQuiz').classList.add('hidden');
            document.getElementById('quizResults').classList.remove('hidden');
            document.getElementById('scoreDisplay').textContent = `${score}% (${correct}/${quizData.length})`;
            const scoreTitle = document.getElementById('scoreTitle');
            const scoreFeedback = document.getElementById('scoreFeedback');
            if (score >= 80) {
                scoreTitle.textContent = 'üéâ Excellent!';
                scoreTitle.className = 'text-2xl font-bold mb-2 text-green-600 dark:text-green-400';
                scoreFeedback.textContent = 'Outstanding! You have a strong understanding of the material.';
            } else if (score >= 60) {
                scoreTitle.textContent = '‚úÖ Good Job!';
                scoreTitle.className = 'text-2xl font-bold mb-2 text-blue-600 dark:text-blue-400';
                scoreFeedback.textContent = 'Well done! Consider reviewing the material to strengthen your knowledge.';
            } else {
                scoreTitle.textContent = 'üìö Keep Learning';
                scoreTitle.className = 'text-2xl font-bold mb-2 text-yellow-600 dark:text-yellow-400';
                scoreFeedback.textContent = 'Review the lesson content and try again. You can do it!';
            }
            document.getElementById('quizResults').scrollIntoView({ behavior: 'smooth' });
        }

        function retakeQuiz() {
            userAnswers = {};
            document.getElementById('quizResults').classList.add('hidden');
            document.getElementById('submitQuiz').classList.remove('hidden');
            renderQuiz();
            document.getElementById('quizContainer').scrollIntoView({ behavior: 'smooth' });
        }

        function showCustomAlert(message) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-4';
            modal.innerHTML = `
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-sm w-full">
                    <p class="text-gray-700 dark:text-gray-300 mb-4">${message}</p>
                    <button class="w-full px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700 rounded transition" onclick="this.closest('.fixed').remove()">OK</button>
                </div>
            `;
            document.body.appendChild(modal);
        }

        renderQuiz();
        window.addEventListener('scroll', updateProgress);
        updateProgress();
    </script>
</body>
</html>