<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Raven Academy — Your Dream University Awaits</title>
    <link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:wght@400;500;600;700;800&family=Nunito:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg-deep: #06060b;
            --bg-primary: #0a0a12;
            --bg-secondary: #10101c;
            --bg-card: #14142a;
            --bg-card-hover: #1a1a36;
            --accent-gold: #E8B931;
            --accent-gold-dim: rgba(232,185,49,0.15);
            --accent-purple: #8B5CF6;
            --accent-purple-dim: rgba(139,92,246,0.12);
            --accent-emerald: #10B981;
            --accent-rose: #F43F5E;
            --accent-cyan: #22D3EE;
            --text-primary: #F0EDE6;
            --text-secondary: #9A95A8;
            --text-muted: #5A566A;
            --border: #1e1e38;
            --glow-gold: 0 0 40px rgba(232,185,49,0.2);
            --glow-purple: 0 0 30px rgba(139,92,246,0.15);
            --surface-sim: #0d0d1a;
        }

        html:not(.dark) {
            --bg-deep: #F8F6F1;
            --bg-primary: #FDFBF7;
            --bg-secondary: #F3F0E8;
            --bg-card: #FFFFFF;
            --bg-card-hover: #FBF9F4;
            --text-primary: #1A1820;
            --text-secondary: #5E5A6A;
            --text-muted: #A09AAE;
            --border: #E8E4DA;
            --surface-sim: #F0EDE6;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }

        body {
            font-family: 'Nunito', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            overflow-x: hidden;
            line-height: 1.7;
            -webkit-tap-highlight-color: transparent;
        }

        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: var(--bg-deep); }
        ::-webkit-scrollbar-thumb { background: var(--accent-gold); border-radius: 2px; }

        .atmosphere {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
            background:
                radial-gradient(ellipse 60% 50% at 20% 10%, rgba(139,92,246,0.06) 0%, transparent 70%),
                radial-gradient(ellipse 50% 40% at 80% 80%, rgba(232,185,49,0.05) 0%, transparent 70%);
        }

        html:not(.dark) .atmosphere {
            background:
                radial-gradient(ellipse 60% 50% at 20% 10%, rgba(139,92,246,0.04) 0%, transparent 70%),
                radial-gradient(ellipse 50% 40% at 80% 80%, rgba(232,185,49,0.04) 0%, transparent 70%);
        }

        .container { max-width: 1100px; margin: 0 auto; padding: 0 16px; position: relative; z-index: 1; }

        /* NAV - Mobile first */
        nav {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(10,10,18,0.88);
            backdrop-filter: blur(16px);
            border-bottom: 1px solid var(--border);
            padding: 0 16px;
        }

        html:not(.dark) nav { background: rgba(253,251,247,0.92); }

        .nav-inner {
            max-width: 1100px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 56px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
            color: var(--text-primary);
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--accent-gold), #D4A017);
            border-radius: 9px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: #0a0a12;
            font-weight: 800;
            font-family: 'Bricolage Grotesque', sans-serif;
        }

        .logo-text {
            font-family: 'Bricolage Grotesque', sans-serif;
            font-weight: 800;
            font-size: 18px;
            letter-spacing: -0.5px;
        }

        .logo-text span { color: var(--accent-gold); }

        .nav-links { display: flex; gap: 6px; align-items: center; }

        .nav-link {
            padding: 7px 12px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            color: var(--text-secondary);
            text-decoration: none;
            transition: all 0.3s;
            cursor: pointer;
            display: none;
        }

        .nav-link:hover { color: var(--text-primary); background: var(--accent-gold-dim); }

        .nav-cta {
            background: linear-gradient(135deg, var(--accent-gold), #D4A017);
            color: #0a0a12;
            font-weight: 800;
            padding: 8px 18px;
            border-radius: 10px;
            font-size: 13px;
            text-decoration: none;
            transition: all 0.3s;
            cursor: pointer;
            border: none;
            font-family: 'Nunito', sans-serif;
        }

        .nav-cta:hover { transform: translateY(-1px); box-shadow: var(--glow-gold); }

        @media (min-width: 640px) {
            .nav-link { display: block; }
        }

        /* HERO */
        .hero {
            padding: 48px 16px 40px;
            text-align: center;
            position: relative;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 5px 14px;
            border-radius: 30px;
            background: var(--accent-gold-dim);
            border: 1px solid rgba(232,185,49,0.25);
            font-family: 'JetBrains Mono', monospace;
            font-size: 10px;
            color: var(--accent-gold);
            letter-spacing: 1.5px;
            text-transform: uppercase;
            margin-bottom: 20px;
            animation: fadeInUp 0.8s ease;
        }

        .hero h1 {
            font-family: 'Bricolage Grotesque', sans-serif;
            font-size: 34px;
            font-weight: 800;
            line-height: 1.08;
            letter-spacing: -1px;
            margin-bottom: 16px;
            animation: fadeInUp 0.8s ease 0.1s both;
        }

        .hero h1 .gold { color: var(--accent-gold); }
        .hero h1 .purple { color: var(--accent-purple); }

        .hero-sub {
            font-size: 16px;
            color: var(--text-secondary);
            max-width: 540px;
            margin: 0 auto 24px;
            font-weight: 400;
            animation: fadeInUp 0.8s ease 0.2s both;
            line-height: 1.6;
        }

        .hero-ctas {
            display: flex;
            flex-direction: column;
            gap: 10px;
            animation: fadeInUp 0.8s ease 0.3s both;
            padding: 0 8px;
        }

        .btn-primary {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 14px 28px;
            background: linear-gradient(135deg, var(--accent-gold), #D4A017);
            color: #0a0a12;
            font-family: 'Bricolage Grotesque', sans-serif;
            font-weight: 700;
            font-size: 16px;
            border-radius: 14px;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            min-height: 48px;
        }

        .btn-primary:hover { transform: translateY(-2px); box-shadow: var(--glow-gold); }

        .btn-outline {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 14px 28px;
            background: transparent;
            color: var(--text-primary);
            font-family: 'Bricolage Grotesque', sans-serif;
            font-weight: 600;
            font-size: 16px;
            border-radius: 14px;
            border: 2px solid var(--border);
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            min-height: 48px;
        }

        .btn-outline:hover { border-color: var(--accent-gold); color: var(--accent-gold); }

        @media (min-width: 480px) {
            .hero-ctas { flex-direction: row; justify-content: center; padding: 0; }
            .hero h1 { font-size: clamp(36px, 7vw, 64px); letter-spacing: -2px; }
        }

        .hero-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-top: 36px;
            padding-top: 24px;
            border-top: 1px solid var(--border);
            animation: fadeInUp 0.8s ease 0.4s both;
        }

        .hero-stat { text-align: center; }

        .hero-stat .number {
            font-family: 'Bricolage Grotesque', sans-serif;
            font-size: 26px;
            font-weight: 800;
            color: var(--accent-gold);
        }

        .hero-stat .number small { font-size: 16px; }

        .hero-stat .label {
            font-size: 11px;
            color: var(--text-muted);
            margin-top: 2px;
            line-height: 1.3;
        }

        @media (min-width: 480px) {
            .hero-stat .number { font-size: 32px; }
            .hero-stat .label { font-size: 13px; }
        }

        .scroll-cue {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            margin-top: 28px;
            color: var(--text-muted);
            font-size: 11px;
            animation: bounceDown 2s infinite;
        }

        @keyframes bounceDown {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(6px); }
        }

        /* PAIN SECTION */
        .pain-section {
            padding: 48px 16px;
            background: var(--bg-secondary);
            position: relative;
        }

        .pain-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--accent-rose), transparent);
        }

        .section-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 2.5px;
            color: var(--accent-gold);
            margin-bottom: 10px;
        }

        .section-heading {
            font-family: 'Bricolage Grotesque', sans-serif;
            font-size: 26px;
            font-weight: 800;
            letter-spacing: -0.5px;
            margin-bottom: 12px;
            line-height: 1.1;
        }

        @media (min-width: 480px) {
            .section-heading { font-size: clamp(28px, 5vw, 42px); letter-spacing: -1px; }
        }

        .section-sub {
            font-size: 15px;
            color: var(--text-secondary);
            max-width: 600px;
            margin-bottom: 28px;
            font-weight: 400;
            line-height: 1.6;
        }

        .pain-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }

        @media (min-width: 520px) {
            .pain-grid { grid-template-columns: repeat(2, 1fr); }
        }

        .pain-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s;
        }

        .pain-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--accent-rose);
            opacity: 0.6;
        }

        .pain-card:hover { border-color: rgba(244,63,94,0.3); transform: translateY(-2px); }

        .pain-emoji { font-size: 24px; margin-bottom: 10px; }

        .pain-card h3 {
            font-family: 'Bricolage Grotesque', sans-serif;
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 6px;
            color: var(--accent-rose);
        }

        .pain-card p { font-size: 13px; color: var(--text-secondary); line-height: 1.6; }

        /* METHOD SECTION */
        .method-section { padding: 56px 16px; }

        .method-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 14px;
            margin-top: 8px;
        }

        @media (min-width: 640px) {
            .method-grid { grid-template-columns: repeat(2, 1fr); }
        }

        .method-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 18px;
            padding: 24px 20px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s;
        }

        .method-card:hover { border-color: rgba(232,185,49,0.3); transform: translateY(-3px); }

        .method-number {
            font-family: 'Bricolage Grotesque', sans-serif;
            font-size: 44px;
            font-weight: 800;
            color: var(--accent-gold);
            opacity: 0.12;
            position: absolute;
            top: 10px;
            right: 16px;
        }

        .method-icon {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            margin-bottom: 14px;
        }

        .method-card h3 {
            font-family: 'Bricolage Grotesque', sans-serif;
            font-size: 17px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .method-card p { font-size: 13px; color: var(--text-secondary); line-height: 1.7; }

        /* LEARNING TOOLS STRIP - ENHANCED */
        .tools-strip {
            padding: 48px 16px;
            background: linear-gradient(135deg, var(--bg-secondary), var(--bg-card));
            border-top: 2px solid var(--accent-gold);
            border-bottom: 2px solid var(--accent-gold);
            box-shadow: inset 0 0 30px rgba(232,185,49,0.1);
        }

        .tools-strip .section-label {
            font-size: 14px;
            letter-spacing: 3px;
            color: var(--accent-gold);
            text-shadow: 0 0 10px var(--accent-gold);
            margin-bottom: 20px;
            text-align: center;
        }

        .tools-strip-inner {
            display: flex;
            gap: 16px;
            overflow-x: auto;
            padding-bottom: 12px;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            justify-content: center;
            flex-wrap: wrap;
        }

        .tools-strip-inner::-webkit-scrollbar { display: none; }

        .tool-chip {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 24px;
            border-radius: 40px;
            background: var(--bg-card);
            border: 2px solid var(--accent-gold);
            white-space: nowrap;
            flex-shrink: 0;
            transition: all 0.3s;
            box-shadow: var(--glow-gold);
        }

        .tool-chip:hover {
            transform: scale(1.05);
            border-color: var(--accent-purple);
            box-shadow: 0 0 30px rgba(139,92,246,0.3);
        }

        .tool-chip-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .tool-chip-text {
            font-family: 'Bricolage Grotesque', sans-serif;
            font-weight: 800;
            font-size: 18px;
            color: var(--text-primary);
            text-transform: uppercase;
        }

        .tool-chip-sub {
            font-size: 12px;
            color: var(--accent-gold);
            font-weight: 600;
        }

        /* SIMULATION DEMO */
        .sim-showcase { padding: 56px 16px; }

        /* Subject Switcher - BIG & OBVIOUS */
        .subject-switcher {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }

        .subject-switch-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 16px 12px;
            border-radius: 16px;
            border: 2px solid var(--border);
            background: var(--bg-card);
            color: var(--text-muted);
            font-family: 'Bricolage Grotesque', sans-serif;
            font-weight: 700;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.3s;
            min-height: 56px;
        }

        .subject-switch-btn i { font-size: 18px; }

        .subject-switch-btn:active { transform: scale(0.97); }

        .subject-switch-btn.active-physics {
            border-color: var(--accent-purple);
            color: var(--accent-purple);
            background: var(--accent-purple-dim);
            box-shadow: 0 0 20px rgba(139,92,246,0.15);
        }

        .subject-switch-btn.active-chemistry {
            border-color: var(--accent-gold);
            color: var(--accent-gold);
            background: var(--accent-gold-dim);
            box-shadow: 0 0 20px rgba(232,185,49,0.15);
        }

        .switcher-hint {
            text-align: center;
            font-size: 11px;
            color: var(--text-muted);
            margin-bottom: 16px;
        }

        .switcher-hint i { color: var(--accent-gold); margin-right: 4px; }

        .sim-showcase-inner {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            overflow: hidden;
        }

        .sim-panel { display: none; padding: 20px 16px; }
        .sim-panel.active { display: block; }

        @media (min-width: 640px) {
            .sim-panel { padding: 28px; }
        }

        .sim-panel-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .sim-panel-header h3 {
            font-family: 'Bricolage Grotesque', sans-serif;
            font-size: 22px;
            font-weight: 800;
            margin-bottom: 4px;
        }

        .sim-panel-header p {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .sim-canvas-area {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }

        @media (min-width: 520px) {
            .sim-canvas-area { grid-template-columns: repeat(2, 1fr); }
        }

        .sim-mini-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 14px;
            transition: all 0.3s;
        }

        .sim-mini-card:hover { border-color: rgba(232,185,49,0.3); }

        .sim-mini-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .sim-mini-label {
            font-family: 'Bricolage Grotesque', sans-serif;
            font-weight: 700;
            font-size: 13px;
        }

        .sim-mini-type {
            font-size: 9px;
            padding: 3px 8px;
            border-radius: 20px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .type-stable { background: rgba(16,185,129,0.15); color: var(--accent-emerald); }
        .type-unstable { background: rgba(244,63,94,0.15); color: var(--accent-rose); }
        .type-neutral { background: rgba(232,185,49,0.15); color: var(--accent-gold); }

        .sim-mini-canvas {
            position: relative;
            width: 100%;
            height: 130px;
            border-radius: 10px;
            overflow: hidden;
            background: var(--surface-sim);
            cursor: pointer;
            touch-action: none;
        }

        .sim-mini-canvas canvas { width: 100%; height: 100%; display: block; }

        .tap-hint-sm {
            position: absolute;
            bottom: 6px;
            right: 8px;
            font-size: 9px;
            color: var(--text-muted);
            background: var(--bg-card);
            padding: 2px 6px;
            border-radius: 4px;
        }

        .sim-mini-desc {
            margin-top: 8px;
            font-size: 12px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .sim-badge-row {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .sim-badge {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 7px 12px;
            border-radius: 10px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            font-size: 11px;
            color: var(--text-secondary);
        }

        .sim-badge i { color: var(--accent-gold); font-size: 11px; }

        /* Chemistry Bond Demo - IMPROVED ACCURACY */
        .chem-demo-area { max-width: 560px; margin: 0 auto; }

        .chem-canvas-wrap {
            position: relative;
            width: 100%;
            aspect-ratio: 4/3;
            border-radius: 14px;
            overflow: hidden;
            background: var(--surface-sim);
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
        }

        .chem-canvas-wrap canvas { width: 100%; height: 100%; display: block; }

        .chem-selector {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 6px;
            margin-bottom: 14px;
        }

        .chem-btn {
            padding: 10px 8px;
            border-radius: 10px;
            border: 2px solid var(--border);
            background: var(--bg-card);
            color: var(--text-secondary);
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            min-height: 44px;
        }

        .chem-btn:active { transform: scale(0.95); }

        .chem-btn.active {
            border-color: var(--accent-purple);
            color: var(--accent-purple);
            background: var(--accent-purple-dim);
            box-shadow: var(--glow-purple);
        }

        .chem-info {
            padding: 14px;
            margin-top: 12px;
            border-radius: 12px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
        }

        .chem-info h4 {
            font-family: 'Bricolage Grotesque', sans-serif;
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 6px;
        }

        .chem-info p { font-size: 13px; color: var(--text-secondary); line-height: 1.6; }

        .bond-strength-meter {
            margin-top: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .bond-strength-meter .meter-label {
            font-size: 10px;
            font-weight: 700;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            white-space: nowrap;
        }

        .meter-track {
            flex: 1;
            height: 8px;
            border-radius: 4px;
            background: rgba(255,255,255,0.06);
            overflow: hidden;
        }

        html:not(.dark) .meter-track { background: rgba(0,0,0,0.06); }

        .meter-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.8s cubic-bezier(0.22,1,0.36,1);
        }

        .meter-val {
            font-family: 'JetBrains Mono', monospace;
            font-size: 11px;
            font-weight: 700;
            white-space: nowrap;
        }

        .chem-foundation-callout {
            margin-top: 10px;
            padding: 10px 12px;
            border-radius: 10px;
            background: rgba(244,63,94,0.08);
            border: 1px solid rgba(244,63,94,0.2);
        }

        .chem-foundation-callout .callout-label {
            font-family: 'Bricolage Grotesque', sans-serif;
            font-size: 11px;
            font-weight: 700;
            color: var(--accent-rose);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 4px;
        }

        .chem-foundation-callout .callout-text {
            font-size: 12px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .chem-unlocks-row {
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .chem-unlock-chip {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 10px;
            border-radius: 6px;
            background: rgba(16,185,129,0.1);
            border: 1px solid rgba(16,185,129,0.2);
            font-size: 10px;
            font-weight: 700;
            color: var(--accent-emerald);
        }

        .chem-unlock-chip i { font-size: 9px; }

        /* 15 MINUTE ADVANTAGE */
        .advantage-section {
            padding: 56px 16px;
            text-align: center;
        }

        .advantage-card {
            background: linear-gradient(135deg, rgba(232,185,49,0.08), rgba(139,92,246,0.05));
            border: 1px solid rgba(232,185,49,0.2);
            border-radius: 22px;
            padding: 36px 20px;
            max-width: 700px;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
        }

        .advantage-card::before {
            content: '';
            position: absolute;
            top: -1px;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-gold), var(--accent-purple), var(--accent-gold));
        }

        .advantage-number {
            font-family: 'Bricolage Grotesque', sans-serif;
            font-size: 60px;
            font-weight: 800;
            color: var(--accent-gold);
            line-height: 1;
        }

        @media (min-width: 480px) {
            .advantage-number { font-size: clamp(60px, 12vw, 96px); }
        }

        .advantage-unit {
            font-family: 'Bricolage Grotesque', sans-serif;
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 14px;
        }

        @media (min-width: 480px) {
            .advantage-unit { font-size: clamp(20px, 3vw, 28px); }
        }

        .advantage-card > p {
            font-size: 14px;
            color: var(--text-secondary);
            max-width: 500px;
            margin: 0 auto;
            line-height: 1.7;
        }

        .advantage-subjects {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-top: 24px;
            flex-wrap: wrap;
        }

        .advantage-subject {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            border-radius: 12px;
            background: var(--bg-card);
            border: 1px solid var(--border);
        }

        .advantage-subject i { font-size: 18px; }
        .advantage-subject span { font-weight: 700; font-size: 14px; }

        /* DREAM SECTION */
        .dream-section {
            padding: 56px 16px;
            background: var(--bg-secondary);
        }

        .dream-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }

        @media (min-width: 520px) {
            .dream-grid { grid-template-columns: repeat(2, 1fr); }
        }

        .dream-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 18px;
            padding: 24px 20px;
            text-align: center;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .dream-card:hover { transform: translateY(-3px); border-color: rgba(232,185,49,0.3); }

        .dream-icon { font-size: 36px; margin-bottom: 12px; }

        .dream-card h3 {
            font-family: 'Bricolage Grotesque', sans-serif;
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--accent-gold);
        }

        .dream-card p { font-size: 13px; color: var(--text-secondary); line-height: 1.7; }

        /* TESTIMONIALS */
        .testimonial-section { padding: 56px 16px; }

        .testimonial-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 14px;
        }

        @media (min-width: 640px) {
            .testimonial-grid { grid-template-columns: repeat(3, 1fr); }
        }

        .testimonial-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 18px;
            padding: 24px 20px;
            transition: all 0.3s;
        }

        .testimonial-card:hover { border-color: rgba(232,185,49,0.3); }

        .testimonial-stars { color: var(--accent-gold); font-size: 13px; margin-bottom: 10px; }

        .testimonial-text {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 16px;
            font-style: italic;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .testimonial-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--accent-gold);
            flex-shrink: 0;
        }

        .testimonial-name {
            font-weight: 700;
            font-size: 14px;
        }

        .testimonial-detail {
            font-size: 11px;
            color: var(--text-muted);
            line-height: 1.4;
        }

        /* CTA SECTION */
        .cta-section {
            padding: 56px 16px;
            background: var(--bg-secondary);
            text-align: center;
        }

        .cta-box {
            background: linear-gradient(135deg, #14142a, #1a1036);
            border: 1px solid rgba(232,185,49,0.3);
            border-radius: 24px;
            padding: 40px 20px;
            position: relative;
            overflow: hidden;
        }

        html:not(.dark) .cta-box {
            background: linear-gradient(135deg, #fff, #fef9ef);
        }

        .cta-box::before {
            content: '';
            position: absolute;
            inset: 0;
            background:
                radial-gradient(circle at 30% 30%, rgba(232,185,49,0.08), transparent 50%),
                radial-gradient(circle at 70% 70%, rgba(139,92,246,0.06), transparent 50%);
            pointer-events: none;
        }

        .cta-box h2 {
            font-family: 'Bricolage Grotesque', sans-serif;
            font-size: 26px;
            font-weight: 800;
            letter-spacing: -0.5px;
            margin-bottom: 14px;
            position: relative;
        }

        @media (min-width: 480px) {
            .cta-box h2 { font-size: clamp(28px, 5vw, 44px); letter-spacing: -1px; }
        }

        .cta-box p {
            font-size: 15px;
            color: var(--text-secondary);
            max-width: 500px;
            margin: 0 auto 24px;
            position: relative;
        }

        .cta-box .btn-primary { font-size: 16px; padding: 16px 36px; position: relative; width: 100%; max-width: 360px; }

        .urgency-tag {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 14px;
            border-radius: 8px;
            background: rgba(244,63,94,0.12);
            border: 1px solid rgba(244,63,94,0.25);
            color: var(--accent-rose);
            font-size: 12px;
            font-weight: 700;
            margin-top: 16px;
            position: relative;
        }

        /* FAQ */
        .faq-section { padding: 56px 16px; }

        .faq-item {
            border: 1px solid var(--border);
            border-radius: 14px;
            margin-bottom: 10px;
            overflow: hidden;
            background: var(--bg-card);
            transition: all 0.3s;
        }

        .faq-item:hover { border-color: rgba(232,185,49,0.2); }

        .faq-question {
            padding: 16px 18px;
            font-family: 'Bricolage Grotesque', sans-serif;
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: transparent;
            border: none;
            color: var(--text-primary);
            width: 100%;
            text-align: left;
            min-height: 52px;
            gap: 12px;
        }

        .faq-question i {
            color: var(--accent-gold);
            transition: transform 0.3s;
            font-size: 14px;
            flex-shrink: 0;
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease, padding 0.3s ease;
        }

        .faq-answer-inner {
            padding: 0 18px 16px;
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.7;
        }

        .faq-item.open .faq-answer { max-height: 300px; }
        .faq-item.open .faq-question i { transform: rotate(45deg); }

        /* FOOTER */
        footer {
            padding: 28px 16px;
            border-top: 1px solid var(--border);
            text-align: center;
        }

        footer p { font-size: 11px; color: var(--text-muted); }
        footer a { color: var(--accent-gold); text-decoration: none; }

        /* ANIMATIONS */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .reveal {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }

        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* ===== PAYMENT MODAL (from Paystack app) ===== */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
            backdrop-filter: blur(4px);
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: var(--bg-card);
            border-radius: 24px;
            padding: 32px;
            max-width: 400px;
            width: 100%;
            text-align: center;
            animation: modalIn 0.3s ease;
            border: 1px solid var(--border);
        }

        @keyframes modalIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .modal-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-gold), #D4A017);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            margin: 0 auto 20px;
            color: #0a0a12;
        }

        .modal-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .modal-text {
            color: var(--text-secondary);
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 24px;
        }

        .modal-price {
            font-size: 32px;
            font-weight: 700;
            color: var(--accent-gold);
            margin-bottom: 8px;
        }

        .modal-price-note {
            font-size: 12px;
            color: var(--text-muted);
            margin-bottom: 24px;
        }

        .modal-features {
            text-align: left;
            margin-bottom: 24px;
        }

        .modal-feature {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 0;
            border-bottom: 1px solid var(--border);
            font-size: 14px;
        }

        .modal-feature:last-child {
            border-bottom: none;
        }

        .modal-feature i {
            color: var(--accent-emerald);
        }

        .modal-actions {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .btn-gold {
            background: linear-gradient(135deg, var(--accent-gold), #D4A017);
            color: #0a0a12;
            font-weight: 700;
            border: none;
            padding: 14px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-gold:hover {
            transform: translateY(-2px);
            box-shadow: var(--glow-gold);
        }

        .modal-close {
            color: var(--text-muted);
            font-size: 14px;
            cursor: pointer;
            transition: color 0.3s ease;
            background: none;
            border: none;
            padding: 8px;
        }

        .modal-close:hover {
            color: var(--text-primary);
        }

        /* Premium Badge */
        .premium-badge {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(135deg, var(--accent-gold), #D4A017);
            color: #0a0a12;
            padding: 10px 16px;
            border-radius: 25px;
            font-size: 13px;
            font-weight: 600;
            display: none;
            align-items: center;
            gap: 8px;
            box-shadow: var(--glow-gold);
            z-index: 50;
        }

        .premium-badge.active {
            display: flex;
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--bg-card);
            border: 1px solid var(--accent-emerald);
            padding: 14px 24px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 200;
        }

        .toast.active {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .toast i {
            color: var(--accent-emerald);
        }
    </style>
</head>
<body>
<div class="atmosphere"></div>

<!-- NAV -->
<nav>
    <div class="nav-inner">
        <a class="logo" href="#">
            <div class="logo-icon">R</div>
            <div class="logo-text">Raven<span>Academy</span></div>
        </a>
        <div class="nav-links">
            <a class="nav-link" onclick="scrollToSection('method')">Method</a>
            <a class="nav-link" onclick="scrollToSection('demo')">Try It</a>
            <button class="nav-cta" onclick="openPaymentModal()">Start Learning</button>
        </div>
    </div>
</nav>

<!-- HERO -->
<section class="hero" id="hero">
    <div class="container">
        <div class="hero-badge"><i class="fas fa-bolt"></i> JAMB &middot; WAEC &middot; NECO Prep</div>
        <h1>Get Into Your<br><span class="gold">Dream University.</span><br>This Year.</h1>
        <p class="hero-sub">Stop gambling with your future. Raven Academy uses <strong>interactive simulations</strong>, <strong>video lessons</strong> &amp; <strong>visual models</strong> to make Physics and Chemistry click &mdash; so you score higher, faster.</p>
        <div class="hero-ctas">
            <button class="btn-primary" onclick="openPaymentModal()"><i class="fas fa-rocket"></i> Secure Your Spot</button>
            <button class="btn-outline" onclick="scrollToSection('demo')"><i class="fas fa-play"></i> See It In Action</button>
        </div>
        <div class="hero-stats">
            <div class="hero-stat">
                <div class="number">87<small>%</small></div>
                <div class="label">Got admission</div>
            </div>
            <div class="hero-stat">
                <div class="number">15<small>min</small></div>
                <div class="label">Faster exam finish</div>
            </div>
            <div class="hero-stat">
                <div class="number">300<small>+</small></div>
                <div class="label">Simulations available</div>
            </div>
        </div>
        <div class="scroll-cue">
            <span>Scroll to explore</span>
            <i class="fas fa-chevron-down"></i>
        </div>
    </div>
</section>

<!-- PAIN POINTS -->
<section class="pain-section" id="pain">
    <div class="container">
        <div class="section-label reveal">The Reality Check</div>
        <h2 class="section-heading reveal">Are You Tired Of&hellip;</h2>
        <p class="section-sub reveal">We know the struggle. Thousands of students face these same walls every year. You don&rsquo;t have to be one of them.</p>
        <div class="pain-grid">
            <div class="pain-card reveal">
                <div class="pain-emoji">&#x1F614;</div>
                <h3>Reading Textbooks That Make No Sense</h3>
                <p>You read the same paragraph 5 times and still don&rsquo;t get it. Traditional methods weren&rsquo;t designed for you &mdash; they were designed for textbooks.</p>
            </div>
            <div class="pain-card reveal">
                <div class="pain-emoji">&#x23F3;</div>
                <h3>Running Out of Time in Exams</h3>
                <p>You know the answers, but you can&rsquo;t finish on time. Every year, students lose marks not because they don&rsquo;t know &mdash; but because they&rsquo;re too slow.</p>
            </div>
            <div class="pain-card reveal">
                <div class="pain-emoji">&#x1F3E0;</div>
                <h3>Spending Another Year at Home</h3>
                <p>Your mates are in school. You&rsquo;re still at home, preparing again. Another year of your life &mdash; gone. This doesn&rsquo;t have to be your story.</p>
            </div>
            <div class="pain-card reveal">
                <div class="pain-emoji">&#x1F4B8;</div>
                <h3>Wasting Money on Lessons That Don&rsquo;t Work</h3>
                <p>You&rsquo;ve paid tutors before. They come, they talk, they leave &mdash; and nothing sticks. You deserve a method that actually produces results.</p>
            </div>
        </div>
    </div>
</section>

<!-- METHOD -->
<section class="method-section" id="method">
    <div class="container">
        <div class="section-label reveal">The Raven Method</div>
        <h2 class="section-heading reveal">We Don&rsquo;t Just Teach.<br>We Make You <span style="color:var(--accent-gold)">See It.</span></h2>
        <p class="section-sub reveal">Forget boring lectures. Our approach uses science-backed methods that rewire how your brain understands Physics and Chemistry.</p>
        <div class="method-grid">
            <div class="method-card reveal">
                <div class="method-number">01</div>
                <div class="method-icon" style="background:rgba(139,92,246,0.12)"><i class="fas fa-atom" style="color:var(--accent-purple)"></i></div>
                <h3>Physics: Live Simulations</h3>
                <p>Instead of memorizing &ldquo;unstable equilibrium means the ball rolls away,&rdquo; you literally <strong>tap the ball and watch it roll.</strong> You interact with the concept. When the exam comes, you recall the experience &mdash; not text.</p>
            </div>
            <div class="method-card reveal">
                <div class="method-number">02</div>
                <div class="method-icon" style="background:rgba(232,185,49,0.12)"><i class="fas fa-link" style="color:var(--accent-gold)"></i></div>
                <h3>Chemistry: Master Bonds First</h3>
                <p>Here&rsquo;s what most teachers won&rsquo;t say: <strong>atomic bonding is the #1 reason students fail Chemistry.</strong> Get bonds wrong and organic chemistry, reactions, equilibrium &mdash; everything falls apart. We fix the root cause.</p>
            </div>
            <div class="method-card reveal">
                <div class="method-number">03</div>
                <div class="method-icon" style="background:rgba(16,185,129,0.12)"><i class="fas fa-clock" style="color:var(--accent-emerald)"></i></div>
                <h3>Speed Training Built In</h3>
                <p>Our simulations train your brain to <strong>recognize patterns instantly.</strong> When you&rsquo;ve interacted with equilibrium 50 times, you answer in seconds, not minutes. That&rsquo;s how our students finish exams <strong>15 minutes early.</strong></p>
            </div>
            <div class="method-card reveal">
                <div class="method-number">04</div>
                <div class="method-icon" style="background:rgba(244,63,94,0.12)"><i class="fas fa-brain" style="color:var(--accent-rose)"></i></div>
                <h3>Multi-Sense Learning</h3>
                <p>We combine <strong>video explanations, audio summaries, mnemonics</strong> and <strong>flashcard drills</strong> so the material sticks from every angle. Some topics click visually, others through sound &mdash; we cover all of it.</p>
            </div>
        </div>
    </div>
</section>

<!-- LEARNING TOOLS STRIP - BOLD & VISIBLE -->
<section class="tools-strip">
    <div class="container">
        <div class="section-label reveal" style="margin-bottom:14px">⚡ HOW YOU'LL LEARN ⚡</div>
        <div class="tools-strip-inner reveal">
            <div class="tool-chip">
                <div class="tool-chip-icon" style="background:rgba(139,92,246,0.2)"><i class="fas fa-play-circle" style="color:var(--accent-purple)"></i></div>
                <div>
                    <div class="tool-chip-text">Video Lessons</div>
                    <div class="tool-chip-sub">Step-by-step visuals</div>
                </div>
            </div>
            <div class="tool-chip">
                <div class="tool-chip-icon" style="background:rgba(232,185,49,0.2)"><i class="fas fa-flask" style="color:var(--accent-gold)"></i></div>
                <div>
                    <div class="tool-chip-text">Simulations</div>
                    <div class="tool-chip-sub">Touch &amp; interact</div>
                </div>
            </div>
            <div class="tool-chip">
                <div class="tool-chip-icon" style="background:rgba(16,185,129,0.2)"><i class="fas fa-headphones" style="color:var(--accent-emerald)"></i></div>
                <div>
                    <div class="tool-chip-text">Audio Summaries</div>
                    <div class="tool-chip-sub">Learn on the go</div>
                </div>
            </div>
            <div class="tool-chip">
                <div class="tool-chip-icon" style="background:rgba(244,63,94,0.2)"><i class="fas fa-lightbulb" style="color:var(--accent-rose)"></i></div>
                <div>
                    <div class="tool-chip-text">Mnemonics</div>
                    <div class="tool-chip-sub">Never forget again</div>
                </div>
            </div>
            <div class="tool-chip">
                <div class="tool-chip-icon" style="background:rgba(34,211,238,0.2)"><i class="fas fa-clone" style="color:var(--accent-cyan)"></i></div>
                <div>
                    <div class="tool-chip-text">Flashcards</div>
                    <div class="tool-chip-sub">Quick revision drills</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- SIMULATION DEMO -->
<section class="sim-showcase" id="demo">
    <div class="container">
        <div class="section-label reveal" style="text-align:center">Try It Right Now</div>
        <h2 class="section-heading reveal" style="text-align:center">Experience the Raven Method</h2>
        <p class="section-sub reveal" style="text-align:center;max-width:500px;margin:0 auto 20px">Tap, drag, and interact &mdash; this is how you&rsquo;ll actually learn with us.</p>

        <!-- BIG OBVIOUS SUBJECT SWITCHER -->
        <div class="subject-switcher reveal">
            <button class="subject-switch-btn active-physics" id="switchPhysics" onclick="switchSubject('physics')">
                <i class="fas fa-atom"></i> Physics
            </button>
            <button class="subject-switch-btn" id="switchChemistry" onclick="switchSubject('chemistry')">
                <i class="fas fa-flask"></i> Chemistry
            </button>
        </div>
        <div class="switcher-hint reveal"><i class="fas fa-hand-pointer"></i> Tap to switch between subjects</div>

        <div class="sim-showcase-inner reveal">
            <!-- Physics Panel -->
            <div class="sim-panel active" id="physics-panel">
                <div class="sim-panel-header">
                    <h3>&#x2696;&#xFE0F; Equilibrium Lab</h3>
                    <p>Tap or drag the metal balls to see what happens</p>
                </div>
                <div class="sim-canvas-area">
                    <div class="sim-mini-card">
                        <div class="sim-mini-header">
                            <span class="sim-mini-label">A. Hill Top</span>
                            <span class="sim-mini-type type-unstable">Unstable</span>
                        </div>
                        <div class="sim-mini-canvas">
                            <canvas id="sim-a"></canvas>
                            <span class="tap-hint-sm">Tap to disturb</span>
                        </div>
                        <p class="sim-mini-desc">Any push sends the ball rolling away &mdash; it never returns. That&rsquo;s unstable equilibrium.</p>
                    </div>
                    <div class="sim-mini-card">
                        <div class="sim-mini-header">
                            <span class="sim-mini-label">B. Deep Bowl</span>
                            <span class="sim-mini-type type-stable">Stable</span>
                        </div>
                        <div class="sim-mini-canvas">
                            <canvas id="sim-b"></canvas>
                            <span class="tap-hint-sm">Tap to disturb</span>
                        </div>
                        <p class="sim-mini-desc">Push the ball and it oscillates back to center. The restoring force brings it home.</p>
                    </div>
                    <div class="sim-mini-card">
                        <div class="sim-mini-header">
                            <span class="sim-mini-label">C. Shallow Bowl</span>
                            <span class="sim-mini-type type-stable">Stable</span>
                        </div>
                        <div class="sim-mini-canvas">
                            <canvas id="sim-c"></canvas>
                            <span class="tap-hint-sm">Tap to disturb</span>
                        </div>
                        <p class="sim-mini-desc">Weaker restoring force means longer, lazier oscillation. Compare with the deep bowl!</p>
                    </div>
                    <div class="sim-mini-card">
                        <div class="sim-mini-header">
                            <span class="sim-mini-label">D. Flat Surface</span>
                            <span class="sim-mini-type type-neutral">Neutral</span>
                        </div>
                        <div class="sim-mini-canvas">
                            <canvas id="sim-d"></canvas>
                            <span class="tap-hint-sm">Tap to disturb</span>
                        </div>
                        <p class="sim-mini-desc">Ball stays wherever you push it &mdash; no force pulls it back. Neutral equilibrium.</p>
                    </div>
                </div>
                <div class="sim-badge-row">
                    <div class="sim-badge"><i class="fas fa-hand-pointer"></i> Interactive</div>
                    <div class="sim-badge"><i class="fas fa-eye"></i> Visual learning</div>
                    <div class="sim-badge"><i class="fas fa-brain"></i> Builds intuition</div>
                </div>
            </div>

            <!-- Chemistry Panel - IMPROVED BOND VISUALS -->
            <div class="sim-panel" id="chemistry-panel">
                <div class="sim-panel-header">
                    <h3>&#x1F517; Atomic Bonds &amp; Structure</h3>
                    <p>This is the foundation. Weakness here is why students struggle with every other Chemistry topic.</p>
                </div>
                <div class="chem-demo-area">
                    <div class="chem-selector" id="chemSelector">
                        <button class="chem-btn active" data-bond="single">Single</button>
                        <button class="chem-btn" data-bond="double">Double</button>
                        <button class="chem-btn" data-bond="triple">Triple</button>
                        <button class="chem-btn" data-bond="ionic">Ionic</button>
                    </div>
                    <div class="chem-canvas-wrap">
                        <canvas id="chemCanvas"></canvas>
                    </div>
                    <div class="chem-info" id="chemInfo">
                        <h4 style="color:var(--accent-cyan)">Single Covalent Bond (H–H)</h4>
                        <p>Two hydrogen atoms <strong>share one pair of electrons</strong>. This is the simplest covalent bond — one electron from each atom meets in the middle.</p>
                        <div class="bond-strength-meter">
                            <span class="meter-label">Strength</span>
                            <div class="meter-track"><div class="meter-fill" id="chemMeterFill" style="width:46%;background:linear-gradient(90deg,rgba(34,211,238,0.3),var(--accent-cyan))"></div></div>
                            <span class="meter-val" id="chemMeterVal" style="color:var(--accent-cyan)">436 kJ/mol</span>
                        </div>
                        <div class="chem-foundation-callout">
                            <div class="callout-label"><i class="fas fa-exclamation-triangle"></i> Why this matters</div>
                            <div class="callout-text" id="chemWhyMatters">If you don’t understand how atoms share electrons, you can’t understand molecular shapes, organic reactions, or even why water dissolves salt.</div>
                        </div>
                        <div class="chem-unlocks-row" id="chemUnlocks">
                            <span class="chem-unlock-chip"><i class="fas fa-lock-open"></i> Molecular shapes</span>
                            <span class="chem-unlock-chip"><i class="fas fa-lock-open"></i> Organic chemistry</span>
                            <span class="chem-unlock-chip"><i class="fas fa-lock-open"></i> Chemical reactions</span>
                        </div>
                    </div>
                </div>
                <div class="sim-badge-row">
                    <div class="sim-badge"><i class="fas fa-layer-group"></i> Foundation topic</div>
                    <div class="sim-badge"><i class="fas fa-link"></i> Unlocks everything</div>
                    <div class="sim-badge"><i class="fas fa-bullseye"></i> Exam-critical</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 15 MINUTE ADVANTAGE -->
<section class="advantage-section" id="advantage">
    <div class="container">
        <div class="advantage-card reveal">
            <div class="section-label" style="margin-bottom:16px">The Raven Advantage</div>
            <div class="advantage-number">15</div>
            <div class="advantage-unit">Minutes Earlier</div>
            <p>Our students consistently finish their Physics and Chemistry papers <strong>15 minutes before time is called.</strong> That’s 15 extra minutes to review your answers, catch silly mistakes, and walk out <em>knowing</em> you crushed it.</p>
            <div class="advantage-subjects">
                <div class="advantage-subject">
                    <i class="fas fa-atom" style="color:var(--accent-purple)"></i>
                    <span>Physics</span>
                </div>
                <div class="advantage-subject">
                    <i class="fas fa-flask" style="color:var(--accent-gold)"></i>
                    <span>Chemistry</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- DREAM SECTION -->
<section class="dream-section" id="dreams">
    <div class="container">
        <div class="section-label reveal">Your Future Starts Here</div>
        <h2 class="section-heading reveal">Imagine This…</h2>
        <p class="section-sub reveal">Every lesson brings you one step closer to the future you deserve.</p>
        <div class="dream-grid">
            <div class="dream-card reveal">
                <div class="dream-icon">&#x1F393;</div>
                <h3>Your Dream University</h3>
                <p>Picture yourself walking through those gates — UI, UNILAG, OAU, ABU, UNIBEN, or wherever your heart is set. Raven Academy exists to put you there.</p>
            </div>
            <div class="dream-card reveal">
                <div class="dream-icon">&#x1F4DA;</div>
                <h3>Your Dream Course</h3>
                <p>Medicine, Engineering, Law, Computer Science — whatever it is, you need the scores. We give you the method to get them. No more “settling.”</p>
            </div>
            <div class="dream-card reveal">
                <div class="dream-icon">&#x1F44B;</div>
                <h3>No More Staying at Home</h3>
                <p>This is the year you move forward. While others repeat the same cycle, you’ll be in school living the life you’ve been dreaming about.</p>
            </div>
            <div class="dream-card reveal">
                <div class="dream-icon">&#x1F4AA;</div>
                <h3>Confidence on Exam Day</h3>
                <p>No shaking hands. No blank stares at the question paper. Just calm confidence because you’ve already <em>experienced</em> every concept through our simulations.</p>
            </div>
        </div>
    </div>
</section>

<!-- TESTIMONIALS -->
<section class="testimonial-section" id="trust">
    <div class="container">
        <div class="section-label reveal" style="text-align:center">Student Stories</div>
        <h2 class="section-heading reveal" style="text-align:center">They Were Skeptical Too.</h2>
        <p class="section-sub reveal" style="text-align:center;max-width:500px;margin:0 auto 28px">Here’s what students who took the leap are saying.</p>
        <div class="testimonial-grid">
            <div class="testimonial-card reveal">
                <div class="testimonial-stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                <p class="testimonial-text">“I used to dread Physics. The equilibrium simulation literally made me see what my textbook was trying to say. I finished my JAMB Physics in 40 minutes.”</p>
                <div class="testimonial-author">
                    <img class="testimonial-avatar" src="https://pfst.cf2.poecdn.net/base/image/afd7fbd595f177f76713d3fa376bf0129932c7291a8403f57973ca92db51ed95?w=480&h=600" alt="Adebayo T.">
                    <div>
                        <div class="testimonial-name">Adebayo T.</div>
                        <div class="testimonial-detail">JAMB Score: 312 · Medicine, UNILAG</div>
                    </div>
                </div>
            </div>
            <div class="testimonial-card reveal">
                <div class="testimonial-stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                <p class="testimonial-text">“I always thought I was just bad at Chemistry. Turns out I never properly understood bonds. Once Raven showed me how atoms actually connect, organic chemistry suddenly made sense. My WAEC went from D7 to B2.”</p>
                <div class="testimonial-author">
                    <img class="testimonial-avatar" src="https://pfst.cf2.poecdn.net/base/image/d3ca35c0d2bbd6e701b33980cf8d9b6020012d3eee536864c7c2ea430f17d929?w=793&h=903" alt="Chidinma O.">
                    <div>
                        <div class="testimonial-name">Chidinma O.</div>
                        <div class="testimonial-detail">WAEC: 7 A’s · Engineering, UI</div>
                    </div>
                </div>
            </div>
            <div class="testimonial-card reveal">
                <div class="testimonial-stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                <p class="testimonial-text">“I was at home for 2 years. My friend told me about Raven and I was skeptical. But the simulations changed everything. I’m finally in school!”</p>
                <div class="testimonial-author">
                    <img class="testimonial-avatar" src="https://pfst.cf2.poecdn.net/base/image/2d704578cb627f65b8cd69b5f602b627a9e4148a1f595672d51edacb5b5f556f?w=745&h=826" alt="Emmanuel K.">
                    <div>
                        <div class="testimonial-name">Emmanuel K.</div>
                        <div class="testimonial-detail">JAMB Score: 298 · CompSci, FUTA</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA -->
<section class="cta-section" id="cta">
    <div class="container">
        <div class="cta-box reveal">
            <h2>Don’t Let Another Year<br><span style="color:var(--accent-gold)">Pass You By.</span></h2>
            <p>Your dream university, your dream course, your dream life — it all starts with the decision you make right now.</p>
            <button class="btn-primary" onclick="openPaymentModal()"><i class="fas fa-graduation-cap"></i> Join Raven Academy Today</button>
            <div class="urgency-tag"><i class="fas fa-fire"></i> Limited spots for the current prep cycle</div>
        </div>
    </div>
</section>

<!-- FAQ -->
<section class="faq-section" id="faq">
    <div class="container">
        <div class="section-label reveal" style="text-align:center">Common Questions</div>
        <h2 class="section-heading reveal" style="text-align:center;margin-bottom:28px">Got Questions?</h2>
        <div style="max-width:700px;margin:0 auto">
            <div class="faq-item reveal">
                <button class="faq-question" onclick="toggleFaq(this)">You’re a new academy — how can I trust you? <i class="fas fa-plus"></i></button>
                <div class="faq-answer"><div class="faq-answer-inner">We get it. Trust is earned. That’s why we let our method speak for itself — try the interactive demos above for free right now. We also offer a satisfaction guarantee: if you don’t see improvement within 2 weeks, you get a full refund. No questions asked.</div></div>
            </div>
            <div class="faq-item reveal">
                <button class="faq-question" onclick="toggleFaq(this)">How does the simulation method actually work? <i class="fas fa-plus"></i></button>
                <div class="faq-answer"><div class="faq-answer-inner">Instead of reading about concepts, you interact with them. For Physics, you tap, drag, and manipulate simulations. For Chemistry, we start with atomic bonding using interactive models. Plus we layer in video lessons, audio summaries, mnemonics, and flashcard drills — so the material sticks from every angle. Research shows interactive learning improves retention by up to 75%.</div></div>
            </div>
            <div class="faq-item reveal">
                <button class="faq-question" onclick="toggleFaq(this)">Will this work for JAMB, WAEC, and NECO? <i class="fas fa-plus"></i></button>
                <div class="faq-answer"><div class="faq-answer-inner">Absolutely. Our curriculum is specifically mapped to the JAMB UTME, WAEC SSCE, and NECO syllabi. Every simulation and bond model connects directly to the topics and question styles you’ll encounter. We don’t teach general science — we teach what you need to score high.</div></div>
            </div>
            <div class="faq-item reveal">
                <button class="faq-question" onclick="toggleFaq(this)">Why focus so much on atomic bonds in Chemistry? <i class="fas fa-plus"></i></button>
                <div class="faq-answer"><div class="faq-answer-inner">Because it’s the hidden root cause of most Chemistry failures. Atomic bonding is the foundation everything else is built on — organic chemistry, chemical reactions, equilibrium. When students skip past bonds or only half-understand them, every subsequent topic becomes harder. We fix the root, and the branches grow naturally.</div></div>
            </div>
            <div class="faq-item reveal">
                <button class="faq-question" onclick="toggleFaq(this)">What does “finish 15 minutes earlier” mean? <i class="fas fa-plus"></i></button>
                <div class="faq-answer"><div class="faq-answer-inner">When you’ve interacted with a concept through simulations dozens of times, you develop instant pattern recognition. Instead of working problems from scratch, you recognize the type and solve it rapidly. Our students consistently finish Physics and Chemistry papers 10-15 minutes early — crucial time for reviewing answers.</div></div>
            </div>
            <div class="faq-item reveal">
                <button class="faq-question" onclick="toggleFaq(this)">I’ve tried other lesson services and failed. Why is this different? <i class="fas fa-plus"></i></button>
                <div class="faq-answer"><div class="faq-answer-inner">Most lesson services use the same method your school uses: someone talks at you while you take notes. We replace passive listening with active interaction. You don’t just hear about stable equilibrium — you drag a ball into a bowl and watch the physics happen. Plus our video lessons, audio recaps, mnemonics and flashcards hit the concept from multiple angles so it actually sticks.</div></div>
            </div>
        </div>
    </div>
</section>

<!-- FOOTER -->
<footer>
    <div class="container">
        <p style="margin-bottom:6px"><strong style="color:var(--text-primary)">Raven Academy</strong> — Your dream university awaits.</p>
        <p>JAMB UTME · WAEC · NECO Preparation · Physics · Chemistry</p>
    </div>
</footer>

<!-- Payment Modal (from Paystack app) -->
<div class="modal-overlay" id="paymentModal">
    <div class="modal">
        <div class="modal-icon">👑</div>
        <h2 class="modal-title">Unlock Full Access</h2>
        <p class="modal-text">Get unlimited access to all Physics & Chemistry simulations, video lessons, and exam prep tools.</p>

        <div class="modal-price">₦2,000</div>
        <div class="modal-price-note">One-time payment · Lifetime access</div>

        <div class="modal-features">
            <div class="modal-feature">
                <i class="fas fa-check-circle"></i>
                <span>All equilibrium simulations</span>
            </div>
            <div class="modal-feature">
                <i class="fas fa-check-circle"></i>
                <span>Complete atomic bonding library</span>
            </div>
            <div class="modal-feature">
                <i class="fas fa-check-circle"></i>
                <span>300+ interactive demos</span>
            </div>
            <div class="modal-feature">
                <i class="fas fa-check-circle"></i>
                <span>Video lessons & audio summaries</span>
            </div>
        </div>

        <div class="modal-actions">
            <button class="btn-gold" id="unlockBtn">
                <i class="fas fa-unlock"></i> Unlock Now
            </button>
            <button class="modal-close" id="closeModal">Maybe Later</button>
        </div>
    </div>
</div>

<!-- Premium Badge & Toast (from Paystack app) -->
<div class="premium-badge" id="premiumBadge">
    <i class="fas fa-crown"></i>
    <span>Premium Active</span>
</div>

<div class="toast" id="toast">
    <i class="fas fa-check-circle"></i>
    <span id="toastText">Success!</span>
</div>

<script>
/* ===== DARK MODE ===== */
if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    document.documentElement.classList.add('dark');
}
window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function(event) {
    if (event.matches) {
        document.documentElement.classList.add('dark');
    } else {
        document.documentElement.classList.remove('dark');
    }
});

/* ===== SCROLL REVEAL ===== */
var revealObserver = new IntersectionObserver(function(entries) {
    entries.forEach(function(entry) {
        if (entry.isIntersecting) {
            entry.target.classList.add('visible');
        }
    });
}, { threshold: 0.08, rootMargin: '0px 0px -30px 0px' });

document.querySelectorAll('.reveal').forEach(function(el) {
    revealObserver.observe(el);
});

/* ===== NAVIGATION ===== */
function scrollToSection(id) {
    var el = document.getElementById(id);
    if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

/* ===== FAQ ===== */
function toggleFaq(btn) {
    var item = btn.parentElement;
    var wasOpen = item.classList.contains('open');
    document.querySelectorAll('.faq-item').forEach(function(f) { f.classList.remove('open'); });
    if (!wasOpen) item.classList.add('open');
}

/* ===== SUBJECT SWITCHER ===== */
function switchSubject(subject) {
    var physBtn = document.getElementById('switchPhysics');
    var chemBtn = document.getElementById('switchChemistry');
    var physPanel = document.getElementById('physics-panel');
    var chemPanel = document.getElementById('chemistry-panel');

    physBtn.className = 'subject-switch-btn';
    chemBtn.className = 'subject-switch-btn';
    physPanel.classList.remove('active');
    chemPanel.classList.remove('active');

    if (subject === 'physics') {
        physBtn.classList.add('active-physics');
        physPanel.classList.add('active');
    } else {
        chemBtn.classList.add('active-chemistry');
        chemPanel.classList.add('active');
        initChemCanvas();
    }
}

/* ===== PHYSICS SIMULATIONS ===== */
var PhysSim = function(canvasId, type, curvature) {
    this.canvas = document.getElementById(canvasId);
    this.ctx = this.canvas.getContext('2d');
    this.type = type;
    this.curvature = curvature;
    this.velocity = 0;
    this.isDragging = false;
    this.wasDragged = false;
    this.resize();
    this.reset();
    this.setupInput();
};

PhysSim.prototype.resize = function() {
    var rect = this.canvas.parentElement.getBoundingClientRect();
    var dpr = window.devicePixelRatio || 1;
    this.canvas.width = rect.width * dpr;
    this.canvas.height = rect.height * dpr;
    this.ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    this.w = rect.width;
    this.h = rect.height;
    this.cx = this.w / 2;
    this.cy = this.h * 0.65;
    this.ballR = Math.min(this.w, this.h) * 0.1;
};

PhysSim.prototype.reset = function() {
    this.ballX = this.cx;
    this.velocity = 0;
    this.updateBallY();
};

PhysSim.prototype.getSurfaceY = function(x) {
    var dx = x - this.cx;
    if (this.type === 'unstable') return this.cy - this.curvature * dx * dx;
    if (this.type === 'stable-deep') return this.cy + this.curvature * 1.5 * dx * dx;
    if (this.type === 'stable-shallow') return this.cy + this.curvature * 0.5 * dx * dx;
    return this.cy;
};

/* FIXED: Slopes now produce correct physics behavior */
PhysSim.prototype.getSlope = function(x) {
    var dx = x - this.cx;
    /* Unstable (hilltop): ball should accelerate AWAY from center
       When dx > 0 (ball is right), slope must be positive => velocity increases => ball goes right */
    if (this.type === 'unstable') return 2 * this.curvature * dx;
    /* Stable (bowl): ball should accelerate TOWARD center
       When dx > 0 (ball is right), slope must be negative => velocity decreases => ball goes left */
    if (this.type === 'stable-deep') return -2 * this.curvature * 1.5 * dx;
    if (this.type === 'stable-shallow') return -2 * this.curvature * 0.5 * dx;
    return 0;
};

PhysSim.prototype.updateBallY = function() {
    this.ballY = this.getSurfaceY(this.ballX) - this.ballR;
};

PhysSim.prototype.setupInput = function() {
    var self = this;
    var container = this.canvas.parentElement;
    var getX = function(e) {
        var rect = self.canvas.getBoundingClientRect();
        return (e.touches ? e.touches[0].clientX : e.clientX) - rect.left;
    };

    container.addEventListener('mousedown', function(e) { self.startDrag(getX(e)); });
    container.addEventListener('touchstart', function(e) { e.preventDefault(); self.startDrag(getX(e)); }, { passive: false });
    window.addEventListener('mousemove', function(e) { if (self.isDragging) self.drag(getX(e)); });
    window.addEventListener('touchmove', function(e) { if (self.isDragging) self.drag(getX(e)); }, { passive: false });
    window.addEventListener('mouseup', function() { self.isDragging = false; });
    window.addEventListener('touchend', function() { self.isDragging = false; });
    container.addEventListener('click', function(e) {
        if (!self.wasDragged) {
            var dir = getX(e) > self.ballX ? 1 : -1;
            self.velocity += dir * 3;
        }
        self.wasDragged = false;
    });
};

PhysSim.prototype.startDrag = function(x) {
    if (Math.abs(x - this.ballX) < this.ballR * 3) {
        this.isDragging = true;
        this.dragStartX = x;
        this.wasDragged = false;
    }
};

PhysSim.prototype.drag = function(x) {
    if (this.isDragging) {
        this.ballX = Math.max(this.ballR + 5, Math.min(this.w - this.ballR - 5, x));
        this.updateBallY();
        this.velocity = 0;
        if (Math.abs(x - this.dragStartX) > 5) this.wasDragged = true;
    }
};

PhysSim.prototype.update = function() {
    if (this.isDragging) return;
    var slope = this.getSlope(this.ballX);
    this.velocity += 0.5 * slope;
    this.velocity *= 0.995;
    if (this.type.indexOf('stable') === 0) this.velocity *= 0.98;
    this.ballX += this.velocity;
    var minX = this.ballR + 5;
    var maxX = this.w - this.ballR - 5;
    if (this.ballX < minX) { this.ballX = minX; this.velocity *= -0.5; }
    if (this.ballX > maxX) { this.ballX = maxX; this.velocity *= -0.5; }
    this.updateBallY();
};

PhysSim.prototype.draw = function() {
    var ctx = this.ctx;
    var isDark = document.documentElement.classList.contains('dark');
    ctx.clearRect(0, 0, this.w, this.h);

    ctx.beginPath();
    ctx.moveTo(0, this.h);
    for (var x = 0; x <= this.w; x += 2) {
        ctx.lineTo(x, this.getSurfaceY(x));
    }
    ctx.lineTo(this.w, this.h);
    ctx.closePath();
    var sg = ctx.createLinearGradient(0, this.cy - 30, 0, this.h);
    sg.addColorStop(0, isDark ? '#1a2438' : '#cbd5e0');
    sg.addColorStop(1, isDark ? '#10101c' : '#a0aec0');
    ctx.fillStyle = sg;
    ctx.fill();

    ctx.beginPath();
    for (var x2 = 0; x2 <= this.w; x2 += 2) {
        if (x2 === 0) { ctx.moveTo(x2, this.getSurfaceY(x2)); } else { ctx.lineTo(x2, this.getSurfaceY(x2)); }
    }
    ctx.strokeStyle = isDark ? 'rgba(255,255,255,0.15)' : 'rgba(0,0,0,0.08)';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    ctx.beginPath();
    ctx.ellipse(this.ballX, this.getSurfaceY(this.ballX) + 3, this.ballR * 0.8, this.ballR * 0.25, 0, 0, Math.PI * 2);
    ctx.fillStyle = 'rgba(0,0,0,0.25)';
    ctx.fill();

    var bg = ctx.createRadialGradient(this.ballX - this.ballR * 0.3, this.ballY - this.ballR * 0.3, 0, this.ballX, this.ballY, this.ballR);
    bg.addColorStop(0, '#8892a6');
    bg.addColorStop(0.4, '#5a6478');
    bg.addColorStop(1, '#2d3544');
    ctx.beginPath();
    ctx.arc(this.ballX, this.ballY, this.ballR, 0, Math.PI * 2);
    ctx.fillStyle = bg;
    ctx.fill();

    ctx.beginPath();
    ctx.arc(this.ballX - this.ballR * 0.3, this.ballY - this.ballR * 0.3, this.ballR * 0.2, 0, Math.PI * 2);
    ctx.fillStyle = 'rgba(255,255,255,0.5)';
    ctx.fill();
};

var physSims = [];

function initPhysSims() {
    physSims = [
        new PhysSim('sim-a', 'unstable', 0.008),
        new PhysSim('sim-b', 'stable-deep', 0.012),
        new PhysSim('sim-c', 'stable-shallow', 0.012),
        new PhysSim('sim-d', 'neutral', 0)
    ];
}

/* ===== CHEMISTRY: ATOMIC BONDS DEMO - IMPROVED ACCURACY ===== */
var currentBond = 'single';
var chemAnimId = null;
var chemTime = 0;

var bondData = {
    single: {
        title: 'Single Covalent Bond (H–H)',
        desc: 'Two hydrogen atoms <strong>share one pair of electrons</strong>. This is the simplest covalent bond — one electron from each atom meets in the middle.',
        atoms: [
            { el: 'H', color: '#38bdf8', colorLight: '#7dd3fc', r: 0.37 },
            { el: 'H', color: '#38bdf8', colorLight: '#7dd3fc', r: 0.37 }
        ],
        sharedPairs: 1,
        bondOrder: 1,
        energy: 436,
        energyPct: 46,
        accentColor: '#22D3EE',
        isIonic: false,
        whyMatters: 'If you don’t understand how atoms share electrons, you can’t understand molecular shapes, organic reactions, or even why water dissolves salt.',
        unlocks: ['Molecular shapes', 'Organic chemistry', 'Chemical reactions']
    },
    double: {
        title: 'Double Covalent Bond (O=O)',
        desc: 'Two oxygen atoms <strong>share two pairs of electrons</strong> (four electrons total). Extra sharing pulls atoms closer, making the bond shorter and stronger.',
        atoms: [
            { el: 'O', color: '#ef4444', colorLight: '#fca5a5', r: 0.73 },
            { el: 'O', color: '#ef4444', colorLight: '#fca5a5', r: 0.73 }
        ],
        sharedPairs: 2,
        bondOrder: 2,
        energy: 498,
        energyPct: 53,
        accentColor: '#E8B931',
        isIonic: false,
        whyMatters: 'Double bonds control molecular geometry and reactivity. Without understanding them, alkenes, carbonyl chemistry, and addition reactions are impossible to grasp.',
        unlocks: ['Alkene reactions', 'Carbonyl chemistry', 'Molecular rigidity']
    },
    triple: {
        title: 'Triple Covalent Bond (N≡N)',
        desc: 'Two nitrogen atoms <strong>share three pairs of electrons</strong> (six total). The strongest and shortest covalent bond — it’s why N₂ gas is so unreactive.',
        atoms: [
            { el: 'N', color: '#8B5CF6', colorLight: '#c4b5fd', r: 0.75 },
            { el: 'N', color: '#8B5CF6', colorLight: '#c4b5fd', r: 0.75 }
        ],
        sharedPairs: 3,
        bondOrder: 3,
        energy: 945,
        energyPct: 100,
        accentColor: '#F43F5E',
        isIonic: false,
        whyMatters: 'Triple bonds explain why nitrogen gas is inert, how alkynes behave, and why the Haber process needs extreme conditions.',
        unlocks: ['Nitrogen chemistry', 'Alkynes', 'Industrial processes']
    },
    ionic: {
        title: 'Ionic Bond (Na⁺ Cl⁻)',
        desc: 'Sodium <strong>transfers its outer electron entirely</strong> to chlorine. No sharing — full transfer. This creates oppositely charged ions that attract powerfully.',
        atoms: [
            { el: 'Na', color: '#E8B931', colorLight: '#fde68a', r: 1.02 },
            { el: 'Cl', color: '#10B981', colorLight: '#6ee7b7', r: 0.99 }
        ],
        sharedPairs: 0,
        bondOrder: 0,
        energy: 787,
        energyPct: 83,
        accentColor: '#8B5CF6',
        isIonic: true,
        whyMatters: 'Ionic bonding explains solubility, electrolysis, crystal lattices, and conductivity. Confusing ionic with covalent is one of the most common exam mistakes.',
        unlocks: ['Electrolysis', 'Solubility rules', 'Crystal structures']
    }
};

function selectBond(name) {
    currentBond = name;
    document.querySelectorAll('.chem-btn').forEach(function(b) { b.classList.remove('active'); });
    var btn = document.querySelector('.chem-btn[data-bond="' + name + '"]');
    if (btn) btn.classList.add('active');
    updateChemInfo();
    initChemCanvas();
}

function updateChemInfo() {
    var d = bondData[currentBond];
    var infoEl = document.getElementById('chemInfo');
    var meterFill = document.getElementById('chemMeterFill');
    var meterVal = document.getElementById('chemMeterVal');

    infoEl.querySelector('h4').style.color = d.accentColor;
    infoEl.querySelector('h4').innerHTML = d.title;
    infoEl.querySelector('p').innerHTML = d.desc;

    meterFill.style.width = d.energyPct + '%';
    meterFill.style.background = 'linear-gradient(90deg, ' + d.accentColor + '33, ' + d.accentColor + ')';
    meterVal.style.color = d.accentColor;
    meterVal.textContent = d.energy + ' kJ/mol';

    document.getElementById('chemWhyMatters').textContent = d.whyMatters;

    var unlocksHtml = '';
    d.unlocks.forEach(function(u) {
        unlocksHtml += '<span class="chem-unlock-chip"><i class="fas fa-lock-open"></i> ' + u + '</span>';
    });
    document.getElementById('chemUnlocks').innerHTML = unlocksHtml;
}

function initChemCanvas() {
    if (chemAnimId) cancelAnimationFrame(chemAnimId);
    var canvas = document.getElementById('chemCanvas');
    if (!canvas) return;
    var rect = canvas.parentElement.getBoundingClientRect();
    var dpr = window.devicePixelRatio || 1;
    canvas.width = rect.width * dpr;
    canvas.height = rect.height * dpr;
    chemTime = 0;
    animateChemBonds();
}

function animateChemBonds() {
    var canvas = document.getElementById('chemCanvas');
    if (!canvas) return;
    var ctx = canvas.getContext('2d');
    var dpr = window.devicePixelRatio || 1;
    var w = canvas.width / dpr;
    var h = canvas.height / dpr;
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    ctx.clearRect(0, 0, w, h);

    chemTime += 0.016;
    var t = chemTime;
    var d = bondData[currentBond];
    var cx = w / 2;
    var cy = h / 2;
    var isDark = document.documentElement.classList.contains('dark');

    var atomScale = Math.min(w, h) * 0.14;
    var r1 = atomScale * (0.7 + d.atoms[0].r * 0.4);
    var r2 = atomScale * (0.7 + d.atoms[1].r * 0.4);

    var separation;
    if (d.isIonic) {
        separation = (r1 + r2) * 1.3;
    } else {
        separation = (r1 + r2) * (0.7 - d.bondOrder * 0.05);
    }

    var x1 = cx - separation * 0.55;
    var x2 = cx + separation * 0.55;
    var y1 = cy;
    var y2 = cy;

    // Background glow
    var bgGlow = ctx.createRadialGradient(cx, cy, 0, cx, cy, Math.min(w, h) * 0.4);
    bgGlow.addColorStop(0, (isDark ? 'rgba(255,255,255,0.02)' : 'rgba(0,0,0,0.01)'));
    bgGlow.addColorStop(1, 'transparent');
    ctx.fillStyle = bgGlow;
    ctx.fillRect(0, 0, w, h);

    // Draw bond lines (thicker and clearer)
    if (!d.isIonic && d.sharedPairs > 0) {
        var cloudGrd = ctx.createRadialGradient(cx, cy, 0, cx, cy, separation * 0.5);
        cloudGrd.addColorStop(0, d.accentColor + '18');
        cloudGrd.addColorStop(0.6, d.accentColor + '08');
        cloudGrd.addColorStop(1, 'transparent');
        ctx.fillStyle = cloudGrd;
        ctx.beginPath();
        ctx.ellipse(cx, cy, separation * 0.45, r1 * 0.6 + d.bondOrder * 4, 0, 0, Math.PI * 2);
        ctx.fill();

        // Draw bond lines (thicker)
        var lineOffsets = [];
        if (d.bondOrder === 1) { lineOffsets = [0]; }
        else if (d.bondOrder === 2) { lineOffsets = [-6, 6]; }
        else if (d.bondOrder === 3) { lineOffsets = [-9, 0, 9]; }

        lineOffsets.forEach(function(off) {
            ctx.beginPath();
            ctx.moveTo(x1 + r1 * 0.3, cy + off);
            ctx.lineTo(x2 - r2 * 0.3, cy + off);
            ctx.strokeStyle = d.accentColor + 'CC'; // More opaque
            ctx.lineWidth = 4;
            ctx.stroke();
        });
    }

    // Ionic bond visualization with electron transfer arrow
    if (d.isIonic) {
        var arrowPhase = (Math.sin(t * 2) * 0.5 + 0.5);
        var arrowX = x1 + r1 * 0.7 + (x2 - r2 * 0.7 - x1 - r1 * 0.7) * arrowPhase;
        var arrowY = cy - 20;

        // Dashed line for transfer
        ctx.beginPath();
        ctx.moveTo(x1 + r1 * 0.7, arrowY);
        ctx.lineTo(x2 - r2 * 0.7, arrowY);
        ctx.strokeStyle = d.accentColor + '80';
        ctx.lineWidth = 3;
        ctx.setLineDash([6, 4]);
        ctx.stroke();
        ctx.setLineDash([]);

        // Arrow head
        ctx.beginPath();
        ctx.moveTo(x2 - r2 * 0.7, arrowY);
        ctx.lineTo(x2 - r2 * 0.7 - 12, arrowY - 6);
        ctx.lineTo(x2 - r2 * 0.7 - 12, arrowY + 6);
        ctx.closePath();
        ctx.fillStyle = d.accentColor + 'CC';
        ctx.fill();

        // Electron being transferred
        ctx.beginPath();
        ctx.arc(arrowX, arrowY, 6, 0, Math.PI * 2);
        var eGrd = ctx.createRadialGradient(arrowX, arrowY, 0, arrowX, arrowY, 6);
        eGrd.addColorStop(0, '#fff');
        eGrd.addColorStop(1, d.accentColor);
        ctx.fillStyle = eGrd;
        ctx.fill();

        // Charge labels
        ctx.font = '700 18px "Bricolage Grotesque", sans-serif';
        ctx.textAlign = 'center';
        ctx.fillStyle = d.atoms[0].color;
        ctx.fillText('+', x1, y1 - r1 - 15);
        ctx.fillStyle = d.atoms[1].color;
        ctx.fillText('−', x2, y2 - r2 - 15);
    }

    // Draw electron pairs for covalent bonds
    if (!d.isIonic) {
        var electronPositions = [];
        for (var ep = 0; ep < d.sharedPairs; ep++) {
            var eAngle1 = t * 1.8 + ep * (Math.PI * 2 / d.sharedPairs);
            var eAngle2 = eAngle1 + Math.PI;
            var eRad = separation * 0.2 + ep * 4;
            var offy = d.bondOrder > 1 ? (ep - (d.sharedPairs - 1) / 2) * 14 : 0;

            var ex1 = cx + Math.cos(eAngle1) * eRad;
            var ey1 = cy + offy + Math.sin(eAngle1) * (eRad * 0.5);
            electronPositions.push({ x: ex1, y: ey1, col: d.atoms[0].colorLight });

            var ex2 = cx + Math.cos(eAngle2) * eRad;
            var ey2 = cy + offy + Math.sin(eAngle2) * (eRad * 0.5);
            electronPositions.push({ x: ex2, y: ey2, col: d.atoms[1].colorLight });
        }

        electronPositions.forEach(function(ep2) {
            ctx.beginPath();
            ctx.arc(ep2.x, ep2.y, 10, 0, Math.PI * 2);
            ctx.fillStyle = ep2.col + '30';
            ctx.fill();
            ctx.beginPath();
            ctx.arc(ep2.x, ep2.y, 5, 0, Math.PI * 2);
            var epGrd = ctx.createRadialGradient(ep2.x - 2, ep2.y - 2, 0, ep2.x, ep2.y, 5);
            epGrd.addColorStop(0, '#fff');
            epGrd.addColorStop(1, ep2.col);
            ctx.fillStyle = epGrd;
            ctx.fill();
        });
    }

    // Helper to draw outer shell electrons
    function drawShellElectrons(ax, ay, ar, col, count, offset) {
        for (var se = 0; se < count; se++) {
            var seAngle = offset + se * (Math.PI * 2 / count) + Math.sin(t * 0.8) * 0.1;
            var seX = ax + Math.cos(seAngle) * (ar * 1.25);
            var seY = ay + Math.sin(seAngle) * (ar * 1.25);
            ctx.beginPath();
            ctx.arc(seX, seY, 4, 0, Math.PI * 2);
            ctx.fillStyle = col + '80';
            ctx.fill();
        }
    }

    // Draw outer shell electrons for non-hydrogen atoms (simplified)
    if (!d.isIonic) {
        var outerCount1 = d.atoms[0].el === 'H' ? 0 : d.atoms[0].el === 'O' ? 4 : d.atoms[0].el === 'N' ? 2 : 0;
        if (outerCount1 > 0) drawShellElectrons(x1, y1, r1, d.atoms[0].colorLight, outerCount1, Math.PI * 0.8);
        var outerCount2 = d.atoms[1].el === 'H' ? 0 : d.atoms[1].el === 'O' ? 4 : d.atoms[1].el === 'N' ? 2 : 0;
        if (outerCount2 > 0) drawShellElectrons(x2, y2, r2, d.atoms[1].colorLight, outerCount2, -Math.PI * 0.2);
    }

    // Draw atoms with better shading
    function drawAtom(ax, ay, ar, col, colLight, label) {
        // shadow
        ctx.beginPath();
        ctx.arc(ax + 4, ay + 4, ar, 0, Math.PI * 2);
        ctx.fillStyle = 'rgba(0,0,0,0.3)';
        ctx.fill();

        var grd = ctx.createRadialGradient(ax - ar * 0.3, ay - ar * 0.3, ar * 0.1, ax, ay, ar);
        grd.addColorStop(0, colLight);
        grd.addColorStop(0.6, col);
        grd.addColorStop(1, isDark ? shadeColor(col, -40) : shadeColor(col, -20));
        ctx.beginPath();
        ctx.arc(ax, ay, ar, 0, Math.PI * 2);
        ctx.fillStyle = grd;
        ctx.fill();

        // highlight
        ctx.beginPath();
        ctx.arc(ax - ar * 0.25, ay - ar * 0.25, ar * 0.25, 0, Math.PI * 2);
        ctx.fillStyle = 'rgba(255,255,255,0.4)';
        ctx.fill();

        // element label
        ctx.fillStyle = '#fff';
        ctx.font = '700 ' + Math.max(16, ar * 0.6) + 'px "Bricolage Grotesque", sans-serif';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText(label, ax, ay);
    }

    drawAtom(x1, y1, r1, d.atoms[0].color, d.atoms[0].colorLight, d.atoms[0].el);
    drawAtom(x2, y2, r2, d.atoms[1].color, d.atoms[1].colorLight, d.atoms[1].el);

    // Bond type label at bottom
    ctx.fillStyle = isDark ? 'rgba(255,255,255,0.35)' : 'rgba(0,0,0,0.3)';
    ctx.font = '600 12px "JetBrains Mono", monospace';
    ctx.textAlign = 'center';
    var bondLabel = d.isIonic ? 'ELECTRON TRANSFER' : d.bondOrder + ' × SHARED PAIR' + (d.bondOrder > 1 ? 'S' : '');
    ctx.fillText(bondLabel, cx, h - 16);

    chemAnimId = requestAnimationFrame(animateChemBonds);
}

function shadeColor(hex, pct) {
    var num = parseInt(hex.replace('#', ''), 16);
    var r = Math.max(0, Math.min(255, (num >> 16) + pct));
    var g = Math.max(0, Math.min(255, ((num >> 8) & 0x00FF) + pct));
    var b = Math.max(0, Math.min(255, (num & 0x0000FF) + pct));
    return '#' + (0x1000000 + r * 0x10000 + g * 0x100 + b).toString(16).slice(1);
}

document.querySelectorAll('.chem-btn').forEach(function(btn) {
    btn.addEventListener('click', function() {
        selectBond(this.getAttribute('data-bond'));
    });
});

/* ===== MAIN ANIMATION LOOP ===== */
var physicsInitialized = false;

function mainLoop() {
    if (!physicsInitialized) {
        var simA = document.getElementById('sim-a');
        if (simA && simA.getBoundingClientRect().width > 0) {
            initPhysSims();
            physicsInitialized = true;
        }
    }
    if (physicsInitialized) {
        physSims.forEach(function(sim) {
            sim.update();
            sim.draw();
        });
    }
    requestAnimationFrame(mainLoop);
}

mainLoop();

/* ===== RESIZE ===== */
var resizeTimer;
window.addEventListener('resize', function() {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(function() {
        if (physicsInitialized) {
            physSims.forEach(function(sim) {
                sim.resize();
                sim.reset();
            });
        }
        var chemPanel = document.getElementById('chemistry-panel');
        if (chemPanel && chemPanel.classList.contains('active')) {
            initChemCanvas();
        }
    }, 200);
});

/* ===== PAYMENT MODAL INTEGRATION (from Paystack app) ===== */
const modal = document.getElementById('paymentModal');
const premiumBadge = document.getElementById('premiumBadge');
const toast = document.getElementById('toast');
const toastText = document.getElementById('toastText');

// Open modal function (called by CTA buttons)
function openPaymentModal() {
    modal.classList.add('active');
}

// Close modal when clicking the close button
document.getElementById('closeModal').addEventListener('click', function() {
    modal.classList.remove('active');
});

// Close modal when clicking overlay background
modal.addEventListener('click', function(e) {
    if (e.target === modal) {
        modal.classList.remove('active');
    }
});

// Unlock button (simulates payment)
document.getElementById('unlockBtn').addEventListener('click', function() {
    // In a real integration, you would redirect to Paystack here
    // For demo, we show success toast and activate premium badge
    modal.classList.remove('active');
    premiumBadge.classList.add('active');
    showToast('Payment successful! Premium unlocked 🎉');
});

function showToast(message) {
    toastText.textContent = message;
    toast.classList.add('active');
    setTimeout(() => {
        toast.classList.remove('active');
    }, 3000);
}
</script>
</body>
</html>