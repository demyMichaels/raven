<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Periodic Table Explorer</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0e17;
            --bg-secondary: #121a2d;
            --bg-tertiary: #1a2540;
            --text-primary: #e8edf5;
            --text-secondary: #8b9dc3;
            --accent-cyan: #00d4ff;
            --accent-magenta: #ff00aa;
            --accent-gold: #ffd700;
            --accent-lime: #00ff88;
            --alkali: #ff6b6b;
            --alkaline: #ffa94d;
            --transition: #4dabf7;
            --post-transition: #69db7c;
            --metalloid: #da77f2;
            --nonmetal: #ffd43b;
            --halogen: #20c997;
            --noble: #845ef7;
            --lanthanide: #f06595;
            --actinide: #fa5252;
            --unknown: #868e96;
        }

        .dark {
            --bg-primary: #0a0e17;
            --bg-secondary: #121a2d;
            --bg-tertiary: #1a2540;
            --text-primary: #e8edf5;
            --text-secondary: #8b9dc3;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Space Grotesk', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(0, 212, 255, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(255, 0, 170, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 50%, rgba(255, 215, 0, 0.03) 0%, transparent 60%);
            pointer-events: none;
            z-index: 0;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 30px 0;
            animation: fadeInDown 0.8s ease;
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 {
            font-size: clamp(1.8rem, 5vw, 3rem);
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-magenta), var(--accent-gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            letter-spacing: -0.5px;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1rem;
            font-weight: 300;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 25px 0;
            animation: fadeIn 0.8s ease 0.2s both;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .control-btn {
            background: var(--bg-tertiary);
            border: 1px solid rgba(255,255,255,0.1);
            color: var(--text-primary);
            padding: 10px 18px;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Space Grotesk', sans-serif;
            font-size: 0.85rem;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .control-btn:hover {
            background: var(--bg-secondary);
            border-color: var(--accent-cyan);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 212, 255, 0.2);
        }

        .control-btn.active {
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-magenta));
            border-color: transparent;
            color: white;
        }

        .periodic-table-wrapper {
            overflow-x: auto;
            padding: 20px 0;
            animation: fadeIn 0.8s ease 0.4s both;
        }

        .periodic-table {
            display: grid;
            grid-template-columns: repeat(18, minmax(45px, 1fr));
            gap: 3px;
            min-width: 900px;
            margin: 0 auto;
        }

        .element {
            aspect-ratio: 1;
            border-radius: 6px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.1);
            min-height: 50px;
        }

        .element::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.1), transparent);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .element:hover::before {
            opacity: 1;
        }

        .element:hover {
            transform: scale(1.15);
            z-index: 10;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }

        .element .atomic-num {
            font-size: 0.55rem;
            opacity: 0.8;
            font-family: 'JetBrains Mono', monospace;
        }

        .element .symbol {
            font-size: 1.1rem;
            font-weight: 700;
            line-height: 1.1;
        }

        .element .name {
            font-size: 0.45rem;
            opacity: 0.7;
            text-align: center;
            max-width: 100%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            padding: 0 2px;
        }

        .element.alkali-metal { background: linear-gradient(135deg, var(--alkali), #cc5555); }
        .element.alkaline-earth { background: linear-gradient(135deg, var(--alkaline), #cc8833); }
        .element.transition-metal { background: linear-gradient(135deg, var(--transition), #3388cc); }
        .element.post-transition { background: linear-gradient(135deg, var(--post-transition), #44aa55); }
        .element.metalloid { background: linear-gradient(135deg, var(--metalloid), #aa55cc); }
        .element.nonmetal { background: linear-gradient(135deg, var(--nonmetal), #ccaa22); }
        .element.halogen { background: linear-gradient(135deg, var(--halogen), #119977); }
        .element.noble-gas { background: linear-gradient(135deg, var(--noble), #6633cc); }
        .element.lanthanide { background: linear-gradient(135deg, var(--lanthanide), #cc4477); }
        .element.actinide { background: linear-gradient(135deg, var(--actinide), #cc3333); }
        .element.unknown { background: linear-gradient(135deg, var(--unknown), #666); }

        .element.highlight-diagonal {
            animation: diagonalPulse 1.5s infinite;
            box-shadow: 0 0 20px var(--accent-gold);
        }

        @keyframes diagonalPulse {
            0%, 100% { box-shadow: 0 0 10px var(--accent-gold); }
            50% { box-shadow: 0 0 25px var(--accent-gold), 0 0 40px var(--accent-gold); }
        }

        .element.highlight-group {
            box-shadow: 0 0 15px var(--accent-cyan);
        }

        .element.highlight-period {
            box-shadow: 0 0 15px var(--accent-magenta);
        }

        .element.highlight-halogen {
            animation: halogenPulse 1.2s infinite;
        }

        @keyframes halogenPulse {
            0%, 100% { box-shadow: 0 0 10px var(--halogen); }
            50% { box-shadow: 0 0 30px var(--halogen); }
        }

        .empty-cell {
            background: transparent;
            border: none;
            pointer-events: none;
        }

        .lanthanide-actinide-gap {
            grid-column: span 18;
            height: 15px;
        }

        .series-label {
            grid-column: span 2;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            font-size: 0.7rem;
            color: var(--text-secondary);
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 25px 0;
            padding: 20px;
            background: var(--bg-secondary);
            border-radius: 15px;
            animation: fadeIn 0.8s ease 0.6s both;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.75rem;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
        }

        .info-panel {
            background: var(--bg-secondary);
            border-radius: 20px;
            padding: 25px;
            margin: 25px 0;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 15px;
        }

        .tab {
            background: transparent;
            border: none;
            color: var(--text-secondary);
            padding: 10px 16px;
            border-radius: 10px;
            cursor: pointer;
            font-family: 'Space Grotesk', sans-serif;
            font-size: 0.85rem;
            transition: all 0.3s;
        }

        .tab:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .tab.active {
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-magenta));
            color: white;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .tab-content.active {
            display: block;
        }

        .concept-card {
            background: var(--bg-tertiary);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 4px solid var(--accent-cyan);
            transition: all 0.3s;
        }

        .concept-card:hover {
            transform: translateX(5px);
            border-left-color: var(--accent-magenta);
        }

        .concept-card h3 {
            color: var(--accent-cyan);
            margin-bottom: 10px;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .concept-card p {
            color: var(--text-secondary);
            line-height: 1.6;
            font-size: 0.9rem;
        }

        .concept-card .formula {
            background: var(--bg-primary);
            padding: 10px 15px;
            border-radius: 8px;
            margin-top: 10px;
            font-family: 'JetBrains Mono', monospace;
            color: var(--accent-gold);
            display: inline-block;
        }

        .trend-visual {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
            padding: 15px;
            background: var(--bg-primary);
            border-radius: 10px;
        }

        .trend-arrow {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.85rem;
        }

        .trend-arrow.increase {
            color: var(--accent-lime);
        }

        .trend-arrow.decrease {
            color: var(--accent-magenta);
        }

        .trend-bar {
            flex: 1;
            height: 20px;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .trend-bar.increase {
            background: linear-gradient(90deg, rgba(0,255,136,0.2), rgba(0,255,136,0.8));
        }

        .trend-bar.decrease {
            background: linear-gradient(90deg, rgba(255,0,170,0.8), rgba(255,0,170,0.2));
        }

        .modal-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(10px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            animation: fadeIn 0.3s ease;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: var(--bg-secondary);
            border-radius: 25px;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: modalSlide 0.4s ease;
        }

        @keyframes modalSlide {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-header {
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--bg-tertiary);
            border: none;
            color: var(--text-primary);
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s;
        }

        .modal-close:hover {
            background: var(--accent-magenta);
            transform: rotate(90deg);
        }

        .modal-symbol {
            font-size: 4rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .modal-name {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .modal-category {
            font-size: 0.85rem;
            opacity: 0.7;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .modal-body {
            padding: 0 30px 30px;
        }

        .property-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .property-item {
            background: var(--bg-tertiary);
            padding: 15px;
            border-radius: 12px;
            text-align: center;
        }

        .property-label {
            font-size: 0.7rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }

        .property-value {
            font-size: 1.1rem;
            font-weight: 600;
            font-family: 'JetBrains Mono', monospace;
        }

        .electron-config {
            grid-column: span 2;
            text-align: left;
        }

        .electron-config .property-value {
            font-size: 0.9rem;
            word-break: break-all;
        }

        .element-facts {
            margin-top: 15px;
            padding: 15px;
            background: var(--bg-tertiary);
            border-radius: 12px;
            border-left: 3px solid var(--accent-cyan);
        }

        .element-facts h4 {
            color: var(--accent-cyan);
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .element-facts p {
            font-size: 0.85rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .trend-indicator {
            margin-top: 15px;
            padding: 12px;
            background: var(--bg-primary);
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 10px;
        }

        .trend-stat {
            text-align: center;
            flex: 1;
            min-width: 80px;
        }

        .trend-stat-label {
            font-size: 0.65rem;
            color: var(--text-secondary);
            text-transform: uppercase;
        }

        .trend-stat-value {
            font-size: 0.8rem;
            font-weight: 600;
            margin-top: 3px;
        }

        .interactive-demo {
            background: var(--bg-tertiary);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }

        .interactive-demo h3 {
            margin-bottom: 15px;
            color: var(--accent-gold);
        }

        .demo-row {
            display: flex;
            gap: 8px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .demo-element {
            padding: 10px 15px;
            border-radius: 8px;
            text-align: center;
            min-width: 60px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .demo-element:hover {
            transform: scale(1.1);
        }

        .demo-element .sym {
            font-weight: 700;
            font-size: 1.1rem;
        }

        .demo-element .val {
            font-size: 0.7rem;
            opacity: 0.8;
            margin-top: 3px;
            font-family: 'JetBrains Mono', monospace;
        }

        .size-visual {
            display: flex;
            align-items: flex-end;
            justify-content: center;
            gap: 15px;
            padding: 20px;
        }

        .atom-visual {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .atom-circle {
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.3), transparent);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            transition: all 0.5s;
        }

        .atom-label {
            font-size: 0.7rem;
            color: var(--text-secondary);
        }

        @media (max-width: 768px) {
            .periodic-table {
                gap: 2px;
            }

            .element {
                min-height: 40px;
            }

            .element .symbol {
                font-size: 0.9rem;
            }

            .element .atomic-num,
            .element .name {
                display: none;
            }

            .property-grid {
                grid-template-columns: 1fr;
            }

            .electron-config {
                grid-column: span 1;
            }
        }

        .shell-visual {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .shell-row {
            display: flex;
            gap: 20px;
            margin: 10px 0;
            align-items: center;
        }

        .shell-atom {
            position: relative;
            width: 120px;
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .shell-ring {
            position: absolute;
            border: 2px dashed rgba(255,255,255,0.3);
            border-radius: 50%;
        }

        .nucleus {
            width: 25px;
            height: 25px;
            background: var(--accent-gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.7rem;
            z-index: 5;
        }

        .electron-dot {
            position: absolute;
            width: 8px;
            height: 8px;
            background: var(--accent-cyan);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--accent-cyan);
        }

        .quiz-section {
            background: var(--bg-tertiary);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
        }

        .quiz-question {
            font-size: 1rem;
            margin-bottom: 15px;
            color: var(--accent-gold);
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .quiz-option {
            background: var(--bg-primary);
            border: 2px solid transparent;
            padding: 12px 18px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
            color: var(--text-primary);
            font-family: 'Space Grotesk', sans-serif;
            font-size: 0.9rem;
        }

        .quiz-option:hover {
            border-color: var(--accent-cyan);
            background: var(--bg-secondary);
        }

        .quiz-option.correct {
            border-color: var(--accent-lime);
            background: rgba(0, 255, 136, 0.1);
        }

        .quiz-option.incorrect {
            border-color: var(--accent-magenta);
            background: rgba(255, 0, 170, 0.1);
        }

        .quiz-feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 10px;
            display: none;
        }

        .quiz-feedback.show {
            display: block;
        }

        .quiz-feedback.correct {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid var(--accent-lime);
            color: var(--accent-lime);
        }

        .quiz-feedback.incorrect {
            background: rgba(255, 0, 170, 0.1);
            border: 1px solid var(--accent-magenta);
            color: var(--accent-magenta);
        }

        .diagonal-explainer {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .diagonal-pair {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .diagonal-arrow {
            font-size: 2rem;
            color: var(--accent-gold);
        }
    </style>
</head>
<body>
    <div class="bg-pattern"></div>

    <div class="container">
        <header>
            <h1><i class="fas fa-atom"></i> Periodic Table Explorer</h1>
            <p class="subtitle">Interactive chemistry learning experience</p>
        </header>

        <div class="controls">
            <button class="control-btn active" data-mode="default">
                <i class="fas fa-table-cells"></i> Default View
            </button>
            <button class="control-btn" data-mode="atomic-radius">
                <i class="fas fa-circle"></i> Atomic Radius
            </button>
            <button class="control-btn" data-mode="ionization">
                <i class="fas fa-bolt"></i> Ionization Energy
            </button>
            <button class="control-btn" data-mode="electronegativity">
                <i class="fas fa-magnet"></i> Electronegativity
            </button>
            <button class="control-btn" data-mode="electron-affinity">
                <i class="fas fa-minus-circle"></i> Electron Affinity
            </button>
            <button class="control-btn" data-mode="diagonal">
                <i class="fas fa-arrows-alt"></i> Diagonal Relationship
            </button>
            <button class="control-btn" data-mode="halogens">
                <i class="fas fa-fire"></i> Halogens
            </button>
        </div>

        <div class="periodic-table-wrapper">
            <div class="periodic-table" id="periodicTable"></div>
        </div>

        <div class="legend" id="legend"></div>

        <div class="info-panel">
            <div class="tabs">
                <button class="tab active" data-tab="trends">Periodic Trends</button>
                <button class="tab" data-tab="concepts">Key Concepts</button>
                <button class="tab" data-tab="shells">Electron Shells</button>
                <button class="tab" data-tab="diagonal">Diagonal Relationship</button>
                <button class="tab" data-tab="quiz">Quiz Yourself</button>
            </div>

            <div class="tab-content active" id="trends">
                <div class="concept-card">
                    <h3><i class="fas fa-arrows-alt-h"></i> Trends Across a Period (Left ‚Üí Right)</h3>
                    <p>As you move across a period, several important changes occur due to increasing nuclear charge and same energy level:</p>

                    <div class="trend-visual">
                        <span class="trend-arrow decrease"><i class="fas fa-arrow-down"></i> Decreases</span>
                        <div class="trend-bar decrease"></div>
                        <span>Atomic Radius</span>
                    </div>

                    <div class="trend-visual">
                        <span class="trend-arrow increase"><i class="fas fa-arrow-up"></i> Increases</span>
                        <div class="trend-bar increase"></div>
                        <span>Ionization Energy</span>
                    </div>

                    <div class="trend-visual">
                        <span class="trend-arrow increase"><i class="fas fa-arrow-up"></i> Increases</span>
                        <div class="trend-bar increase"></div>
                        <span>Electronegativity</span>
                    </div>

                    <div class="trend-visual">
                        <span class="trend-arrow increase"><i class="fas fa-arrow-up"></i> Increases</span>
                        <div class="trend-bar increase"></div>
                        <span>Electron Affinity</span>
                    </div>

                    <div class="trend-visual">
                        <span class="trend-arrow increase"><i class="fas fa-arrow-up"></i> Increases</span>
                        <div class="trend-bar increase"></div>
                        <span>Nuclear Charge</span>
                    </div>

                    <div class="trend-visual">
                        <span class="trend-arrow decrease"><i class="fas fa-arrow-down"></i> Decreases</span>
                        <div class="trend-bar decrease"></div>
                        <span>Electropositive Character</span>
                    </div>
                </div>

                <div class="concept-card">
                    <h3><i class="fas fa-arrows-alt-v"></i> Trends Down a Group (Top ‚Üí Bottom)</h3>
                    <p>Moving down a group adds more electron shells, causing opposite trends:</p>

                    <div class="trend-visual">
                        <span class="trend-arrow increase"><i class="fas fa-arrow-up"></i> Increases</span>
                        <div class="trend-bar increase"></div>
                        <span>Atomic Radius</span>
                    </div>

                    <div class="trend-visual">
                        <span class="trend-arrow decrease"><i class="fas fa-arrow-down"></i> Decreases</span>
                        <div class="trend-bar decrease"></div>
                        <span>Ionization Energy</span>
                    </div>
                </div>

                <div class="interactive-demo">
                    <h3><i class="fas fa-flask"></i> See It In Action: Period 3</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 15px;">Watch how atomic radius decreases across Period 3:</p>
                    <div class="size-visual" id="atomicRadiusDemo"></div>
                </div>
            </div>

            <div class="tab-content" id="concepts">
                <div class="concept-card">
                    <h3><i class="fas fa-sort-numeric-up"></i> Atomic Number & Classification</h3>
                    <p>The periodic classification arranges elements in order of their <strong>atomic numbers</strong>. Elements in the same group have the same number of valence electrons, leading to similar chemical properties.</p>
                    <div class="formula">Z = Number of protons = Number of electrons (neutral atom)</div>
                </div>

                <div class="concept-card">
                    <h3><i class="fas fa-layer-group"></i> Periods & Electron Shells</h3>
                    <p>Elements in the same period have the same number of electron shells. For example, all Period 2 elements (Li to Ne) have 2 shells, and all Period 3 elements (Na to Ar) have 3 shells.</p>
                    <div class="formula">Period number = Number of electron shells üêö</div>
                </div>

                <div class="concept-card">
                    <h3><i class="fas fa-bolt-lightning"></i> Ionization Energy</h3>
                    <p>The minimum energy required to remove the most loosely bound electron from a neutral gaseous atom. For sodium, removing one electron from the 3s-orbital requires about 496 kJ mol‚Åª¬π.</p>
                    <div class="formula">Na(g) ‚Üí Na‚Å∫(g) + e‚Åª &nbsp; ŒîH = +496 kJ/mol</div>
                    <p style="margin-top: 10px;">Elements near a stable octet (like Chlorine) have high ionization energies due to high effective nuclear charge. Noble gases have the highest ionization energies.</p>
                </div>

                <div class="concept-card">
                    <h3><i class="fas fa-magnet"></i> Electronegativity & Electron Affinity</h3>
                    <p><strong>Electronegativity:</strong> The tendency of an atom to attract electrons towards itself in a chemical bond. Elements with high electronegativity are said to be electronegative.</p>
                    <p style="margin-top: 10px;"><strong>Electron Affinity:</strong> The energy change when an electron is added to a gaseous atom. More negative values indicate greater attraction for electrons.</p>
                    <div class="formula">X(g) + e‚Åª ‚Üí X‚Åª(g) &nbsp; ŒîH = Electron Affinity</div>
                </div>

                <div class="concept-card">
                    <h3><i class="fas fa-atom"></i> Isotopes & Atomic Mass</h3>
                    <p>If the relative molecular mass of an element is not a whole number, it indicates the element exists as an <strong>isotopic mixture</strong>. For example, Chlorine has a mass of 35.5 due to ¬≥‚ÅµCl and ¬≥‚Å∑Cl isotopes.</p>
                </div>

                <div class="concept-card">
                    <h3><i class="fas fa-fire-alt"></i> Halogens as Oxidizing Agents</h3>
                    <p>Halogens (Group VII) are strong oxidizing agents because they readily accept electrons to achieve a stable octet configuration. Their high electronegativity and electron affinity make them excellent at gaining electrons.</p>
                    <div class="formula">X‚ÇÇ + 2e‚Åª ‚Üí 2X‚Åª (Reduction of halogen)</div>
                </div>
            </div>

            <div class="tab-content" id="shells">
                <div class="concept-card">
                    <h3><i class="fas fa-circle-notch"></i> Electron Shells in Same Period</h3>
                    <p>All elements in a period have the same number of electron shells. The valence electrons increase progressively across the period.</p>
                </div>

                <div class="interactive-demo">
                    <h3>Period 2 Elements - All Have 2 Shells</h3>
                    <div class="demo-row" id="period2Demo"></div>
                </div>

                <div class="interactive-demo">
                    <h3>Group 1 Elements - Valence Configuration</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 15px;">Both Na and K have one electron in their outermost s-orbital (ns¬π), giving them similar properties:</p>
                    <div class="demo-row">
                        <div class="demo-element" style="background: var(--alkali);">
                            <div class="sym">Na</div>
                            <div class="val">[Ne] 3s¬π</div>
                        </div>
                        <div class="demo-element" style="background: var(--alkali);">
                            <div class="sym">K</div>
                            <div class="val">[Ar] 4s¬π</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tab-content" id="diagonal">
                <div class="concept-card">
                    <h3><i class="fas fa-arrows-alt"></i> Diagonal Relationship</h3>
                    <p>Elements in Period 2 show similarities with elements in Period 3 of the next group due to similar <strong>polarizing power</strong> (charge/size ratio). This occurs because the increase in charge is compensated by the increase in size.</p>
                </div>

                <div class="interactive-demo">
                    <h3>Classic Example: Beryllium & Aluminum</h3>
                    <div class="diagonal-explainer">
                        <div class="diagonal-pair">
                            <div class="demo-element" style="background: var(--alkaline); padding: 20px 30px;">
                                <div class="sym" style="font-size: 2rem;">Be</div>
                                <div class="val">Period 2, Group 2</div>
                                <div class="val">Charge: +2, Small size</div>
                            </div>
                        </div>
                        <div class="diagonal-arrow">‚Üò</div>
                        <div class="diagonal-pair">
                            <div class="demo-element" style="background: var(--post-transition); padding: 20px 30px;">
                                <div class="sym" style="font-size: 2rem;">Al</div>
                                <div class="val">Period 3, Group 13</div>
                                <div class="val">Charge: +3, Larger size</div>
                            </div>
                        </div>
                    </div>

                    <div style="background: var(--bg-primary); padding: 15px; border-radius: 10px; margin-top: 15px;">
                        <h4 style="color: var(--accent-gold); margin-bottom: 10px;">Shared Properties:</h4>
                        <ul style="color: var(--text-secondary); padding-left: 20px; line-height: 1.8;">
                            <li>Both form covalent compounds more readily than ionic</li>
                            <li>Both oxides are amphoteric</li>
                            <li>Both chlorides are covalent and act as Lewis acids</li>
                            <li>Similar polarizing power despite different positions</li>
                        </ul>
                    </div>
                </div>

                <div class="concept-card">
                    <h3>Other Diagonal Pairs</h3>
                    <div class="diagonal-explainer">
                        <div class="demo-element" style="background: var(--alkali);">
                            <div class="sym">Li</div>
                            <div class="val">‚Üò Mg</div>
                        </div>
                        <div class="demo-element" style="background: var(--alkaline);">
                            <div class="sym">Be</div>
                            <div class="val">‚Üò Al</div>
                        </div>
                        <div class="demo-element" style="background: var(--metalloid);">
                            <div class="sym">B</div>
                            <div class="val">‚Üò Si</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tab-content" id="quiz">
                <div class="quiz-section" id="quizContainer"></div>
            </div>
        </div>
    </div>

    <!-- Element Detail Modal -->
    <div class="modal-overlay" id="elementModal">
        <div class="modal">
            <div class="modal-header" id="modalHeader">
                <button class="modal-close" id="closeModal">√ó</button>
                <div class="modal-symbol" id="modalSymbol"></div>
                <div class="modal-name" id="modalName"></div>
                <div class="modal-category" id="modalCategory"></div>
            </div>
            <div class="modal-body">
                <div class="property-grid" id="propertyGrid"></div>
                <div class="trend-indicator" id="trendIndicator"></div>
                <div class="element-facts" id="elementFacts"></div>
            </div>
        </div>
    </div>

    <script>
        // Complete periodic table data
        const elements = [
            { z: 1, sym: "H", name: "Hydrogen", cat: "nonmetal", mass: 1.008, period: 1, group: 1, econfig: "1s¬π", radius: 53, ionization: 1312, electronegativity: 2.20, affinity: -73, valence: 1 },
            { z: 2, sym: "He", name: "Helium", cat: "noble-gas", mass: 4.003, period: 1, group: 18, econfig: "1s¬≤", radius: 31, ionization: 2372, electronegativity: null, affinity: 0, valence: 0 },
            { z: 3, sym: "Li", name: "Lithium", cat: "alkali-metal", mass: 6.94, period: 2, group: 1, econfig: "[He] 2s¬π", radius: 167, ionization: 520, electronegativity: 0.98, affinity: -60, valence: 1 },
            { z: 4, sym: "Be", name: "Beryllium", cat: "alkaline-earth", mass: 9.012, period: 2, group: 2, econfig: "[He] 2s¬≤", radius: 112, ionization: 900, electronegativity: 1.57, affinity: 0, valence: 2, diagonal: true },
            { z: 5, sym: "B", name: "Boron", cat: "metalloid", mass: 10.81, period: 2, group: 13, econfig: "[He] 2s¬≤ 2p¬π", radius: 87, ionization: 801, electronegativity: 2.04, affinity: -27, valence: 3 },
            { z: 6, sym: "C", name: "Carbon", cat: "nonmetal", mass: 12.01, period: 2, group: 14, econfig: "[He] 2s¬≤ 2p¬≤", radius: 67, ionization: 1086, electronegativity: 2.55, affinity: -122, valence: 4 },
            { z: 7, sym: "N", name: "Nitrogen", cat: "nonmetal", mass: 14.01, period: 2, group: 15, econfig: "[He] 2s¬≤ 2p¬≥", radius: 56, ionization: 1402, electronegativity: 3.04, affinity: -7, valence: 5 },
            { z: 8, sym: "O", name: "Oxygen", cat: "nonmetal", mass: 16.00, period: 2, group: 16, econfig: "[He] 2s¬≤ 2p‚Å¥", radius: 48, ionization: 1314, electronegativity: 3.44, affinity: -141, valence: 6 },
            { z: 9, sym: "F", name: "Fluorine", cat: "halogen", mass: 19.00, period: 2, group: 17, econfig: "[He] 2s¬≤ 2p‚Åµ", radius: 42, ionization: 1681, electronegativity: 3.98, affinity: -328, valence: 7 },
            { z: 10, sym: "Ne", name: "Neon", cat: "noble-gas", mass: 20.18, period: 2, group: 18, econfig: "[He] 2s¬≤ 2p‚Å∂", radius: 38, ionization: 2081, electronegativity: null, affinity: 0, valence: 8 },
            { z: 11, sym: "Na", name: "Sodium", cat: "alkali-metal", mass: 22.99, period: 3, group: 1, econfig: "[Ne] 3s¬π", radius: 190, ionization: 496, electronegativity: 0.93, affinity: -53, valence: 1 },
            { z: 12, sym: "Mg", name: "Magnesium", cat: "alkaline-earth", mass: 24.31, period: 3, group: 2, econfig: "[Ne] 3s¬≤", radius: 145, ionization: 738, electronegativity: 1.31, affinity: 0, valence: 2 },
            { z: 13, sym: "Al", name: "Aluminum", cat: "post-transition", mass: 26.98, period: 3, group: 13, econfig: "[Ne] 3s¬≤ 3p¬π", radius: 118, ionization: 578, electronegativity: 1.61, affinity: -43, valence: 3, diagonal: true },
            { z: 14, sym: "Si", name: "Silicon", cat: "metalloid", mass: 28.09, period: 3, group: 14, econfig: "[Ne] 3s¬≤ 3p¬≤", radius: 111, ionization: 786, electronegativity: 1.90, affinity: -134, valence: 4 },
            { z: 15, sym: "P", name: "Phosphorus", cat: "nonmetal", mass: 30.97, period: 3, group: 15, econfig: "[Ne] 3s¬≤ 3p¬≥", radius: 98, ionization: 1012, electronegativity: 2.19, affinity: -72, valence: 5 },
            { z: 16, sym: "S", name: "Sulfur", cat: "nonmetal", mass: 32.07, period: 3, group: 16, econfig: "[Ne] 3s¬≤ 3p‚Å¥", radius: 88, ionization: 1000, electronegativity: 2.58, affinity: -200, valence: 6 },
            { z: 17, sym: "Cl", name: "Chlorine", cat: "halogen", mass: 35.45, period: 3, group: 17, econfig: "[Ne] 3s¬≤ 3p‚Åµ", radius: 79, ionization: 1251, electronegativity: 3.16, affinity: -349, valence: 7 },
            { z: 18, sym: "Ar", name: "Argon", cat: "noble-gas", mass: 39.95, period: 3, group: 18, econfig: "[Ne] 3s¬≤ 3p‚Å∂", radius: 71, ionization: 1521, electronegativity: null, affinity: 0, valence: 8 },
            { z: 19, sym: "K", name: "Potassium", cat: "alkali-metal", mass: 39.10, period: 4, group: 1, econfig: "[Ar] 4s¬π", radius: 243, ionization: 419, electronegativity: 0.82, affinity: -48, valence: 1 },
            { z: 20, sym: "Ca", name: "Calcium", cat: "alkaline-earth", mass: 40.08, period: 4, group: 2, econfig: "[Ar] 4s¬≤", radius: 194, ionization: 590, electronegativity: 1.00, affinity: -2, valence: 2 },
            { z: 21, sym: "Sc", name: "Scandium", cat: "transition-metal", mass: 44.96, period: 4, group: 3, econfig: "[Ar] 3d¬π 4s¬≤", radius: 184, ionization: 633, electronegativity: 1.36, affinity: -18, valence: 3 },
            { z: 22, sym: "Ti", name: "Titanium", cat: "transition-metal", mass: 47.87, period: 4, group: 4, econfig: "[Ar] 3d¬≤ 4s¬≤", radius: 176, ionization: 659, electronegativity: 1.54, affinity: -8, valence: 4 },
            { z: 23, sym: "V", name: "Vanadium", cat: "transition-metal", mass: 50.94, period: 4, group: 5, econfig: "[Ar] 3d¬≥ 4s¬≤", radius: 171, ionization: 651, electronegativity: 1.63, affinity: -51, valence: 5 },
            { z: 24, sym: "Cr", name: "Chromium", cat: "transition-metal", mass: 52.00, period: 4, group: 6, econfig: "[Ar] 3d‚Åµ 4s¬π", radius: 166, ionization: 653, electronegativity: 1.66, affinity: -64, valence: 6 },
            { z: 25, sym: "Mn", name: "Manganese", cat: "transition-metal", mass: 54.94, period: 4, group: 7, econfig: "[Ar] 3d‚Åµ 4s¬≤", radius: 161, ionization: 717, electronegativity: 1.55, affinity: 0, valence: 7 },
            { z: 26, sym: "Fe", name: "Iron", cat: "transition-metal", mass: 55.85, period: 4, group: 8, econfig: "[Ar] 3d‚Å∂ 4s¬≤", radius: 156, ionization: 762, electronegativity: 1.83, affinity: -16, valence: 6 },
            { z: 27, sym: "Co", name: "Cobalt", cat: "transition-metal", mass: 58.93, period: 4, group: 9, econfig: "[Ar] 3d‚Å∑ 4s¬≤", radius: 152, ionization: 760, electronegativity: 1.88, affinity: -64, valence: 5 },
            { z: 28, sym: "Ni", name: "Nickel", cat: "transition-metal", mass: 58.69, period: 4, group: 10, econfig: "[Ar] 3d‚Å∏ 4s¬≤", radius: 149, ionization: 737, electronegativity: 1.91, affinity: -112, valence: 4 },
            { z: 29, sym: "Cu", name: "Copper", cat: "transition-metal", mass: 63.55, period: 4, group: 11, econfig: "[Ar] 3d¬π‚Å∞ 4s¬π", radius: 145, ionization: 745, electronegativity: 1.90, affinity: -118, valence: 3 },
            { z: 30, sym: "Zn", name: "Zinc", cat: "transition-metal", mass: 65.38, period: 4, group: 12, econfig: "[Ar] 3d¬π‚Å∞ 4s¬≤", radius: 142, ionization: 906, electronegativity: 1.65, affinity: 0, valence: 2 },
            { z: 31, sym: "Ga", name: "Gallium", cat: "post-transition", mass: 69.72, period: 4, group: 13, econfig: "[Ar] 3d¬π‚Å∞ 4s¬≤ 4p¬π", radius: 136, ionization: 579, electronegativity: 1.81, affinity: -29, valence: 3 },
            { z: 32, sym: "Ge", name: "Germanium", cat: "metalloid", mass: 72.63, period: 4, group: 14, econfig: "[Ar] 3d¬π‚Å∞ 4s¬≤ 4p¬≤", radius: 125, ionization: 762, electronegativity: 2.01, affinity: -119, valence: 4 },
            { z: 33, sym: "As", name: "Arsenic", cat: "metalloid", mass: 74.92, period: 4, group: 15, econfig: "[Ar] 3d¬π‚Å∞ 4s¬≤ 4p¬≥", radius: 114, ionization: 947, electronegativity: 2.18, affinity: -78, valence: 5 },
            { z: 34, sym: "Se", name: "Selenium", cat: "nonmetal", mass: 78.97, period: 4, group: 16, econfig: "[Ar] 3d¬π‚Å∞ 4s¬≤ 4p‚Å¥", radius: 103, ionization: 941, electronegativity: 2.55, affinity: -195, valence: 6 },
            { z: 35, sym: "Br", name: "Bromine", cat: "halogen", mass: 79.90, period: 4, group: 17, econfig: "[Ar] 3d¬π‚Å∞ 4s¬≤ 4p‚Åµ", radius: 94, ionization: 1140, electronegativity: 2.96, affinity: -325, valence: 7 },
            { z: 36, sym: "Kr", name: "Krypton", cat: "noble-gas", mass: 83.80, period: 4, group: 18, econfig: "[Ar] 3d¬π‚Å∞ 4s¬≤ 4p‚Å∂", radius: 88, ionization: 1351, electronegativity: 3.00, affinity: 0, valence: 8 },
            { z: 37, sym: "Rb", name: "Rubidium", cat: "alkali-metal", mass: 85.47, period: 5, group: 1, econfig: "[Kr] 5s¬π", radius: 265, ionization: 403, electronegativity: 0.82, affinity: -47, valence: 1 },
            { z: 38, sym: "Sr", name: "Strontium", cat: "alkaline-earth", mass: 87.62, period: 5, group: 2, econfig: "[Kr] 5s¬≤", radius: 219, ionization: 550, electronegativity: 0.95, affinity: -5, valence: 2 },
            { z: 39, sym: "Y", name: "Yttrium", cat: "transition-metal", mass: 88.91, period: 5, group: 3, econfig: "[Kr] 4d¬π 5s¬≤", radius: 212, ionization: 600, electronegativity: 1.22, affinity: -30, valence: 3 },
            { z: 40, sym: "Zr", name: "Zirconium", cat: "transition-metal", mass: 91.22, period: 5, group: 4, econfig: "[Kr] 4d¬≤ 5s¬≤", radius: 206, ionization: 640, electronegativity: 1.33, affinity: -41, valence: 4 },
            { z: 41, sym: "Nb", name: "Niobium", cat: "transition-metal", mass: 92.91, period: 5, group: 5, econfig: "[Kr] 4d‚Å¥ 5s¬π", radius: 198, ionization: 652, electronegativity: 1.6, affinity: -86, valence: 5 },
            { z: 42, sym: "Mo", name: "Molybdenum", cat: "transition-metal", mass: 95.95, period: 5, group: 6, econfig: "[Kr] 4d‚Åµ 5s¬π", radius: 190, ionization: 684, electronegativity: 2.16, affinity: -72, valence: 6 },
            { z: 43, sym: "Tc", name: "Technetium", cat: "transition-metal", mass: 98, period: 5, group: 7, econfig: "[Kr] 4d‚Åµ 5s¬≤", radius: 183, ionization: 702, electronegativity: 1.9, affinity: -53, valence: 7 },
            { z: 44, sym: "Ru", name: "Ruthenium", cat: "transition-metal", mass: 101.1, period: 5, group: 8, econfig: "[Kr] 4d‚Å∑ 5s¬π", radius: 178, ionization: 710, electronegativity: 2.2, affinity: -101, valence: 6 },
            { z: 45, sym: "Rh", name: "Rhodium", cat: "transition-metal", mass: 102.9, period: 5, group: 9, econfig: "[Kr] 4d‚Å∏ 5s¬π", radius: 173, ionization: 720, electronegativity: 2.28, affinity: -110, valence: 5 },
            { z: 46, sym: "Pd", name: "Palladium", cat: "transition-metal", mass: 106.4, period: 5, group: 10, econfig: "[Kr] 4d¬π‚Å∞", radius: 169, ionization: 804, electronegativity: 2.20, affinity: -54, valence: 4 },
            { z: 47, sym: "Ag", name: "Silver", cat: "transition-metal", mass: 107.9, period: 5, group: 11, econfig: "[Kr] 4d¬π‚Å∞ 5s¬π", radius: 165, ionization: 731, electronegativity: 1.93, affinity: -126, valence: 3 },
            { z: 48, sym: "Cd", name: "Cadmium", cat: "transition-metal", mass: 112.4, period: 5, group: 12, econfig: "[Kr] 4d¬π‚Å∞ 5s¬≤", radius: 161, ionization: 868, electronegativity: 1.69, affinity: 0, valence: 2 },
            { z: 49, sym: "In", name: "Indium", cat: "post-transition", mass: 114.8, period: 5, group: 13, econfig: "[Kr] 4d¬π‚Å∞ 5s¬≤ 5p¬π", radius: 156, ionization: 558, electronegativity: 1.78, affinity: -29, valence: 3 },
            { z: 50, sym: "Sn", name: "Tin", cat: "post-transition", mass: 118.7, period: 5, group: 14, econfig: "[Kr] 4d¬π‚Å∞ 5s¬≤ 5p¬≤", radius: 145, ionization: 709, electronegativity: 1.96, affinity: -107, valence: 4 },
            { z: 51, sym: "Sb", name: "Antimony", cat: "metalloid", mass: 121.8, period: 5, group: 15, econfig: "[Kr] 4d¬π‚Å∞ 5s¬≤ 5p¬≥", radius: 133, ionization: 834, electronegativity: 2.05, affinity: -103, valence: 5 },
            { z: 52, sym: "Te", name: "Tellurium", cat: "metalloid", mass: 127.6, period: 5, group: 16, econfig: "[Kr] 4d¬π‚Å∞ 5s¬≤ 5p‚Å¥", radius: 123, ionization: 869, electronegativity: 2.1, affinity: -190, valence: 6 },
            { z: 53, sym: "I", name: "Iodine", cat: "halogen", mass: 126.9, period: 5, group: 17, econfig: "[Kr] 4d¬π‚Å∞ 5s¬≤ 5p‚Åµ", radius: 115, ionization: 1008, electronegativity: 2.66, affinity: -295, valence: 7 },
            { z: 54, sym: "Xe", name: "Xenon", cat: "noble-gas", mass: 131.3, period: 5, group: 18, econfig: "[Kr] 4d¬π‚Å∞ 5s¬≤ 5p‚Å∂", radius: 108, ionization: 1170, electronegativity: 2.60, affinity: 0, valence: 8 },
            { z: 55, sym: "Cs", name: "Cesium", cat: "alkali-metal", mass: 132.9, period: 6, group: 1, econfig: "[Xe] 6s¬π", radius: 298, ionization: 376, electronegativity: 0.79, affinity: -46, valence: 1 },
            { z: 56, sym: "Ba", name: "Barium", cat: "alkaline-earth", mass: 137.3, period: 6, group: 2, econfig: "[Xe] 6s¬≤", radius: 253, ionization: 503, electronegativity: 0.89, affinity: -14, valence: 2 },
            { z: 57, sym: "La", name: "Lanthanum", cat: "lanthanide", mass: 138.9, period: 6, group: 3, econfig: "[Xe] 5d¬π 6s¬≤", radius: 195, ionization: 538, electronegativity: 1.1, affinity: -48, valence: 3 },
            { z: 58, sym: "Ce", name: "Cerium", cat: "lanthanide", mass: 140.1, period: 6, group: null, econfig: "[Xe] 4f¬π 5d¬π 6s¬≤", radius: 185, ionization: 534, electronegativity: 1.12, affinity: -50, valence: 4 },
            { z: 59, sym: "Pr", name: "Praseodymium", cat: "lanthanide", mass: 140.9, period: 6, group: null, econfig: "[Xe] 4f¬≥ 6s¬≤", radius: 247, ionization: 527, electronegativity: 1.13, affinity: -50, valence: 4 },
            { z: 60, sym: "Nd", name: "Neodymium", cat: "lanthanide", mass: 144.2, period: 6, group: null, econfig: "[Xe] 4f‚Å¥ 6s¬≤", radius: 206, ionization: 533, electronegativity: 1.14, affinity: -50, valence: 3 },
            { z: 61, sym: "Pm", name: "Promethium", cat: "lanthanide", mass: 145, period: 6, group: null, econfig: "[Xe] 4f‚Åµ 6s¬≤", radius: 205, ionization: 540, electronegativity: 1.13, affinity: -50, valence: 3 },
            { z: 62, sym: "Sm", name: "Samarium", cat: "lanthanide", mass: 150.4, period: 6, group: null, econfig: "[Xe] 4f‚Å∂ 6s¬≤", radius: 238, ionization: 545, electronegativity: 1.17, affinity: -50, valence: 3 },
            { z: 63, sym: "Eu", name: "Europium", cat: "lanthanide", mass: 152.0, period: 6, group: null, econfig: "[Xe] 4f‚Å∑ 6s¬≤", radius: 231, ionization: 547, electronegativity: 1.2, affinity: -50, valence: 3 },
            { z: 64, sym: "Gd", name: "Gadolinium", cat: "lanthanide", mass: 157.3, period: 6, group: null, econfig: "[Xe] 4f‚Å∑ 5d¬π 6s¬≤", radius: 233, ionization: 593, electronegativity: 1.2, affinity: -50, valence: 3 },
            { z: 65, sym: "Tb", name: "Terbium", cat: "lanthanide", mass: 158.9, period: 6, group: null, econfig: "[Xe] 4f‚Åπ 6s¬≤", radius: 225, ionization: 566, electronegativity: 1.2, affinity: -50, valence: 4 },
            { z: 66, sym: "Dy", name: "Dysprosium", cat: "lanthanide", mass: 162.5, period: 6, group: null, econfig: "[Xe] 4f¬π‚Å∞ 6s¬≤", radius: 228, ionization: 573, electronegativity: 1.22, affinity: -50, valence: 3 },
            { z: 67, sym: "Ho", name: "Holmium", cat: "lanthanide", mass: 164.9, period: 6, group: null, econfig: "[Xe] 4f¬π¬π 6s¬≤", radius: 226, ionization: 581, electronegativity: 1.23, affinity: -50, valence: 3 },
            { z: 68, sym: "Er", name: "Erbium", cat: "lanthanide", mass: 167.3, period: 6, group: null, econfig: "[Xe] 4f¬π¬≤ 6s¬≤", radius: 226, ionization: 589, electronegativity: 1.24, affinity: -50, valence: 3 },
            { z: 69, sym: "Tm", name: "Thulium", cat: "lanthanide", mass: 168.9, period: 6, group: null, econfig: "[Xe] 4f¬π¬≥ 6s¬≤", radius: 222, ionization: 597, electronegativity: 1.25, affinity: -50, valence: 3 },
            { z: 70, sym: "Yb", name: "Ytterbium", cat: "lanthanide", mass: 173.0, period: 6, group: null, econfig: "[Xe] 4f¬π‚Å¥ 6s¬≤", radius: 222, ionization: 603, electronegativity: 1.1, affinity: -50, valence: 3 },
            { z: 71, sym: "Lu", name: "Lutetium", cat: "lanthanide", mass: 175.0, period: 6, group: null, econfig: "[Xe] 4f¬π‚Å¥ 5d¬π 6s¬≤", radius: 217, ionization: 524, electronegativity: 1.27, affinity: -50, valence: 3 },
            { z: 72, sym: "Hf", name: "Hafnium", cat: "transition-metal", mass: 178.5, period: 6, group: 4, econfig: "[Xe] 4f¬π‚Å¥ 5d¬≤ 6s¬≤", radius: 208, ionization: 659, electronegativity: 1.3, affinity: 0, valence: 4 },
            { z: 73, sym: "Ta", name: "Tantalum", cat: "transition-metal", mass: 180.9, period: 6, group: 5, econfig: "[Xe] 4f¬π‚Å¥ 5d¬≥ 6s¬≤", radius: 200, ionization: 761, electronegativity: 1.5, affinity: -31, valence: 5 },
            { z: 74, sym: "W", name: "Tungsten", cat: "transition-metal", mass: 183.8, period: 6, group: 6, econfig: "[Xe] 4f¬π‚Å¥ 5d‚Å¥ 6s¬≤", radius: 193, ionization: 770, electronegativity: 2.36, affinity: -79, valence: 6 },
            { z: 75, sym: "Re", name: "Rhenium", cat: "transition-metal", mass: 186.2, period: 6, group: 7, econfig: "[Xe] 4f¬π‚Å¥ 5d‚Åµ 6s¬≤", radius: 188, ionization: 760, electronegativity: 1.9, affinity: -14, valence: 7 },
            { z: 76, sym: "Os", name: "Osmium", cat: "transition-metal", mass: 190.2, period: 6, group: 8, econfig: "[Xe] 4f¬π‚Å¥ 5d‚Å∂ 6s¬≤", radius: 185, ionization: 840, electronegativity: 2.2, affinity: -106, valence: 6 },
            { z: 77, sym: "Ir", name: "Iridium", cat: "transition-metal", mass: 192.2, period: 6, group: 9, econfig: "[Xe] 4f¬π‚Å¥ 5d‚Å∑ 6s¬≤", radius: 180, ionization: 880, electronegativity: 2.20, affinity: -151, valence: 5 },
            { z: 78, sym: "Pt", name: "Platinum", cat: "transition-metal", mass: 195.1, period: 6, group: 10, econfig: "[Xe] 4f¬π‚Å¥ 5d‚Åπ 6s¬π", radius: 177, ionization: 870, electronegativity: 2.28, affinity: -205, valence: 4 },
            { z: 79, sym: "Au", name: "Gold", cat: "transition-metal", mass: 197.0, period: 6, group: 11, econfig: "[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬π", radius: 174, ionization: 890, electronegativity: 2.54, affinity: -223, valence: 3 },
            { z: 80, sym: "Hg", name: "Mercury", cat: "transition-metal", mass: 200.6, period: 6, group: 12, econfig: "[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬≤", radius: 171, ionization: 1007, electronegativity: 2.00, affinity: 0, valence: 2 },
            { z: 81, sym: "Tl", name: "Thallium", cat: "post-transition", mass: 204.4, period: 6, group: 13, econfig: "[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬≤ 6p¬π", radius: 156, ionization: 589, electronegativity: 1.62, affinity: -19, valence: 3 },
            { z: 82, sym: "Pb", name: "Lead", cat: "post-transition", mass: 207.2, period: 6, group: 14, econfig: "[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬≤ 6p¬≤", radius: 154, ionization: 716, electronegativity: 2.33, affinity: -35, valence: 4 },
            { z: 83, sym: "Bi", name: "Bismuth", cat: "post-transition", mass: 209.0, period: 6, group: 15, econfig: "[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬≤ 6p¬≥", radius: 143, ionization: 703, electronegativity: 2.02, affinity: -91, valence: 5 },
            { z: 84, sym: "Po", name: "Polonium", cat: "metalloid", mass: 209, period: 6, group: 16, econfig: "[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬≤ 6p‚Å¥", radius: 135, ionization: 812, electronegativity: 2.0, affinity: -183, valence: 6 },
            { z: 85, sym: "At", name: "Astatine", cat: "halogen", mass: 210, period: 6, group: 17, econfig: "[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬≤ 6p‚Åµ", radius: 127, ionization: 920, electronegativity: 2.2, affinity: -270, valence: 7 },
            { z: 86, sym: "Rn", name: "Radon", cat: "noble-gas", mass: 222, period: 6, group: 18, econfig: "[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬≤ 6p‚Å∂", radius: 120, ionization: 1037, electronegativity: null, affinity: 0, valence: 8 },
            { z: 87, sym: "Fr", name: "Francium", cat: "alkali-metal", mass: 223, period: 7, group: 1, econfig: "[Rn] 7s¬π", radius: 348, ionization: 380, electronegativity: 0.7, affinity: -44, valence: 1 },
            { z: 88, sym: "Ra", name: "Radium", cat: "alkaline-earth", mass: 226, period: 7, group: 2, econfig: "[Rn] 7s¬≤", radius: 283, ionization: 509, electronegativity: 0.9, affinity: 0, valence: 2 },
            { z: 89, sym: "Ac", name: "Actinium", cat: "actinide", mass: 227, period: 7, group: 3, econfig: "[Rn] 6d¬π 7s¬≤", radius: 195, ionization: 499, electronegativity: 1.1, affinity: 0, valence: 3 },
            { z: 90, sym: "Th", name: "Thorium", cat: "actinide", mass: 232.0, period: 7, group: null, econfig: "[Rn] 6d¬≤ 7s¬≤", radius: 180, ionization: 587, electronegativity: 1.3, affinity: 0, valence: 4 },
            { z: 91, sym: "Pa", name: "Protactinium", cat: "actinide", mass: 231.0, period: 7, group: null, econfig: "[Rn] 5f¬≤ 6d¬π 7s¬≤", radius: 180, ionization: 568, electronegativity: 1.5, affinity: 0, valence: 5 },
            { z: 92, sym: "U", name: "Uranium", cat: "actinide", mass: 238.0, period: 7, group: null, econfig: "[Rn] 5f¬≥ 6d¬π 7s¬≤", radius: 175, ionization: 598, electronegativity: 1.38, affinity: 0, valence: 6 },
            { z: 93, sym: "Np", name: "Neptunium", cat: "actinide", mass: 237, period: 7, group: null, econfig: "[Rn] 5f‚Å¥ 6d¬π 7s¬≤", radius: 175, ionization: 605, electronegativity: 1.36, affinity: 0, valence: 7 },
            { z: 94, sym: "Pu", name: "Plutonium", cat: "actinide", mass: 244, period: 7, group: null, econfig: "[Rn] 5f‚Å∂ 7s¬≤", radius: 175, ionization: 585, electronegativity: 1.28, affinity: 0, valence: 7 },
            { z: 95, sym: "Am", name: "Americium", cat: "actinide", mass: 243, period: 7, group: null, econfig: "[Rn] 5f‚Å∑ 7s¬≤", radius: 175, ionization: 578, electronegativity: 1.3, affinity: 0, valence: 6 },
            { z: 96, sym: "Cm", name: "Curium", cat: "actinide", mass: 247, period: 7, group: null, econfig: "[Rn] 5f‚Å∑ 6d¬π 7s¬≤", radius: 175, ionization: 581, electronegativity: 1.3, affinity: 0, valence: 4 },
            { z: 97, sym: "Bk", name: "Berkelium", cat: "actinide", mass: 247, period: 7, group: null, econfig: "[Rn] 5f‚Åπ 7s¬≤", radius: 175, ionization: 601, electronegativity: 1.3, affinity: 0, valence: 4 },
            { z: 98, sym: "Cf", name: "Californium", cat: "actinide", mass: 251, period: 7, group: null, econfig: "[Rn] 5f¬π‚Å∞ 7s¬≤", radius: 175, ionization: 608, electronegativity: 1.3, affinity: 0, valence: 4 },
            { z: 99, sym: "Es", name: "Einsteinium", cat: "actinide", mass: 252, period: 7, group: null, econfig: "[Rn] 5f¬π¬π 7s¬≤", radius: 175, ionization: 619, electronegativity: 1.3, affinity: 0, valence: 3 },
            { z: 100, sym: "Fm", name: "Fermium", cat: "actinide", mass: 257, period: 7, group: null, econfig: "[Rn] 5f¬π¬≤ 7s¬≤", radius: 175, ionization: 627, electronegativity: 1.3, affinity: 0, valence: 3 },
            { z: 101, sym: "Md", name: "Mendelevium", cat: "actinide", mass: 258, period: 7, group: null, econfig: "[Rn] 5f¬π¬≥ 7s¬≤", radius: 175, ionization: 635, electronegativity: 1.3, affinity: 0, valence: 3 },
            { z: 102, sym: "No", name: "Nobelium", cat: "actinide", mass: 259, period: 7, group: null, econfig: "[Rn] 5f¬π‚Å¥ 7s¬≤", radius: 175, ionization: 642, electronegativity: 1.3, affinity: 0, valence: 3 },
            { z: 103, sym: "Lr", name: "Lawrencium", cat: "actinide", mass: 266, period: 7, group: null, econfig: "[Rn] 5f¬π‚Å¥ 7s¬≤ 7p¬π", radius: 175, ionization: 470, electronegativity: 1.3, affinity: 0, valence: 3 },
            { z: 104, sym: "Rf", name: "Rutherfordium", cat: "transition-metal", mass: 267, period: 7, group: 4, econfig: "[Rn] 5f¬π‚Å¥ 6d¬≤ 7s¬≤", radius: 175, ionization: 580, electronegativity: null, affinity: 0, valence: 4 },
            { z: 105, sym: "Db", name: "Dubnium", cat: "transition-metal", mass: 268, period: 7, group: 5, econfig: "[Rn] 5f¬π‚Å¥ 6d¬≥ 7s¬≤", radius: 175, ionization: 580, electronegativity: null, affinity: 0, valence: 5 },
            { z: 106, sym: "Sg", name: "Seaborgium", cat: "transition-metal", mass: 269, period: 7, group: 6, econfig: "[Rn] 5f¬π‚Å¥ 6d‚Å¥ 7s¬≤", radius: 175, ionization: 580, electronegativity: null, affinity: 0, valence: 6 },
            { z: 107, sym: "Bh", name: "Bohrium", cat: "transition-metal", mass: 270, period: 7, group: 7, econfig: "[Rn] 5f¬π‚Å¥ 6d‚Åµ 7s¬≤", radius: 175, ionization: 580, electronegativity: null, affinity: 0, valence: 7 },
            { z: 108, sym: "Hs", name: "Hassium", cat: "transition-metal", mass: 277, period: 7, group: 8, econfig: "[Rn] 5f¬π‚Å¥ 6d‚Å∂ 7s¬≤", radius: 175, ionization: 580, electronegativity: null, affinity: 0, valence: 8 },
            { z: 109, sym: "Mt", name: "Meitnerium", cat: "unknown", mass: 278, period: 7, group: 9, econfig: "[Rn] 5f¬π‚Å¥ 6d‚Å∑ 7s¬≤", radius: 175, ionization: 580, electronegativity: null, affinity: 0, valence: 6 },
            { z: 110, sym: "Ds", name: "Darmstadtium", cat: "unknown", mass: 281, period: 7, group: 10, econfig: "[Rn] 5f¬π‚Å¥ 6d‚Å∏ 7s¬≤", radius: 175, ionization: 580, electronegativity: null, affinity: 0, valence: 6 },
            { z: 111, sym: "Rg", name: "Roentgenium", cat: "unknown", mass: 282, period: 7, group: 11, econfig: "[Rn] 5f¬π‚Å¥ 6d‚Åπ 7s¬≤", radius: 175, ionization: 580, electronegativity: null, affinity: 0, valence: 5 },
            { z: 112, sym: "Cn", name: "Copernicium", cat: "unknown", mass: 285, period: 7, group: 12, econfig: "[Rn] 5f¬π‚Å¥ 6d¬π‚Å∞ 7s¬≤", radius: 175, ionization: 580, electronegativity: null, affinity: 0, valence: 4 },
            { z: 113, sym: "Nh", name: "Nihonium", cat: "unknown", mass: 286, period: 7, group: 13, econfig: "[Rn] 5f¬π‚Å¥ 6d¬π‚Å∞ 7s¬≤ 7p¬π", radius: 175, ionization: 580, electronegativity: null, affinity: 0, valence: 3 },
            { z: 114, sym: "Fl", name: "Flerovium", cat: "unknown", mass: 289, period: 7, group: 14, econfig: "[Rn] 5f¬π‚Å¥ 6d¬π‚Å∞ 7s¬≤ 7p¬≤", radius: 175, ionization: 580, electronegativity: null, affinity: 0, valence: 4 },
            { z: 115, sym: "Mc", name: "Moscovium", cat: "unknown", mass: 290, period: 7, group: 15, econfig: "[Rn] 5f¬π‚Å¥ 6d¬π‚Å∞ 7s¬≤ 7p¬≥", radius: 175, ionization: 580, electronegativity: null, affinity: 0, valence: 3 },
            { z: 116, sym: "Lv", name: "Livermorium", cat: "unknown", mass: 293, period: 7, group: 16, econfig: "[Rn] 5f¬π‚Å¥ 6d¬π‚Å∞ 7s¬≤ 7p‚Å¥", radius: 175, ionization: 580, electronegativity: null, affinity: 0, valence: 4 },
            { z: 117, sym: "Ts", name: "Tennessine", cat: "unknown", mass: 294, period: 7, group: 17, econfig: "[Rn] 5f¬π‚Å¥ 6d¬π‚Å∞ 7s¬≤ 7p‚Åµ", radius: 175, ionization: 580, electronegativity: null, affinity: 0, valence: 5 },
            { z: 118, sym: "Og", name: "Oganesson", cat: "unknown", mass: 294, period: 7, group: 18, econfig: "[Rn] 5f¬π‚Å¥ 6d¬π‚Å∞ 7s¬≤ 7p‚Å∂", radius: 175, ionization: 580, electronegativity: null, affinity: 0, valence: 8 }
        ];

        const categories = {
            "alkali-metal": { name: "Alkali Metal", color: "var(--alkali)" },
            "alkaline-earth": { name: "Alkaline Earth", color: "var(--alkaline)" },
            "transition-metal": { name: "Transition Metal", color: "var(--transition)" },
            "post-transition": { name: "Post-Transition", color: "var(--post-transition)" },
            "metalloid": { name: "Metalloid", color: "var(--metalloid)" },
            "nonmetal": { name: "Nonmetal", color: "var(--nonmetal)" },
            "halogen": { name: "Halogen", color: "var(--halogen)" },
            "noble-gas": { name: "Noble Gas", color: "var(--noble)" },
            "lanthanide": { name: "Lanthanide", color: "var(--lanthanide)" },
            "actinide": { name: "Actinide", color: "var(--actinide)" },
            "unknown": { name: "Unknown", color: "var(--unknown)" }
        };

        const quizQuestions = [
            {
                question: "Which property DECREASES across a period (left to right)?",
                options: ["Ionization Energy", "Electronegativity", "Atomic Radius", "Nuclear Charge"],
                correct: 2,
                explanation: "Atomic radius decreases across a period due to increasing nuclear charge pulling the electron cloud closer."
            },
            {
                question: "Why do halogens act as strong oxidizing agents?",
                options: ["They lose electrons easily", "They have low electronegativity", "They readily accept electrons to achieve stable octet", "They have few valence electrons"],
                correct: 2,
                explanation: "Halogens (Group VII) readily accept electrons to achieve a stable octet configuration, making them excellent oxidizing agents."
            },
            {
                question: "What does the electron configuration [Ne] 3s¬≤ 3p‚Åµ indicate about ionization energy?",
                options: ["Low ionization energy", "High ionization energy", "Zero ionization energy", "Negative ionization energy"],
                correct: 1,
                explanation: "This is Chlorine's configuration. Being near a stable octet with high effective nuclear charge gives it high ionization energy."
            },
            {
                question: "If an element has a relative atomic mass of 35.5, this indicates:",
                options: ["It has 35.5 protons", "It's an isotopic mixture", "It's not a real element", "It has fractional electrons"],
                correct: 1,
                explanation: "A non-whole number mass indicates the element exists as an isotopic mixture (like Chlorine with ¬≥‚ÅµCl and ¬≥‚Å∑Cl)."
            },
            {
                question: "Beryllium and Aluminum have similar properties because:",
                options: ["They are in the same period", "They are in the same group", "Diagonal relationship - similar polarizing power", "They have the same atomic radius"],
                correct: 2,
                explanation: "This is an example of diagonal relationship where Period 2 elements show similarities with Period 3 elements of the next group due to similar charge/size ratio."
            },
            {
                question: "What happens to electropositive character across a period?",
                options: ["Increases", "Decreases", "Stays the same", "Fluctuates randomly"],
                correct: 1,
                explanation: "Electropositive character decreases across a period as elements become more electronegative (tendency to gain rather than lose electrons)."
            },
            {
                question: "Elements in the same period have the same number of:",
                options: ["Valence electrons", "Protons", "Electron shells", "Neutrons"],
                correct: 2,
                explanation: "Elements in the same period have the same number of electron shells. For example, all Period 3 elements have 3 shells."
            },
            {
                question: "To remove one electron from gaseous sodium (3s¬π), approximately how much energy is required?",
                options: ["100 kJ/mol", "496 kJ/mol", "1000 kJ/mol", "2000 kJ/mol"],
                correct: 1,
                explanation: "The first ionization energy of sodium is about 496 kJ/mol - the energy needed to remove the 3s electron."
            }
        ];

        let currentMode = 'default';
        let currentQuiz = 0;

        // Grid position mapping
        const gridLayout = [
            [1, 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 2],
            [3, 4, 0,0,0,0,0,0,0,0,0,0, 5, 6, 7, 8, 9, 10],
            [11,12, 0,0,0,0,0,0,0,0,0,0, 13,14,15,16,17,18],
            [19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],
            [37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54],
            [55,56,57,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86],
            [87,88,89,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118],
            [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
            [-2,-2,58,59,60,61,62,63,64,65,66,67,68,69,70,71,-2,-2],
            [-3,-3,90,91,92,93,94,95,96,97,98,99,100,101,102,103,-3,-3]
        ];

        function buildPeriodicTable() {
            const table = document.getElementById('periodicTable');
            table.innerHTML = '';

            gridLayout.forEach((row, rowIndex) => {
                row.forEach((atomicNum, colIndex) => {
                    const cell = document.createElement('div');

                    if (atomicNum === 0) {
                        cell.className = 'element empty-cell';
                    } else if (atomicNum === -1) {
                        cell.className = 'lanthanide-actinide-gap';
                        if (colIndex === 0) {
                            cell.style.gridColumn = 'span 18';
                        }
                    } else if (atomicNum === -2) {
                        cell.className = 'element empty-cell';
                        if (colIndex === 0) {
                            cell.innerHTML = '<span style="font-size: 0.6rem; color: var(--lanthanide);">La-Lu</span>';
                            cell.style.gridColumn = 'span 2';
                            cell.style.display = 'flex';
                            cell.style.justifyContent = 'flex-end';
                            cell.style.paddingRight = '5px';
                        }
                    } else if (atomicNum === -3) {
                        cell.className = 'element empty-cell';
                        if (colIndex === 0) {
                            cell.innerHTML = '<span style="font-size: 0.6rem; color: var(--actinide);">Ac-Lr</span>';
                            cell.style.gridColumn = 'span 2';
                            cell.style.display = 'flex';
                            cell.style.justifyContent = 'flex-end';
                            cell.style.paddingRight = '5px';
                        }
                    } else {
                        const element = elements.find(e => e.z === atomicNum);
                        if (element) {
                            cell.className = `element ${element.cat}`;
                            cell.dataset.z = element.z;
                            cell.innerHTML = `
                                <span class="atomic-num">${element.z}</span>
                                <span class="symbol">${element.sym}</span>
                                <span class="name">${element.name}</span>
                            `;
                            cell.addEventListener('click', () => showElementModal(element));
                        }
                    }

                    if (atomicNum >= 0 || (atomicNum < 0 && colIndex === 0)) {
                        table.appendChild(cell);
                    }
                });
            });

            buildLegend();
        }

        function buildLegend() {
            const legend = document.getElementById('legend');
            legend.innerHTML = '';

            Object.entries(categories).forEach(([key, val]) => {
                const item = document.createElement('div');
                item.className = 'legend-item';
                item.innerHTML = `
                    <div class="legend-color" style="background: ${val.color}"></div>
                    <span>${val.name}</span>
                `;
                legend.appendChild(item);
            });
        }

        function showElementModal(element) {
            const modal = document.getElementById('elementModal');
            const header = document.getElementById('modalHeader');
            const categoryInfo = categories[element.cat];

            header.style.background = `linear-gradient(135deg, ${categoryInfo.color}, rgba(0,0,0,0.3))`;

            document.getElementById('modalSymbol').textContent = element.sym;
            document.getElementById('modalName').textContent = element.name;
            document.getElementById('modalCategory').textContent = categoryInfo.name;

            document.getElementById('propertyGrid').innerHTML = `
                <div class="property-item">
                    <div class="property-label">Atomic Number</div>
                    <div class="property-value">${element.z}</div>
                </div>
                <div class="property-item">
                    <div class="property-label">Atomic Mass</div>
                    <div class="property-value">${element.mass}</div>
                </div>
                <div class="property-item">
                    <div class="property-label">Period</div>
                    <div class="property-value">${element.period}</div>
                </div>
                <div class="property-item">
                    <div class="property-label">Group</div>
                    <div class="property-value">${element.group || 'N/A'}</div>
                </div>
                <div class="property-item">
                    <div class="property-label">Atomic Radius</div>
                    <div class="property-value">${element.radius} pm</div>
                </div>
                <div class="property-item">
                    <div class="property-label">Ionization Energy</div>
                    <div class="property-value">${element.ionization} kJ/mol</div>
                </div>
                <div class="property-item">
                    <div class="property-label">Electronegativity</div>
                    <div class="property-value">${element.electronegativity || 'N/A'}</div>
                </div>
                <div class="property-item">
                    <div class="property-label">Electron Affinity</div>
                    <div class="property-value">${element.affinity} kJ/mol</div>
                </div>
                <div class="property-item">
                    <div class="property-label">Valence e‚Åª</div>
                    <div class="property-value">${element.valence}</div>
                </div>
                <div class="property-item">
                    <div class="property-label">Shells</div>
                    <div class="property-value">${element.period} üêö</div>
                </div>
                <div class="property-item electron-config">
                    <div class="property-label">Electron Configuration</div>
                    <div class="property-value">${element.econfig}</div>
                </div>
            `;

            // Trend indicators
            document.getElementById('trendIndicator').innerHTML = `
                <div class="trend-stat">
                    <div class="trend-stat-label">Radius Trend</div>
                    <div class="trend-stat-value" style="color: ${element.radius > 150 ? 'var(--accent-lime)' : 'var(--accent-magenta)'}">
                        ${element.radius > 150 ? '‚óè Large' : element.radius > 100 ? '‚óè Medium' : '‚óè Small'}
                    </div>
                </div>
                <div class="trend-stat">
                    <div class="trend-stat-label">IE Trend</div>
                    <div class="trend-stat-value" style="color: ${element.ionization > 1000 ? 'var(--accent-lime)' : 'var(--accent-magenta)'}">
                        ${element.ionization > 1000 ? '‚ñ≤ High' : element.ionization > 600 ? '‚ñ† Medium' : '‚ñº Low'}
                    </div>
                </div>
                <div class="trend-stat">
                    <div class="trend-stat-label">EN Trend</div>
                    <div class="trend-stat-value" style="color: ${(element.electronegativity || 0) > 2.5 ? 'var(--accent-lime)' : 'var(--accent-magenta)'}">
                        ${!element.electronegativity ? 'N/A' : element.electronegativity > 2.5 ? '‚ñ≤ High' : element.electronegativity > 1.5 ? '‚ñ† Medium' : '‚ñº Low'}
                    </div>
                </div>
            `;

            // Element facts
            let facts = getFacts(element);
            document.getElementById('elementFacts').innerHTML = `
                <h4><i class="fas fa-lightbulb"></i> Key Facts</h4>
                <p>${facts}</p>
            `;

            modal.classList.add('active');
        }

        function getFacts(el) {
            const facts = [];

            if (el.cat === 'halogen') {
                facts.push(`${el.name} is a halogen - a strong oxidizing agent that readily accepts electrons to achieve a stable octet.`);
            }
            if (el.cat === 'noble-gas') {
                facts.push(`${el.name} has the highest ionization energy in Period ${el.period} due to its stable electron configuration.`);
            }
            if (el.cat === 'alkali-metal') {
                facts.push(`${el.name} has low ionization energy and easily loses its single valence electron.`);
            }
            if (el.diagonal) {
                facts.push(`${el.name} exhibits diagonal relationship with ${el.sym === 'Be' ? 'Aluminum (Al)' : 'Beryllium (Be)'} due to similar polarizing power.`);
            }
            if (el.sym === 'Na') {
                facts.push(`Removing one electron from sodium's 3s orbital requires 496 kJ/mol - its ionization energy.`);
            }
            if (el.sym === 'Cl') {
                facts.push(`Chlorine has high ionization energy (1251 kJ/mol) as it's near achieving a stable octet. Its mass of 35.45 indicates it's an isotopic mixture.`);
            }
            if (el.group === 1 && el.z > 2) {
                facts.push(`${el.name} has one valence electron (ns¬π), giving it similar properties to other alkali metals.`);
            }

            if (facts.length === 0) {
                facts.push(`${el.name} is in Period ${el.period} (${el.period} electron shells) with ${el.valence} valence electron(s).`);
            }

            return facts.join(' ');
        }

        document.getElementById('closeModal').addEventListener('click', () => {
            document.getElementById('elementModal').classList.remove('active');
        });

        document.getElementById('elementModal').addEventListener('click', (e) => {
            if (e.target.id === 'elementModal') {
                document.getElementById('elementModal').classList.remove('active');
            }
        });

        // Control buttons
        document.querySelectorAll('.control-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.control-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentMode = btn.dataset.mode;
                applyVisualization(currentMode);
            });
        });

        function applyVisualization(mode) {
            const allElements = document.querySelectorAll('.element[data-z]');

            allElements.forEach(el => {
                el.classList.remove('highlight-diagonal', 'highlight-group', 'highlight-period', 'highlight-halogen');
                el.style.opacity = '1';
                el.style.transform = '';
            });

            if (mode === 'diagonal') {
                const beEl = document.querySelector('[data-z="4"]');
                const alEl = document.querySelector('[data-z="13"]');
                if (beEl) beEl.classList.add('highlight-diagonal');
                if (alEl) alEl.classList.add('highlight-diagonal');

                allElements.forEach(el => {
                    const z = parseInt(el.dataset.z);
                    if (z !== 4 && z !== 13) {
                        el.style.opacity = '0.3';
                    }
                });
            } else if (mode === 'halogens') {
                const halogens = [9, 17, 35, 53, 85, 117];
                allElements.forEach(el => {
                    const z = parseInt(el.dataset.z);
                    if (halogens.includes(z)) {
                        el.classList.add('highlight-halogen');
                    } else {
                        el.style.opacity = '0.3';
                    }
                });
            } else if (mode === 'atomic-radius' || mode === 'ionization' || mode === 'electronegativity' || mode === 'electron-affinity') {
                visualizeTrend(mode, allElements);
            }
        }

        function visualizeTrend(mode, allElements) {
            let property, maxVal, minVal, inverse = false;

            switch(mode) {
                case 'atomic-radius':
                    property = 'radius';
                    maxVal = 348;
                    minVal = 31;
                    break;
                case 'ionization':
                    property = 'ionization';
                    maxVal = 2372;
                    minVal = 376;
                    break;
                case 'electronegativity':
                    property = 'electronegativity';
                    maxVal = 3.98;
                    minVal = 0.7;
                    break;
                case 'electron-affinity':
                    property = 'affinity';
                    maxVal = 0;
                    minVal = -349;
                    inverse = true;
                    break;
            }

            allElements.forEach(el => {
                const z = parseInt(el.dataset.z);
                const element = elements.find(e => e.z === z);
                if (element) {
                    let val = element[property];
                    if (val === null || val === undefined) {
                        el.style.opacity = '0.3';
                        return;
                    }

                    let normalized;
                    if (inverse) {
                        normalized = (val - minVal) / (maxVal - minVal);
                    } else {
                        normalized = (val - minVal) / (maxVal - minVal);
                    }
                    normalized = Math.max(0, Math.min(1, normalized));

                    const hue = mode === 'atomic-radius' ?
                        (1 - normalized) * 240 + 180 :
                        normalized * 120;

                    el.style.background = `hsl(${hue}, 70%, 50%)`;
                }
            });
        }

        // Tabs
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));

                tab.classList.add('active');
                document.getElementById(tab.dataset.tab).classList.add('active');

                if (tab.dataset.tab === 'quiz') {
                    renderQuiz();
                }
            });
        });

        // Interactive demos
        function buildAtomicRadiusDemo() {
            const container = document.getElementById('atomicRadiusDemo');
            const period3 = elements.filter(e => e.period === 3 && e.group);

            container.innerHTML = '';
            period3.forEach((el, i) => {
                const size = Math.max(30, el.radius / 2.5);
                const div = document.createElement('div');
                div.className = 'atom-visual';
                div.innerHTML = `
                    <div class="atom-circle" style="width: ${size}px; height: ${size}px; background: radial-gradient(circle at 30% 30%, ${getCategoryColor(el.cat)}, rgba(0,0,0,0.5)); animation-delay: ${i * 0.1}s;">
                        ${el.sym}
                    </div>
                    <div class="atom-label">${el.radius} pm</div>
                `;
                container.appendChild(div);
            });
        }

        function getCategoryColor(cat) {
            return categories[cat]?.color || 'var(--text-secondary)';
        }

        function buildPeriod2Demo() {
            const container = document.getElementById('period2Demo');
            const period2 = elements.filter(e => e.period === 2);

            container.innerHTML = '';
            period2.forEach(el => {
                const div = document.createElement('div');
                div.className = 'demo-element';
                div.style.background = getCategoryColor(el.cat);
                div.innerHTML = `
                    <div class="sym">${el.sym}</div>
                    <div class="val">${el.valence} e‚Åª</div>
                `;
                container.appendChild(div);
            });
        }

        function renderQuiz() {
            const container = document.getElementById('quizContainer');
            const q = quizQuestions[currentQuiz];

            container.innerHTML = `
                <div class="quiz-question">
                    <strong>Question ${currentQuiz + 1}/${quizQuestions.length}:</strong> ${q.question}
                </div>
                <div class="quiz-options">
                    ${q.options.map((opt, i) => `
                        <button class="quiz-option" data-index="${i}">${opt}</button>
                    `).join('')}
                </div>
                <div class="quiz-feedback" id="quizFeedback"></div>
                <div style="margin-top: 20px; display: flex; gap: 10px;">
                    <button class="control-btn" id="prevQuiz" ${currentQuiz === 0 ? 'disabled' : ''}>
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="control-btn" id="nextQuiz">
                        Next <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            `;

            container.querySelectorAll('.quiz-option').forEach(btn => {
                btn.addEventListener('click', () => checkAnswer(parseInt(btn.dataset.index)));
            });

            document.getElementById('prevQuiz').addEventListener('click', () => {
                if (currentQuiz > 0) {
                    currentQuiz--;
                    renderQuiz();
                }
            });

            document.getElementById('nextQuiz').addEventListener('click', () => {
                currentQuiz = (currentQuiz + 1) % quizQuestions.length;
                renderQuiz();
            });
        }

        function checkAnswer(index) {
            const q = quizQuestions[currentQuiz];
            const options = document.querySelectorAll('.quiz-option');
            const feedback = document.getElementById('quizFeedback');

            options.forEach((opt, i) => {
                opt.disabled = true;
                if (i === q.correct) {
                    opt.classList.add('correct');
                } else if (i === index && index !== q.correct) {
                    opt.classList.add('incorrect');
                }
            });

            feedback.textContent = q.explanation;
            feedback.className = `quiz-feedback show ${index === q.correct ? 'correct' : 'incorrect'}`;
        }

        // Dark mode detection
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        // Initialize
        buildPeriodicTable();
        buildAtomicRadiusDemo();
        buildPeriod2Demo();
    </script>
</body>
</html>

