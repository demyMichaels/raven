<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Progress Heatmaps - Comprehensive Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-matrix@2.0.1/dist/chartjs-chart-matrix.min.js"></script>
    <style>
        /* Custom color palette */
        :root {
            --primary: #5D5CDE;
            --excellent: #10B981;
            --good: #3B82F6;
            --average: #F59E0B;
            --weak: #EF4444;
            --unstarted: #6B7280;
        }

        /* Dark mode support */
        .dark {
            --bg-primary: #181818;
            --bg-secondary: #242424;
            --text-primary: #FFFFFF;
            --text-secondary: #A0A0A0;
        }

        :not(.dark) {
            --bg-primary: #FFFFFF;
            --bg-secondary: #F5F5F5;
            --text-primary: #1A1A1A;
            --text-secondary: #6B7280;
        }

        body {
            background: var(--bg-primary);
            color: var(--text-primary);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }

        /* Analytics styles */
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }
        .chart-container canvas {
            max-height: 100% !important;
            max-width: 100% !important;
        }

        .heatmap-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 8px;
        }

        .heatmap-cell {
            aspect-ratio: 1;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 8px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .heatmap-cell:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            z-index: 10;
        }

        .status-excellent { background: linear-gradient(135deg, #10B981, #059669); color: white; }
        .status-good { background: linear-gradient(135deg, #3B82F6, #1D4ED8); color: white; }
        .status-average { background: linear-gradient(135deg, #F59E0B, #D97706); color: white; }
        .status-weak { background: linear-gradient(135deg, #EF4444, #DC2626); color: white; }
        .status-unstarted { background: linear-gradient(135deg, #6B7280, #4B5563); color: white; }

        .progress-ring {
            transform: rotate(-90deg);
        }
        .progress-ring-circle {
            stroke-dasharray: 251.2;
            stroke-dashoffset: 251.2;
            transition: stroke-dashoffset 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Matrix Heatmap Styles */
        .matrix-heatmap {
            display: grid;
            gap: 2px;
            background: var(--bg-secondary);
            padding: 16px;
            border-radius: 12px;
        }

        .matrix-row {
            display: grid;
            gap: 2px;
        }

        .matrix-cell {
            aspect-ratio: 1;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.2s ease;
            cursor: pointer;
            min-height: 40px;
        }

        .matrix-cell:hover {
            transform: scale(1.1);
            z-index: 10;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        /* Calendar-style heatmap */
        .calendar-heatmap {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
            padding: 16px;
            background: var(--bg-secondary);
            border-radius: 12px;
        }

        .calendar-cell {
            aspect-ratio: 1;
            border-radius: 6px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .calendar-cell:hover {
            transform: scale(1.15);
            z-index: 10;
        }

        /* Tooltip */
        .tooltip {
            position: absolute;
            background: rgba(0,0,0,0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 14px;
            pointer-events: none;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.2s ease;
            white-space: nowrap;
        }

        .tooltip.show {
            opacity: 1;
        }

        /* Tab navigation */
        .tab-button {
            padding: 12px 24px;
            border-radius: 8px;
            transition: all 0.2s ease;
            cursor: pointer;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .tab-button.active {
            background: var(--primary);
            color: white;
        }

        .tab-button:hover:not(.active) {
            background: var(--bg-secondary);
        }

        /* Section cards */
        .section-card {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            border: 1px solid rgba(93, 92, 222, 0.1);
        }

        .dark .section-card {
            background: #242424;
        }

        /* Legend */
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            border-radius: 8px;
            background: var(--bg-primary);
        }

        .legend-color {
            width: 24px;
            height: 24px;
            border-radius: 4px;
        }

        /* Gradient bars for progress */
        .gradient-bar {
            height: 8px;
            border-radius: 4px;
            background: linear-gradient(90deg, #EF4444, #F59E0B, #3B82F6, #10B981);
            position: relative;
            overflow: hidden;
        }

        .gradient-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* Smooth scroll */
        html {
            scroll-behavior: smooth;
        }

        /* Code blocks */
        pre {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 16px;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 14px;
        }

        code {
            font-family: 'Courier New', monospace;
        }

        /* Interactive demo controls */
        .control-panel {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin-bottom: 16px;
        }

        .control-button {
            padding: 8px 16px;
            border-radius: 6px;
            border: 1px solid var(--primary);
            background: transparent;
            color: var(--primary);
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
        }

        .control-button:hover {
            background: var(--primary);
            color: white;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .heatmap-grid {
                grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            }

            .matrix-cell {
                min-height: 30px;
                font-size: 10px;
            }

            .section-card {
                padding: 16px;
            }
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Tooltip element -->
    <div id="tooltip" class="tooltip"></div>

    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <!-- Header -->
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-600 to-blue-500 bg-clip-text text-transparent">
                Student Progress Heatmaps
            </h1>
            <p class="text-lg md:text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto">
                A comprehensive guide to visualizing student performance across subjects and topics using heatmaps
            </p>
        </header>

        <!-- Navigation Tabs -->
        <div class="flex gap-2 mb-8 overflow-x-auto pb-2">
            <button class="tab-button active" onclick="showTab('theory')">📚 Theory</button>
            <button class="tab-button" onclick="showTab('examples')">🎨 Examples</button>
            <button class="tab-button" onclick="showTab('interactive')">⚡ Interactive</button>
            <button class="tab-button" onclick="showTab('best-practices')">✨ Best Practices</button>
            <button class="tab-button" onclick="showTab('use-cases')">💼 Use Cases</button>
        </div>

        <!-- Tab Content -->
        <div id="tab-theory" class="tab-content">
            <!-- What is a Heatmap? -->
            <div class="section-card">
                <h2 class="text-3xl font-bold mb-4">🔥 What is a Heatmap?</h2>
                <p class="text-base mb-4 leading-relaxed">
                    A <strong>heatmap</strong> is a data visualization technique that uses color to represent the magnitude of values in a two-dimensional matrix. In educational contexts, heatmaps excel at showing patterns in student performance across multiple dimensions (subjects, topics, time periods).
                </p>

                <div class="grid md:grid-cols-2 gap-6 mt-6">
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg">
                        <h3 class="text-xl font-bold mb-3 text-green-600">✅ Advantages</h3>
                        <ul class="space-y-2 text-base">
                            <li>• <strong>Pattern Recognition:</strong> Instantly identify strengths and weaknesses</li>
                            <li>• <strong>Dense Information:</strong> Show hundreds of data points clearly</li>
                            <li>• <strong>Intuitive:</strong> Color = performance (no training needed)</li>
                            <li>• <strong>Comparative:</strong> Easy to compare across students/topics</li>
                            <li>• <strong>Time-Efficient:</strong> Quick scanning for educators</li>
                        </ul>
                    </div>

                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg">
                        <h3 class="text-xl font-bold mb-3 text-blue-600">🎯 Educational Applications</h3>
                        <ul class="space-y-2 text-base">
                            <li>• Track mastery across curriculum topics</li>
                            <li>• Monitor progress over time (weekly/monthly)</li>
                            <li>• Identify struggling students at a glance</li>
                            <li>• Compare class performance across subjects</li>
                            <li>• Personalize learning paths</li>
                            <li>• Measure engagement and activity patterns</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Color Theory -->
            <div class="section-card">
                <h2 class="text-3xl font-bold mb-4">🎨 Color Theory for Student Progress</h2>
                <p class="text-base mb-6 leading-relaxed">
                    Color selection is crucial for effective heatmaps. Different color schemes communicate different meanings and affect readability.
                </p>

                <div class="space-y-6">
                    <!-- Sequential Color Scheme -->
                    <div>
                        <h3 class="text-xl font-semibold mb-3">1. Sequential (Single Hue) - Best for Progress</h3>
                        <p class="mb-3 text-base">Light to dark single color shows increasing mastery. Most intuitive for performance metrics.</p>
                        <div class="grid grid-cols-5 gap-2 mb-2">
                            <div style="background: #FEE2E2; padding: 20px; border-radius: 8px; text-align: center; color: #991B1B;">0-20%</div>
                            <div style="background: #FECACA; padding: 20px; border-radius: 8px; text-align: center; color: #991B1B;">20-40%</div>
                            <div style="background: #FCA5A5; padding: 20px; border-radius: 8px; text-align: center; color: white;">40-60%</div>
                            <div style="background: #F87171; padding: 20px; border-radius: 8px; text-align: center; color: white;">60-80%</div>
                            <div style="background: #DC2626; padding: 20px; border-radius: 8px; text-align: center; color: white;">80-100%</div>
                        </div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">✅ Best for: Single subject deep-dive, reading level progression</p>
                    </div>

                    <!-- Diverging Color Scheme -->
                    <div>
                        <h3 class="text-xl font-semibold mb-3">2. Diverging - Highlights Above/Below Average</h3>
                        <p class="mb-3 text-base">Two contrasting colors with neutral middle. Emphasizes deviation from a baseline.</p>
                        <div class="grid grid-cols-5 gap-2 mb-2">
                            <div style="background: #DC2626; padding: 20px; border-radius: 8px; text-align: center; color: white;">Well Below</div>
                            <div style="background: #F59E0B; padding: 20px; border-radius: 8px; text-align: center; color: white;">Below</div>
                            <div style="background: #6B7280; padding: 20px; border-radius: 8px; text-align: center; color: white;">Average</div>
                            <div style="background: #3B82F6; padding: 20px; border-radius: 8px; text-align: center; color: white;">Above</div>
                            <div style="background: #10B981; padding: 20px; border-radius: 8px; text-align: center; color: white;">Excellent</div>
                        </div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">✅ Best for: Comparing to class average, standardized test scores</p>
                    </div>

                    <!-- Categorical Color Scheme -->
                    <div>
                        <h3 class="text-xl font-semibold mb-3">3. Categorical - Distinct Performance Levels</h3>
                        <p class="mb-3 text-base">Distinct colors for named performance categories. Industry standard for grade-based systems.</p>
                        <div class="grid grid-cols-5 gap-2 mb-2">
                            <div style="background: #6B7280; padding: 20px; border-radius: 8px; text-align: center; color: white;">Not Started</div>
                            <div style="background: #EF4444; padding: 20px; border-radius: 8px; text-align: center; color: white;">Needs Work</div>
                            <div style="background: #F59E0B; padding: 20px; border-radius: 8px; text-align: center; color: white;">Developing</div>
                            <div style="background: #3B82F6; padding: 20px; border-radius: 8px; text-align: center; color: white;">Proficient</div>
                            <div style="background: #10B981; padding: 20px; border-radius: 8px; text-align: center; color: white;">Mastered</div>
                        </div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">✅ Best for: Standards-based grading, skill mastery tracking (Your provided CSS!)</p>
                    </div>
                </div>

                <div class="mt-6 bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg">
                    <p class="text-base"><strong>🔬 Research Insight:</strong> Studies show red-to-green gradients can be problematic for colorblind users (~8% of males). Blue-to-orange or purple-to-yellow are more accessible alternatives.</p>
                </div>
            </div>

            <!-- Data Encoding Methods -->
            <div class="section-card">
                <h2 class="text-3xl font-bold mb-4">📊 Data Encoding Methods</h2>
                <div class="grid md:grid-cols-3 gap-4">
                    <div class="bg-white dark:bg-gray-800 p-5 rounded-lg">
                        <h3 class="text-lg font-bold mb-2">Color Only</h3>
                        <p class="text-sm mb-3">Pure heatmap - only color represents value</p>
                        <div class="grid grid-cols-3 gap-1">
                            <div style="background: #DC2626; height: 40px; border-radius: 4px;"></div>
                            <div style="background: #F59E0B; height: 40px; border-radius: 4px;"></div>
                            <div style="background: #10B981; height: 40px; border-radius: 4px;"></div>
                        </div>
                        <p class="text-xs mt-2 text-gray-600 dark:text-gray-400">Best for: Large datasets, pattern recognition</p>
                    </div>

                    <div class="bg-white dark:bg-gray-800 p-5 rounded-lg">
                        <h3 class="text-lg font-bold mb-2">Color + Text</h3>
                        <p class="text-sm mb-3">Shows exact values for precision</p>
                        <div class="grid grid-cols-3 gap-1">
                            <div style="background: #DC2626; height: 40px; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">45%</div>
                            <div style="background: #F59E0B; height: 40px; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">67%</div>
                            <div style="background: #10B981; height: 40px; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">92%</div>
                        </div>
                        <p class="text-xs mt-2 text-gray-600 dark:text-gray-400">Best for: Detailed analysis, smaller datasets</p>
                    </div>

                    <div class="bg-white dark:bg-gray-800 p-5 rounded-lg">
                        <h3 class="text-lg font-bold mb-2">Color + Icons</h3>
                        <p class="text-sm mb-3">Visual indicators enhance meaning</p>
                        <div class="grid grid-cols-3 gap-1">
                            <div style="background: #DC2626; height: 40px; border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 20px;">⚠️</div>
                            <div style="background: #F59E0B; height: 40px; border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 20px;">📈</div>
                            <div style="background: #10B981; height: 40px; border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 20px;">⭐</div>
                        </div>
                        <p class="text-xs mt-2 text-gray-600 dark:text-gray-400">Best for: Quick scanning, mobile interfaces</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Examples Tab -->
        <div id="tab-examples" class="tab-content hidden">
            <div class="section-card">
                <h2 class="text-3xl font-bold mb-4">📚 Example 1: Subject × Topic Matrix</h2>
                <p class="text-base mb-4">The most common educational heatmap - shows student mastery across different topics in multiple subjects.</p>

                <div id="subject-topic-heatmap" class="heatmap-grid mb-6"></div>

                <div class="bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg">
                    <p class="text-base"><strong>💡 Insight:</strong> This layout immediately reveals that the student excels in Mathematics but struggles with History. Teachers can prioritize intervention in red/orange areas.</p>
                </div>
            </div>

            <div class="section-card">
                <h2 class="text-3xl font-bold mb-4">📅 Example 2: Calendar/Activity Heatmap</h2>
                <p class="text-base mb-4">GitHub-style contribution graph showing daily learning activity. Perfect for tracking engagement and study habits.</p>

                <div class="mb-4">
                    <h3 class="font-semibold mb-2">Past 7 Weeks</h3>
                    <div id="calendar-heatmap"></div>
                </div>

                <div class="grid md:grid-cols-3 gap-4 mt-4">
                    <div class="bg-white dark:bg-gray-800 p-4 rounded-lg">
                        <div class="text-2xl font-bold text-blue-600">156</div>
                        <div class="text-sm text-gray-600 dark:text-gray-400">Total Activities</div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-4 rounded-lg">
                        <div class="text-2xl font-bold text-green-600">23</div>
                        <div class="text-sm text-gray-600 dark:text-gray-400">Day Streak</div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-4 rounded-lg">
                        <div class="text-2xl font-bold text-purple-600">4.5h</div>
                        <div class="text-sm text-gray-600 dark:text-gray-400">Avg Daily Time</div>
                    </div>
                </div>
            </div>

            <div class="section-card">
                <h2 class="text-3xl font-bold mb-4">🎯 Example 3: Student × Standard Matrix</h2>
                <p class="text-base mb-4">Compare multiple students' performance on curriculum standards. Essential for differentiated instruction.</p>

                <div class="overflow-x-auto">
                    <div id="student-standard-matrix"></div>
                </div>

                <div class="mt-4 bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg">
                    <p class="text-base"><strong>📊 Teacher View:</strong> Rows reveal individual student needs. Columns show which standards need reteaching class-wide. Red column = whole class struggling.</p>
                </div>
            </div>

            <div class="section-card">
                <h2 class="text-3xl font-bold mb-4">📈 Example 4: Time-Based Progress</h2>
                <p class="text-base mb-4">Track how a student's performance in each subject changes over time (weekly assessments).</p>

                <div id="time-progress-heatmap"></div>

                <div class="mt-4 bg-green-50 dark:bg-green-900/20 p-4 rounded-lg">
                    <p class="text-base"><strong>🎓 Growth Mindset:</strong> This visualization celebrates improvement over time. Even if a student isn't at mastery yet, the progression from red → orange → green is motivating!</p>
                </div>
            </div>

            <div class="section-card">
                <h2 class="text-3xl font-bold mb-4">🔥 Example 5: Interactive Chart.js Matrix</h2>
                <p class="text-base mb-4">Using Chart.js matrix chart for scalable, data-driven heatmaps with tooltips.</p>

                <div class="chart-container">
                    <canvas id="chartjs-matrix"></canvas>
                </div>

                <div class="mt-4 bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg">
                    <p class="text-base"><strong>⚙️ Technical Note:</strong> Chart.js matrix charts auto-scale, support animations, and handle large datasets efficiently. Perfect for real-time dashboards.</p>
                </div>
            </div>
        </div>

        <!-- Interactive Tab -->
        <div id="tab-interactive" class="tab-content hidden">
            <div class="section-card">
                <h2 class="text-3xl font-bold mb-4">⚡ Interactive Heatmap Builder</h2>
                <p class="text-base mb-4">Experiment with different configurations and see how they affect the visualization!</p>

                <div class="control-panel">
                    <select id="colorScheme" class="control-button">
                        <option value="categorical">Categorical (5 levels)</option>
                        <option value="sequential-green">Sequential Green</option>
                        <option value="sequential-blue">Sequential Blue</option>
                        <option value="diverging">Diverging (Red-Gray-Green)</option>
                    </select>

                    <select id="cellContent" class="control-button">
                        <option value="color-only">Color Only</option>
                        <option value="percentage">Show Percentage</option>
                        <option value="icons">Show Icons</option>
                        <option value="both">Percentage + Icons</option>
                    </select>

                    <button class="control-button" onclick="randomizeData()">🎲 Randomize Data</button>
                    <button class="control-button" onclick="simulateImprovement()">📈 Simulate Improvement</button>
                </div>

                <div id="interactive-heatmap" class="heatmap-grid mb-6"></div>

                <div class="grid md:grid-cols-2 gap-4">
                    <div class="bg-white dark:bg-gray-800 p-4 rounded-lg">
                        <h3 class="font-bold mb-2">Current Configuration:</h3>
                        <div id="config-display" class="text-sm space-y-1"></div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-4 rounded-lg">
                        <h3 class="font-bold mb-2">Statistics:</h3>
                        <div id="stats-display" class="text-sm space-y-1"></div>
                    </div>
                </div>
            </div>

            <div class="section-card">
                <h2 class="text-3xl font-bold mb-4">🎮 Try Different Cell Sizes</h2>
                <p class="text-base mb-4">Cell size affects information density. Smaller = more data, larger = easier to read.</p>

                <div class="control-panel">
                    <button class="control-button" onclick="setCellSize('small')">Small (80px)</button>
                    <button class="control-button" onclick="setCellSize('medium')">Medium (120px)</button>
                    <button class="control-button" onclick="setCellSize('large')">Large (160px)</button>
                </div>

                <div id="size-demo-heatmap" class="heatmap-grid"></div>
            </div>
        </div>

        <!-- Best Practices Tab -->
        <div id="tab-best-practices" class="tab-content hidden">
            <div class="section-card">
                <h2 class="text-3xl font-bold mb-4">✨ Industry Best Practices</h2>

                <div class="space-y-6">
                    <div>
                        <h3 class="text-xl font-bold mb-3 text-blue-600">1. Color Accessibility</h3>
                        <ul class="space-y-2 text-base list-disc list-inside">
                            <li><strong>Avoid red-green only:</strong> 8% of males have red-green color blindness</li>
                            <li><strong>Use patterns/textures:</strong> Add stripes or dots for additional encoding</li>
                            <li><strong>Test contrast:</strong> Ensure WCAG AA compliance (4.5:1 ratio minimum)</li>
                            <li><strong>Provide legend:</strong> Don't rely solely on color to convey meaning</li>
                            <li><strong>Text legibility:</strong> White text on dark colors, dark text on light colors</li>
                        </ul>

                        <div class="mt-4 grid md:grid-cols-2 gap-4">
                            <div>
                                <p class="font-semibold text-red-600 mb-2">❌ Poor Accessibility</p>
                                <div class="grid grid-cols-5 gap-1">
                                    <div style="background: #00FF00; height: 30px;"></div>
                                    <div style="background: #40FF40; height: 30px;"></div>
                                    <div style="background: #808080; height: 30px;"></div>
                                    <div style="background: #FF4040; height: 30px;"></div>
                                    <div style="background: #FF0000; height: 30px;"></div>
                                </div>
                                <p class="text-sm mt-1">Red-green scale, low contrast</p>
                            </div>
                            <div>
                                <p class="font-semibold text-green-600 mb-2">✅ Good Accessibility</p>
                                <div class="grid grid-cols-5 gap-1">
                                    <div style="background: #DC2626; height: 30px;"></div>
                                    <div style="background: #F59E0B; height: 30px;"></div>
                                    <div style="background: #6B7280; height: 30px;"></div>
                                    <div style="background: #3B82F6; height: 30px;"></div>
                                    <div style="background: #10B981; height: 30px;"></div>
                                </div>
                                <p class="text-sm mt-1">Distinct hues, high contrast</p>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-xl font-bold mb-3 text-purple-600">2. Information Hierarchy</h3>
                        <ul class="space-y-2 text-base list-disc list-inside">
                            <li><strong>Group related data:</strong> Place similar subjects/topics near each other</li>
                            <li><strong>Sort intelligently:</strong> Order by performance, importance, or sequence</li>
                            <li><strong>Use white space:</strong> Separate major categories with gaps</li>
                            <li><strong>Label clearly:</strong> Axis labels, units, and time periods must be obvious</li>
                            <li><strong>Highlight outliers:</strong> Use borders or animations for attention</li>
                        </ul>

                        <div class="mt-4 bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg">
                            <p class="text-base"><strong>Example:</strong> Group "Reading Comprehension" and "Vocabulary" together since they're related literacy skills. Separate them from "Algebra" and "Geometry" with visual spacing.</p>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-xl font-bold mb-3 text-green-600">3. Interactivity Standards</h3>
                        <ul class="space-y-2 text-base list-disc list-inside">
                            <li><strong>Tooltips on hover:</strong> Show exact values and additional context</li>
                            <li><strong>Click for details:</strong> Drill down into specific performance data</li>
                            <li><strong>Smooth animations:</strong> Use CSS transitions (0.3s cubic-bezier)</li>
                            <li><strong>Visual feedback:</strong> Scale, shadow, or glow on hover</li>
                            <li><strong>Mobile touch support:</strong> Tap to show tooltip, adequate touch targets (40px+)</li>
                        </ul>

                        <pre class="mt-4"><code>/* Best practice CSS transitions */
.heatmap-cell {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.heatmap-cell:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    z-index: 10;
}</code></pre>
                    </div>

                    <div>
                        <h3 class="text-xl font-bold mb-3 text-orange-600">4. Performance Optimization</h3>
                        <ul class="space-y-2 text-base list-disc list-inside">
                            <li><strong>Virtualization:</strong> For 1000+ cells, render only visible ones</li>
                            <li><strong>CSS over JavaScript:</strong> Use CSS gradients and transforms</li>
                            <li><strong>Debounce interactions:</strong> Throttle hover events to 16ms</li>
                            <li><strong>Lazy load large datasets:</strong> Load data on demand or in chunks</li>
                            <li><strong>Canvas for scale:</strong> Use HTML Canvas for 10,000+ data points</li>
                        </ul>
                    </div>

                    <div>
                        <h3 class="text-xl font-bold mb-3 text-red-600">5. Educational Psychology</h3>
                        <ul class="space-y-2 text-base list-disc list-inside">
                            <li><strong>Growth-focused:</strong> Show improvement over time, not just current state</li>
                            <li><strong>Positive framing:</strong> Use "developing" instead of "failing"</li>
                            <li><strong>Privacy-aware:</strong> Individual dashboards, not public leaderboards</li>
                            <li><strong>Actionable insights:</strong> Include "next steps" or recommendations</li>
                            <li><strong>Celebrate wins:</strong> Highlight improvements with badges or animations</li>
                        </ul>

                        <div class="mt-4 bg-red-50 dark:bg-red-900/20 p-4 rounded-lg">
                            <p class="text-base"><strong>⚠️ Warning:</strong> Never publicly display comparative heatmaps showing all students' names. This violates FERPA (US) and can harm student self-esteem. Always use individual or anonymized views.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section-card">
                <h2 class="text-3xl font-bold mb-4">📐 Layout Patterns</h2>

                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-white dark:bg-gray-800 p-5 rounded-lg">
                        <h3 class="text-lg font-bold mb-3">Grid Layout (Your CSS)</h3>
                        <pre class="text-xs"><code>.heatmap-grid {
    display: grid;
    grid-template-columns:
        repeat(auto-fit, minmax(120px, 1fr));
    gap: 8px;
}</code></pre>
                        <p class="mt-2 text-sm">✅ Responsive, equal-width cells, great for topics</p>
                    </div>

                    <div class="bg-white dark:bg-gray-800 p-5 rounded-lg">
                        <h3 class="text-lg font-bold mb-3">Table Layout</h3>
                        <pre class="text-xs"><code>.matrix-heatmap {
    display: grid;
    grid-template-columns:
        150px repeat(5, 1fr);
    gap: 2px;
}</code></pre>
                        <p class="mt-2 text-sm">✅ Fixed row labels, scrollable columns, large datasets</p>
                    </div>

                    <div class="bg-white dark:bg-gray-800 p-5 rounded-lg">
                        <h3 class="text-lg font-bold mb-3">Calendar Layout</h3>
                        <pre class="text-xs"><code>.calendar-heatmap {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 4px;
}</code></pre>
                        <p class="mt-2 text-sm">✅ Weekly patterns, activity tracking, time-based data</p>
                    </div>

                    <div class="bg-white dark:bg-gray-800 p-5 rounded-lg">
                        <h3 class="text-lg font-bold mb-3">Circular/Radial</h3>
                        <pre class="text-xs"><code>/* Requires SVG or Canvas */
/* Polar coordinates for cells */</code></pre>
                        <p class="mt-2 text-sm">✅ Cyclical data (time of day), aesthetic dashboards</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Use Cases Tab -->
        <div id="tab-use-cases" class="tab-content hidden">
            <div class="section-card">
                <h2 class="text-3xl font-bold mb-4">💼 Real-World Use Cases</h2>

                <div class="space-y-6">
                    <!-- K-12 Education -->
                    <div class="bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-6 rounded-lg">
                        <h3 class="text-2xl font-bold mb-3">🏫 K-12 Education</h3>

                        <div class="grid md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <h4 class="font-bold text-lg mb-2">Use Case: Standards-Based Report Cards</h4>
                                <p class="text-base mb-2">Replace letter grades with mastery heatmaps showing progress on specific learning standards.</p>
                                <p class="text-sm italic">"Emma's parents can see she's mastered 'Adding Fractions' (green) but still developing 'Word Problems' (orange)."</p>
                            </div>
                            <div>
                                <h4 class="font-bold text-lg mb-2">Use Case: IEP Progress Monitoring</h4>
                                <p class="text-base mb-2">Track special education students' weekly progress on Individual Education Plan goals.</p>
                                <p class="text-sm italic">"Visual snapshot shows which accommodations are working (cells turning greener) vs. which need adjustment."</p>
                            </div>
                        </div>

                        <div class="bg-white dark:bg-gray-800 p-4 rounded-lg">
                            <p class="text-sm"><strong>Industry Example:</strong> Khan Academy uses skill mastery heatmaps to show students their progress across math topics, with colors indicating "Attempted," "Familiar," "Proficient," and "Mastered."</p>
                        </div>
                    </div>

                    <!-- Higher Education -->
                    <div class="bg-gradient-to-r from-green-50 to-teal-50 dark:from-green-900/20 dark:to-teal-900/20 p-6 rounded-lg">
                        <h3 class="text-2xl font-bold mb-3">🎓 Higher Education</h3>

                        <div class="grid md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <h4 class="font-bold text-lg mb-2">Use Case: Course Learning Outcomes</h4>
                                <p class="text-base mb-2">Professors map assignments/exams to learning outcomes, showing which outcomes students master.</p>
                                <p class="text-sm italic">"Heatmap reveals 70% of class struggles with 'Critical Analysis' outcome → adjust curriculum."</p>
                            </div>
                            <div>
                                <h4 class="font-bold text-lg mb-2">Use Case: Degree Progress Tracking</h4>
                                <p class="text-base mb-2">Students see which degree requirements (gen eds, major, electives) they've completed.</p>
                                <p class="text-sm italic">"Green = completed, blue = in progress, gray = not started. Gamification of graduation!"</p>
                            </div>
                        </div>

                        <div class="bg-white dark:bg-gray-800 p-4 rounded-lg">
                            <p class="text-sm"><strong>Industry Example:</strong> Coursera shows course completion heatmaps where each cell is a video/quiz, helping learners visualize their path through a specialization.</p>
                        </div>
                    </div>

                    <!-- Corporate Training -->
                    <div class="bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 p-6 rounded-lg">
                        <h3 class="text-2xl font-bold mb-3">💼 Corporate Training</h3>

                        <div class="grid md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <h4 class="font-bold text-lg mb-2">Use Case: Compliance Training</h4>
                                <p class="text-base mb-2">HR tracks which employees completed required trainings (OSHA, harassment, cybersecurity).</p>
                                <p class="text-sm italic">"Red cells = overdue, orange = expiring soon, green = current. Filter by department."</p>
                            </div>
                            <div>
                                <h4 class="font-bold text-lg mb-2">Use Case: Sales Team Skills</h4>
                                <p class="text-base mb-2">Show each salesperson's proficiency in product knowledge, negotiation, CRM tools, etc.</p>
                                <p class="text-sm italic">"Manager identifies coaching needs: John excels at demos but needs help with closing."</p>
                            </div>
                        </div>

                        <div class="bg-white dark:bg-gray-800 p-4 rounded-lg">
                            <p class="text-sm"><strong>Industry Example:</strong> LinkedIn Learning uses skill heatmaps to show learners their expertise levels across tech stacks (React, Python, AWS), recommending courses for orange/red areas.</p>
                        </div>
                    </div>

                    <!-- Language Learning -->
                    <div class="bg-gradient-to-r from-pink-50 to-purple-50 dark:from-pink-900/20 dark:to-purple-900/20 p-6 rounded-lg">
                        <h3 class="text-2xl font-bold mb-3">🌍 Language Learning</h3>

                        <div class="grid md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <h4 class="font-bold text-lg mb-2">Use Case: Vocabulary Mastery</h4>
                                <p class="text-base mb-2">Calendar heatmap showing daily practice intensity (like Duolingo streaks).</p>
                                <p class="text-sm italic">"Darker green = more words reviewed that day. Motivates consistency."</p>
                            </div>
                            <div>
                                <h4 class="font-bold text-lg mb-2">Use Case: Grammar Skills Matrix</h4>
                                <p class="text-base mb-2">Rows = grammar topics (past tense, subjunctive), columns = language skills (reading, writing, speaking).</p>
                                <p class="text-sm italic">"Learner sees they can READ past tense (green) but struggle WRITING it (red) → targeted practice."</p>
                            </div>
                        </div>

                        <div class="bg-white dark:bg-gray-800 p-4 rounded-lg">
                            <p class="text-sm"><strong>Industry Example:</strong> Duolingo's streak calendar is a simple activity heatmap that drives engagement through visualization of consistency.</p>
                        </div>
                    </div>

                    <!-- Test Prep -->
                    <div class="bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 p-6 rounded-lg">
                        <h3 class="text-2xl font-bold mb-3">📝 Test Prep (SAT, GRE, MCAT)</h3>

                        <div class="grid md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <h4 class="font-bold text-lg mb-2">Use Case: Practice Test Analysis</h4>
                                <p class="text-base mb-2">Heatmap of question types × test attempts, showing where student improves/struggles.</p>
                                <p class="text-sm italic">"Algebra questions turning green over time, but Geometry staying red → more practice needed."</p>
                            </div>
                            <div>
                                <h4 class="font-bold text-lg mb-2">Use Case: Study Time Allocation</h4>
                                <p class="text-base mb-2">Time spent on each subject/topic over weeks, color-coded by performance gain.</p>
                                <p class="text-sm italic">"Spent 10 hours on Reading but score didn't improve (red) → strategy needs change."</p>
                            </div>
                        </div>

                        <div class="bg-white dark:bg-gray-800 p-4 rounded-lg">
                            <p class="text-sm"><strong>Industry Example:</strong> Magoosh shows students heatmaps of their practice performance by question difficulty and topic, focusing study time on weaknesses.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section-card">
                <h2 class="text-3xl font-bold mb-4">🏆 Industry Leaders Using Heatmaps</h2>

                <div class="grid md:grid-cols-3 gap-4">
                    <div class="bg-white dark:bg-gray-800 p-5 rounded-lg">
                        <div class="text-3xl mb-2">📘</div>
                        <h3 class="font-bold text-lg mb-2">Khan Academy</h3>
                        <p class="text-sm mb-2">Skill mastery heatmaps for math/science topics</p>
                        <div class="text-xs text-gray-600 dark:text-gray-400">5-level color system: Not Started → Mastered</div>
                    </div>

                    <div class="bg-white dark:bg-gray-800 p-5 rounded-lg">
                        <div class="text-3xl mb-2">🦉</div>
                        <h3 class="font-bold text-lg mb-2">Duolingo</h3>
                        <p class="text-sm mb-2">Daily activity streaks and lesson completion</p>
                        <div class="text-xs text-gray-600 dark:text-gray-400">GitHub-style calendar heatmap</div>
                    </div>

                    <div class="bg-white dark:bg-gray-800 p-5 rounded-lg">
                        <div class="text-3xl mb-2">💻</div>
                        <h3 class="font-bold text-lg mb-2">Codecademy</h3>
                        <p class="text-sm mb-2">Course progress across modules and lessons</p>
                        <div class="text-xs text-gray-600 dark:text-gray-400">Nested heatmaps (course → unit → lesson)</div>
                    </div>

                    <div class="bg-white dark:bg-gray-800 p-5 rounded-lg">
                        <div class="text-3xl mb-2">🎯</div>
                        <h3 class="font-bold text-lg mb-2">Gradescope</h3>
                        <p class="text-sm mb-2">Student × question performance matrices</p>
                        <div class="text-xs text-gray-600 dark:text-gray-400">Used by professors for exam analytics</div>
                    </div>

                    <div class="bg-white dark:bg-gray-800 p-5 rounded-lg">
                        <div class="text-3xl mb-2">📊</div>
                        <h3 class="font-bold text-lg mb-2">Canvas LMS</h3>
                        <p class="text-sm mb-2">Learning outcome achievement across students</p>
                        <div class="text-xs text-gray-600 dark:text-gray-400">Institutional analytics dashboards</div>
                    </div>

                    <div class="bg-white dark:bg-gray-800 p-5 rounded-lg">
                        <div class="text-3xl mb-2">🧠</div>
                        <h3 class="font-bold text-lg mb-2">Quizlet</h3>
                        <p class="text-sm mb-2">Flashcard mastery over study sessions</p>
                        <div class="text-xs text-gray-600 dark:text-gray-400">Spaced repetition algorithm visualization</div>
                    </div>
                </div>
            </div>

            <div class="section-card">
                <h2 class="text-3xl font-bold mb-4">📱 Platform-Specific Considerations</h2>

                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-blue-50 dark:bg-blue-900/20 p-5 rounded-lg">
                        <h3 class="text-xl font-bold mb-3">🖥️ Desktop/Web</h3>
                        <ul class="space-y-2 text-sm list-disc list-inside">
                            <li>Support mouse hover for detailed tooltips</li>
                            <li>Allow click-and-drag for multi-select</li>
                            <li>Use keyboard navigation (arrow keys)</li>
                            <li>Display dense data (50+ cells visible)</li>
                            <li>Sidebar for filters and legends</li>
                            <li>Export to PDF/CSV functionality</li>
                        </ul>
                    </div>

                    <div class="bg-green-50 dark:bg-green-900/20 p-5 rounded-lg">
                        <h3 class="text-xl font-bold mb-3">📱 Mobile/Tablet</h3>
                        <ul class="space-y-2 text-sm list-disc list-inside">
                            <li>Tap to show tooltip (no hover state)</li>
                            <li>Larger touch targets (min 44×44px)</li>
                            <li>Vertical scroll preferred over horizontal</li>
                            <li>Collapse/expand sections to save space</li>
                            <li>Swipe gestures for navigation</li>
                            <li>Simplified view with drill-down</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Legend -->
        <div class="section-card mt-8">
            <h3 class="text-xl font-bold mb-4">🎨 Performance Level Legend</h3>
            <div class="grid grid-cols-2 md:grid-cols-5 gap-3">
                <div class="legend-item">
                    <div class="legend-color status-unstarted"></div>
                    <div>
                        <div class="font-semibold text-sm">Not Started</div>
                        <div class="text-xs text-gray-600 dark:text-gray-400">0-20%</div>
                    </div>
                </div>
                <div class="legend-item">
                    <div class="legend-color status-weak"></div>
                    <div>
                        <div class="font-semibold text-sm">Developing</div>
                        <div class="text-xs text-gray-600 dark:text-gray-400">21-50%</div>
                    </div>
                </div>
                <div class="legend-item">
                    <div class="legend-color status-average"></div>
                    <div>
                        <div class="font-semibold text-sm">Progressing</div>
                        <div class="text-xs text-gray-600 dark:text-gray-400">51-75%</div>
                    </div>
                </div>
                <div class="legend-item">
                    <div class="legend-color status-good"></div>
                    <div>
                        <div class="font-semibold text-sm">Proficient</div>
                        <div class="text-xs text-gray-600 dark:text-gray-400">76-89%</div>
                    </div>
                </div>
                <div class="legend-item">
                    <div class="legend-color status-excellent"></div>
                    <div>
                        <div class="font-semibold text-sm">Mastered</div>
                        <div class="text-xs text-gray-600 dark:text-gray-400">90-100%</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="text-center py-8 text-gray-600 dark:text-gray-400">
            <p class="mb-2">Built with modern web standards • Optimized for accessibility and performance</p>
            <p class="text-sm">Your provided CSS has been integrated throughout this guide! 🎨</p>
        </footer>
    </div>

    <script>
        // Dark mode detection
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        // Tab navigation
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.add('hidden');
            });

            // Remove active class from all buttons
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });

            // Show selected tab
            document.getElementById(`tab-${tabName}`).classList.remove('hidden');

            // Add active class to clicked button
            event.target.classList.add('active');
        }

        // Sample data
        const subjects = ['Mathematics', 'Science', 'English', 'History', 'Art'];
        const mathTopics = ['Algebra', 'Geometry', 'Statistics', 'Calculus'];
        const scienceTopics = ['Biology', 'Chemistry', 'Physics', 'Earth Sci'];
        const englishTopics = ['Reading', 'Writing', 'Grammar', 'Literature'];
        const historyTopics = ['Ancient', 'Medieval', 'Modern', 'World'];
        const artTopics = ['Drawing', 'Painting', 'Sculpture', 'Digital'];

        const allTopics = [
            ...mathTopics.map(t => ({ subject: 'Mathematics', topic: t, score: Math.random() * 100 })),
            ...scienceTopics.map(t => ({ subject: 'Science', topic: t, score: Math.random() * 100 })),
            ...englishTopics.map(t => ({ subject: 'English', topic: t, score: Math.random() * 100 })),
            ...historyTopics.map(t => ({ subject: 'History', topic: t, score: Math.random() * 100 })),
            ...artTopics.map(t => ({ subject: 'Art', topic: t, score: Math.random() * 100 }))
        ];

        function getStatusClass(score) {
            if (score >= 90) return 'status-excellent';
            if (score >= 76) return 'status-good';
            if (score >= 51) return 'status-average';
            if (score >= 21) return 'status-weak';
            return 'status-unstarted';
        }

        function getStatusText(score) {
            if (score >= 90) return 'Mastered';
            if (score >= 76) return 'Proficient';
            if (score >= 51) return 'Progressing';
            if (score >= 21) return 'Developing';
            return 'Not Started';
        }

        function getIcon(score) {
            if (score >= 90) return '⭐';
            if (score >= 76) return '✅';
            if (score >= 51) return '📈';
            if (score >= 21) return '⚠️';
            return '❌';
        }

        // Tooltip functionality
        function showTooltip(event, content) {
            const tooltip = document.getElementById('tooltip');
            tooltip.innerHTML = content;
            tooltip.classList.add('show');

            const rect = event.target.getBoundingClientRect();
            tooltip.style.left = rect.left + rect.width / 2 - tooltip.offsetWidth / 2 + 'px';
            tooltip.style.top = rect.top - tooltip.offsetHeight - 10 + 'px';
        }

        function hideTooltip() {
            document.getElementById('tooltip').classList.remove('show');
        }

        // Example 1: Subject × Topic Matrix
        function renderSubjectTopicHeatmap() {
            const container = document.getElementById('subject-topic-heatmap');
            container.innerHTML = '';

            allTopics.forEach(item => {
                const cell = document.createElement('div');
                cell.className = `heatmap-cell ${getStatusClass(item.score)}`;
                cell.innerHTML = `
                    <div class="text-xs font-semibold mb-1">${item.subject}</div>
                    <div class="text-lg font-bold">${item.topic}</div>
                    <div class="text-sm mt-1">${Math.round(item.score)}%</div>
                `;

                cell.addEventListener('mouseenter', (e) => {
                    showTooltip(e, `
                        <strong>${item.subject} - ${item.topic}</strong><br>
                        Score: ${Math.round(item.score)}%<br>
                        Status: ${getStatusText(item.score)}
                    `);
                });
                cell.addEventListener('mouseleave', hideTooltip);

                container.appendChild(cell);
            });
        }

        // Example 2: Calendar Heatmap
        function renderCalendarHeatmap() {
            const container = document.getElementById('calendar-heatmap');
            container.className = 'calendar-heatmap';
            container.innerHTML = '';

            // Generate 49 days (7 weeks)
            for (let i = 0; i < 49; i++) {
                const activity = Math.floor(Math.random() * 10);
                const cell = document.createElement('div');
                cell.className = 'calendar-cell';

                let bgColor = '#E5E7EB';
                if (activity > 7) bgColor = '#10B981';
                else if (activity > 5) bgColor = '#3B82F6';
                else if (activity > 3) bgColor = '#F59E0B';
                else if (activity > 0) bgColor = '#FCA5A5';

                cell.style.background = bgColor;
                if (activity > 0) cell.style.color = 'white';

                const date = new Date();
                date.setDate(date.getDate() - (48 - i));

                cell.innerHTML = `
                    <div style="font-size: 10px; font-weight: bold;">${date.getDate()}</div>
                `;

                cell.addEventListener('mouseenter', (e) => {
                    showTooltip(e, `
                        <strong>${date.toLocaleDateString()}</strong><br>
                        ${activity} activities completed<br>
                        ${Math.round(activity * 0.5)} hours of study
                    `);
                });
                cell.addEventListener('mouseleave', hideTooltip);

                container.appendChild(cell);
            }
        }

        // Example 3: Student × Standard Matrix
        function renderStudentStandardMatrix() {
            const container = document.getElementById('student-standard-matrix');
            const students = ['Alice Johnson', 'Bob Smith', 'Carol Davis', 'David Lee', 'Emma Wilson'];
            const standards = ['Reading Comp', 'Math Reasoning', 'Scientific Inquiry', 'Writing Skills', 'Critical Thinking'];

            let html = '<div class="matrix-heatmap">';

            // Header row
            html += '<div class="matrix-row" style="grid-template-columns: 150px repeat(5, 1fr);">';
            html += '<div style="font-weight: bold; padding: 10px;"></div>';
            standards.forEach(std => {
                html += `<div style="font-weight: bold; padding: 10px; text-align: center; font-size: 14px;">${std}</div>`;
            });
            html += '</div>';

            // Data rows
            students.forEach(student => {
                html += '<div class="matrix-row" style="grid-template-columns: 150px repeat(5, 1fr);">';
                html += `<div style="font-weight: bold; padding: 10px; font-size: 14px;">${student}</div>`;

                standards.forEach((std, idx) => {
                    const score = Math.random() * 100;
                    const statusClass = getStatusClass(score);
                    html += `
                        <div class="matrix-cell ${statusClass}"
                             onmouseenter="showTooltip(event, '<strong>${student}</strong><br>${std}: ${Math.round(score)}%<br>${getStatusText(score)}')"
                             onmouseleave="hideTooltip()">
                            ${Math.round(score)}%
                        </div>
                    `;
                });
                html += '</div>';
            });

            html += '</div>';
            container.innerHTML = html;
        }

        // Example 4: Time-Based Progress
        function renderTimeProgressHeatmap() {
            const container = document.getElementById('time-progress-heatmap');
            const weeks = ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5', 'Week 6'];
            const subjects = ['Math', 'Science', 'English', 'History'];

            let html = '<div class="matrix-heatmap">';

            // Header
            html += '<div class="matrix-row" style="grid-template-columns: 100px repeat(6, 1fr);">';
            html += '<div style="font-weight: bold; padding: 10px;"></div>';
            weeks.forEach(week => {
                html += `<div style="font-weight: bold; padding: 10px; text-align: center;">${week}</div>`;
            });
            html += '</div>';

            // Progressive improvement
            subjects.forEach(subject => {
                html += '<div class="matrix-row" style="grid-template-columns: 100px repeat(6, 1fr);">';
                html += `<div style="font-weight: bold; padding: 10px;">${subject}</div>`;

                let baseScore = 30 + Math.random() * 30;
                weeks.forEach((week, idx) => {
                    const score = Math.min(100, baseScore + (idx * 10) + Math.random() * 10);
                    const statusClass = getStatusClass(score);
                    html += `
                        <div class="matrix-cell ${statusClass}"
                             onmouseenter="showTooltip(event, '<strong>${subject} - ${week}</strong><br>Score: ${Math.round(score)}%<br>Improvement: +${Math.round(score - baseScore)}%')"
                             onmouseleave="hideTooltip()">
                            ${Math.round(score)}%
                        </div>
                    `;
                });
                html += '</div>';
            });

            html += '</div>';
            container.innerHTML = html;
        }

        // Example 5: Chart.js Matrix
        function renderChartJsMatrix() {
            const ctx = document.getElementById('chartjs-matrix').getContext('2d');

            const data = [];
            const students = ['Alice', 'Bob', 'Carol', 'David', 'Emma', 'Frank', 'Grace'];
            const topics = ['Algebra', 'Geometry', 'Statistics', 'Calculus', 'Trigonometry'];

            students.forEach((student, y) => {
                topics.forEach((topic, x) => {
                    data.push({
                        x: topic,
                        y: student,
                        v: Math.floor(Math.random() * 100)
                    });
                });
            });

            new Chart(ctx, {
                type: 'matrix',
                data: {
                    datasets: [{
                        label: 'Student Performance',
                        data: data,
                        backgroundColor(context) {
                            const value = context.dataset.data[context.dataIndex].v;
                            if (value >= 90) return '#10B981';
                            if (value >= 76) return '#3B82F6';
                            if (value >= 51) return '#F59E0B';
                            if (value >= 21) return '#EF4444';
                            return '#6B7280';
                        },
                        borderColor: '#fff',
                        borderWidth: 2,
                        width: ({chart}) => (chart.chartArea || {}).width / topics.length - 4,
                        height: ({chart}) => (chart.chartArea || {}).height / students.length - 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                title() {
                                    return '';
                                },
                                label(context) {
                                    const v = context.dataset.data[context.dataIndex];
                                    return `${v.y} - ${v.x}: ${v.v}%`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            type: 'category',
                            labels: topics,
                            ticks: {
                                display: true
                            },
                            grid: {
                                display: false
                            }
                        },
                        y: {
                            type: 'category',
                            labels: students,
                            offset: true,
                            ticks: {
                                display: true
                            },
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        // Interactive demo
        let interactiveData = allTopics.slice(0, 12).map(item => ({...item}));

        function renderInteractiveHeatmap() {
            const container = document.getElementById('interactive-heatmap');
            const colorScheme = document.getElementById('colorScheme').value;
            const cellContent = document.getElementById('cellContent').value;

            container.innerHTML = '';

            interactiveData.forEach(item => {
                const cell = document.createElement('div');
                cell.className = 'heatmap-cell';

                // Apply color scheme
                if (colorScheme === 'categorical') {
                    cell.classList.add(getStatusClass(item.score));
                } else if (colorScheme === 'sequential-green') {
                    const intensity = Math.floor((item.score / 100) * 255);
                    cell.style.background = `rgb(${255-intensity}, ${intensity}, ${100})`;
                    cell.style.color = item.score > 50 ? 'white' : 'black';
                } else if (colorScheme === 'sequential-blue') {
                    const intensity = Math.floor((item.score / 100) * 200);
                    cell.style.background = `rgb(${100}, ${150}, ${55 + intensity})`;
                    cell.style.color = 'white';
                } else if (colorScheme === 'diverging') {
                    if (item.score >= 75) {
                        const intensity = ((item.score - 75) / 25) * 100;
                        cell.style.background = `hsl(160, ${50 + intensity/2}%, ${70 - intensity/3}%)`;
                    } else if (item.score >= 50) {
                        cell.style.background = '#6B7280';
                    } else {
                        const intensity = ((50 - item.score) / 50) * 100;
                        cell.style.background = `hsl(0, ${50 + intensity/2}%, ${70 - intensity/3}%)`;
                    }
                    cell.style.color = 'white';
                }

                // Apply content
                let content = `<div class="text-xs font-semibold">${item.topic}</div>`;
                if (cellContent === 'percentage' || cellContent === 'both') {
                    content += `<div class="text-lg font-bold mt-1">${Math.round(item.score)}%</div>`;
                }
                if (cellContent === 'icons' || cellContent === 'both') {
                    content += `<div class="text-2xl mt-1">${getIcon(item.score)}</div>`;
                }

                cell.innerHTML = content;
                container.appendChild(cell);
            });

            updateConfigDisplay();
            updateStatsDisplay();
        }

        function updateConfigDisplay() {
            const config = document.getElementById('config-display');
            const colorScheme = document.getElementById('colorScheme').value;
            const cellContent = document.getElementById('cellContent').value;

            config.innerHTML = `
                <div>Color Scheme: <strong>${colorScheme}</strong></div>
                <div>Cell Content: <strong>${cellContent}</strong></div>
                <div>Total Cells: <strong>${interactiveData.length}</strong></div>
            `;
        }

        function updateStatsDisplay() {
            const stats = document.getElementById('stats-display');
            const avg = interactiveData.reduce((sum, item) => sum + item.score, 0) / interactiveData.length;
            const mastered = interactiveData.filter(item => item.score >= 90).length;
            const struggling = interactiveData.filter(item => item.score < 50).length;

            stats.innerHTML = `
                <div>Average Score: <strong>${Math.round(avg)}%</strong></div>
                <div>Mastered Topics: <strong>${mastered}</strong></div>
                <div>Needs Work: <strong>${struggling}</strong></div>
            `;
        }

        function randomizeData() {
            interactiveData.forEach(item => {
                item.score = Math.random() * 100;
            });
            renderInteractiveHeatmap();
        }

        function simulateImprovement() {
            interactiveData.forEach(item => {
                item.score = Math.min(100, item.score + 10 + Math.random() * 15);
            });
            renderInteractiveHeatmap();
        }

        // Size demo
        function renderSizeDemoHeatmap() {
            const container = document.getElementById('size-demo-heatmap');
            container.innerHTML = '';

            for (let i = 0; i < 8; i++) {
                const score = Math.random() * 100;
                const cell = document.createElement('div');
                cell.className = `heatmap-cell ${getStatusClass(score)}`;
                cell.innerHTML = `
                    <div class="font-bold">Topic ${i + 1}</div>
                    <div class="text-sm">${Math.round(score)}%</div>
                `;
                container.appendChild(cell);
            }
        }

        function setCellSize(size) {
            const container = document.getElementById('size-demo-heatmap');
            const minSize = size === 'small' ? '80px' : size === 'medium' ? '120px' : '160px';
            container.style.gridTemplateColumns = `repeat(auto-fit, minmax(${minSize}, 1fr))`;
            renderSizeDemoHeatmap();
        }

        // Event listeners
        document.getElementById('colorScheme')?.addEventListener('change', renderInteractiveHeatmap);
        document.getElementById('cellContent')?.addEventListener('change', renderInteractiveHeatmap);

        // Initialize all examples
        document.addEventListener('DOMContentLoaded', () => {
            renderSubjectTopicHeatmap();
            renderCalendarHeatmap();
            renderStudentStandardMatrix();
            renderTimeProgressHeatmap();
            renderChartJsMatrix();
            renderInteractiveHeatmap();
            renderSizeDemoHeatmap();
        });
    </script>
</body>
</html>
