<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>RavenWorks</title>

    <!-- iOS-style System Fonts -->
    <style>
    :root {
        /* iOS Color System */
        --ios-blue: #007AFF;
        --ios-green: #34C759;
        --ios-red: #FF3B30;
        --ios-orange: #FF9500;
        --ios-yellow: #FFCC00;
        --ios-purple: #AF52DE;
        --ios-teal: #5AC8FA;

        /* iOS Grays - Light Mode */
        --ios-gray: #8E8E93;
        --ios-gray2: #AEAEB2;
        --ios-gray3: #C7C7CC;
        --ios-gray4: #D1D1D6;
        --ios-gray5: #E5E5EA;
        --ios-gray6: #F2F2F7;

        /* iOS Backgrounds - Light Mode */
        --ios-bg-primary: #FFFFFF;
        --ios-bg-secondary: #F2F2F7;
        --ios-bg-tertiary: #FFFFFF;
        --ios-bg-grouped: #F2F2F7;

        /* iOS Labels - Light Mode */
        --ios-label-primary: #000000;
        --ios-label-secondary: rgba(60, 60, 67, 0.6);
        --ios-label-tertiary: rgba(60, 60, 67, 0.3);

        /* iOS Separators */
        --ios-separator: rgba(60, 60, 67, 0.12);
        --ios-separator-opaque: #C6C6C8;

        /* App Colors */
        --app-primary: #1E3A5F;
        --app-accent: #00C7BE;
        --app-gradient-start: #1E3A5F;
        --app-gradient-end: #00C7BE;

        /* iOS Safe Areas */
        --safe-area-top: env(safe-area-inset-top, 44px);
        --safe-area-bottom: env(safe-area-inset-bottom, 34px);
    }

    @media (prefers-color-scheme: dark) {
        :root {
            /* iOS Grays - Dark Mode */
            --ios-gray: #8E8E93;
            --ios-gray2: #636366;
            --ios-gray3: #48484A;
            --ios-gray4: #3A3A3C;
            --ios-gray5: #2C2C2E;
            --ios-gray6: #1C1C1E;

            /* iOS Backgrounds - Dark Mode */
            --ios-bg-primary: #000000;
            --ios-bg-secondary: #1C1C1E;
            --ios-bg-tertiary: #2C2C2E;
            --ios-bg-grouped: #000000;

            /* iOS Labels - Dark Mode */
            --ios-label-primary: #FFFFFF;
            --ios-label-secondary: rgba(235, 235, 245, 0.6);
            --ios-label-tertiary: rgba(235, 235, 245, 0.3);

            /* iOS Separators - Dark Mode */
            --ios-separator: rgba(84, 84, 88, 0.65);
            --ios-separator-opaque: #38383A;
        }
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
    }

    body {
        font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'SF Pro Display', 'Helvetica Neue', sans-serif;
        background: var(--ios-bg-grouped);
        color: var(--ios-label-primary);
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        user-select: none;
        -webkit-user-select: none;
    }

    /* iOS Typography Scale */
    .ios-large-title {
        font-size: 34px;
        font-weight: 700;
        line-height: 1.2;
        letter-spacing: 0.37px;
    }

    .ios-title1 {
        font-size: 28px;
        font-weight: 700;
        line-height: 1.2;
        letter-spacing: 0.36px;
    }

    .ios-title2 {
        font-size: 22px;
        font-weight: 700;
        line-height: 1.27;
        letter-spacing: 0.35px;
    }

    .ios-title3 {
        font-size: 20px;
        font-weight: 600;
        line-height: 1.25;
        letter-spacing: 0.38px;
    }

    .ios-headline {
        font-size: 17px;
        font-weight: 600;
        line-height: 1.29;
        letter-spacing: -0.41px;
    }

    .ios-body {
        font-size: 17px;
        font-weight: 400;
        line-height: 1.29;
        letter-spacing: -0.41px;
    }

    .ios-callout {
        font-size: 16px;
        font-weight: 400;
        line-height: 1.31;
        letter-spacing: -0.32px;
    }

    .ios-subheadline {
        font-size: 15px;
        font-weight: 400;
        line-height: 1.33;
        letter-spacing: -0.24px;
    }

    .ios-footnote {
        font-size: 13px;
        font-weight: 400;
        line-height: 1.38;
        letter-spacing: -0.08px;
    }

    .ios-caption1 {
        font-size: 12px;
        font-weight: 400;
        line-height: 1.33;
        letter-spacing: 0;
    }

    .ios-caption2 {
        font-size: 11px;
        font-weight: 400;
        line-height: 1.27;
        letter-spacing: 0.06px;
    }

    /* iOS Status Bar */
    .status-bar {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        height: var(--safe-area-top);
        background: var(--ios-bg-primary);
        z-index: 9999;
    }

    /* iOS Navigation Bar */
    .nav-bar {
        position: fixed;
        top: var(--safe-area-top);
        left: 0;
        right: 0;
        height: 44px;
        background: var(--ios-bg-primary);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border-bottom: 0.5px solid var(--ios-separator);
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 16px;
        z-index: 1000;
    }

    .nav-title {
        font-size: 17px;
        font-weight: 600;
        color: var(--ios-label-primary);
    }

    .nav-button {
        background: none;
        border: none;
        color: var(--ios-blue);
        font-size: 17px;
        padding: 8px;
        cursor: pointer;
        font-weight: 400;
        min-width: 44px;
        min-height: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .nav-button:active {
        opacity: 0.3;
    }

    /* iOS Tab Bar */
    .tab-bar {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        height: calc(49px + var(--safe-area-bottom));
        background: var(--ios-bg-tertiary);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border-top: 0.5px solid var(--ios-separator);
        display: flex;
        padding-bottom: var(--safe-area-bottom);
        z-index: 1000;
    }

    .tab-item {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 4px 0;
        border: none;
        background: none;
        cursor: pointer;
        color: var(--ios-gray);
        gap: 2px;
    }

    .tab-item.active {
        color: var(--ios-blue);
    }

    .tab-item:active {
        opacity: 0.3;
    }

    .tab-icon {
        font-size: 28px;
        line-height: 1;
    }

    .tab-label {
        font-size: 10px;
        font-weight: 500;
        letter-spacing: 0.12px;
    }

    /* iOS Cards */
    .ios-card {
        background: var(--ios-bg-primary);
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
    }

    .ios-card-large {
        background: var(--ios-bg-primary);
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    /* iOS Buttons */
    .ios-button {
        background: var(--ios-blue);
        color: white;
        border: none;
        border-radius: 12px;
        padding: 14px 24px;
        font-size: 17px;
        font-weight: 600;
        min-height: 50px;
        cursor: pointer;
        transition: opacity 0.2s;
    }

    .ios-button:active {
        opacity: 0.7;
    }

    .ios-button-secondary {
        background: var(--ios-gray6);
        color: var(--ios-blue);
    }

    .ios-button-large {
        width: 100%;
        padding: 16px 24px;
        font-size: 18px;
        min-height: 56px;
    }

    /* iOS Inputs */
    .ios-input {
        width: 100%;
        background: var(--ios-bg-tertiary);
        border: 0.5px solid var(--ios-separator);
        border-radius: 10px;
        padding: 12px 16px;
        font-size: 17px;
        color: var(--ios-label-primary);
        min-height: 44px;
    }

    .ios-input:focus {
        outline: none;
        border-color: var(--ios-blue);
    }

    .ios-input::placeholder {
        color: var(--ios-label-tertiary);
    }

    /* iOS List */
    .ios-list {
        background: var(--ios-bg-primary);
        border-radius: 12px;
        overflow: hidden;
    }

    .ios-list-item {
        padding: 12px 16px;
        border-bottom: 0.5px solid var(--ios-separator);
        cursor: pointer;
        transition: background 0.2s;
    }

    .ios-list-item:last-child {
        border-bottom: none;
    }

    .ios-list-item:active {
        background: var(--ios-gray6);
    }

    /* Content Container */
    .content {
        padding-top: calc(var(--safe-area-top) + 44px);
        padding-bottom: calc(49px + var(--safe-area-bottom));
        min-height: 100vh;
    }

    .content-full {
        padding-top: 0;
        padding-bottom: 0;
        min-height: 100vh;
    }

    /* iOS Animations */
    @keyframes slideInRight {
        from {
            transform: translateX(100%);
            opacity: 0;
        }
        to {
            transform: translateX(0);
            opacity: 1;
        }
    }

    @keyframes slideOutLeft {
        from {
            transform: translateX(0);
            opacity: 1;
        }
        to {
            transform: translateX(-100%);
            opacity: 0;
        }
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    @keyframes scaleIn {
        from {
            transform: scale(0.95);
            opacity: 0;
        }
        to {
            transform: scale(1);
            opacity: 1;
        }
    }

    .animate-slide-in {
        animation: slideInRight 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .animate-fade-in {
        animation: fadeIn 0.3s ease-out;
    }

    .animate-scale-in {
        animation: scaleIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    /* Swipe Card Animations */
    .swipe-card {
        transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.3s;
    }

    .swipe-left {
        animation: swipeLeft 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
    }

    .swipe-right {
        animation: swipeRight 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
    }

    @keyframes swipeLeft {
        to {
            transform: translateX(-120%) rotate(-10deg);
            opacity: 0;
        }
    }

    @keyframes swipeRight {
        to {
            transform: translateX(120%) rotate(10deg);
            opacity: 0;
        }
    }

    /* Loading Dots */
    .loading-dots {
        display: inline-flex;
        gap: 4px;
    }

    .loading-dot {
        width: 8px;
        height: 8px;
        background: currentColor;
        border-radius: 50%;
        animation: dotPulse 1.4s infinite ease-in-out;
    }

    .loading-dot:nth-child(2) { animation-delay: 0.2s; }
    .loading-dot:nth-child(3) { animation-delay: 0.4s; }

    @keyframes dotPulse {
        0%, 80%, 100% {
            transform: scale(0.6);
            opacity: 0.5;
        }
        40% {
            transform: scale(1);
            opacity: 1;
        }
    }

    /* Gradient Background */
    .gradient-bg {
        background: linear-gradient(135deg, var(--app-gradient-start) 0%, var(--app-gradient-end) 100%);
    }

    /* Badge */
    .ios-badge {
        display: inline-flex;
        align-items: center;
        padding: 4px 12px;
        border-radius: 12px;
        font-size: 13px;
        font-weight: 600;
    }

    /* Bottom Sheet */
    .bottom-sheet-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.4);
        z-index: 2000;
        animation: fadeIn 0.3s;
    }

    .bottom-sheet {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: var(--ios-bg-primary);
        border-radius: 20px 20px 0 0;
        max-height: 90vh;
        overflow-y: auto;
        z-index: 2001;
        animation: slideUpSheet 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        padding-bottom: var(--safe-area-bottom);
    }

    @keyframes slideUpSheet {
        from {
            transform: translateY(100%);
        }
        to {
            transform: translateY(0);
        }
    }

    .sheet-handle {
        width: 36px;
        height: 5px;
        background: var(--ios-gray3);
        border-radius: 3px;
        margin: 12px auto;
    }

    /* Hide scrollbar */
    .hide-scrollbar::-webkit-scrollbar {
        display: none;
    }
    .hide-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    /* SF Symbols replacement (using Unicode) */
    .sf-symbol {
        font-family: -apple-system;
        font-size: 24px;
        line-height: 1;
    }
    </style>
</head>
<body>
    <div id="app"></div>

    <script>
    // ============================================
    // STATE MANAGEMENT
    // ============================================
    const AppState = {
        currentScreen: 'splash',
        currentTab: 'jobs',
        user: {
            role: '',
            experience: '',
            location: '',
            remote: true
        },
        jobs: [],
        currentJobIndex: 0,
        applications: [],
        swipeStats: {
            viewed: 0,
            applied: 0,
            skipped: 0
        }
    };

    // ============================================
    // SAMPLE JOB DATA
    // ============================================
    const SAMPLE_JOBS = [
        {
            id: 1,
            title: "Senior Frontend Developer",
            company: "Flutterwave",
            logo: "https://picsum.photos/seed/flutter/80/80",
            location: "Lagos, Nigeria",
            remote: true,
            salary: "‚Ç¶600,000 - ‚Ç¶800,000",
            type: "Full-time",
            source: "Jobberman",
            posted: "2 days ago",
            match: 92,
            verified: true,
            requirements: [
                "5+ years React experience",
                "TypeScript proficiency",
                "Payment systems knowledge",
                "Strong portfolio"
            ],
            description: "Join Africa's leading fintech company as we scale payment solutions across the continent."
        },
        {
            id: 2,
            title: "Product Designer",
            company: "Paystack",
            logo: "https://picsum.photos/seed/paystack/80/80",
            location: "Remote",
            remote: true,
            salary: "‚Ç¶500,000 - ‚Ç¶700,000",
            type: "Full-time",
            source: "LinkedIn",
            posted: "1 day ago",
            match: 88,
            verified: true,
            requirements: [
                "3+ years product design",
                "Figma expertise",
                "Mobile-first thinking",
                "Portfolio required"
            ],
            description: "Design beautiful payment experiences for millions of African businesses."
        },
        {
            id: 3,
            title: "Backend Engineer (Node.js)",
            company: "Andela",
            logo: "https://picsum.photos/seed/andela/80/80",
            location: "Remote",
            remote: true,
            salary: "$3,000 - $5,000 USD",
            type: "Full-time",
            source: "MyJobMag",
            posted: "3 days ago",
            match: 85,
            verified: true,
            requirements: [
                "Node.js & Express",
                "MongoDB/PostgreSQL",
                "API design experience",
                "Docker knowledge"
            ],
            description: "Work with global clients while based in Nigeria. Competitive international compensation."
        },
        {
            id: 4,
            title: "Digital Marketing Manager",
            company: "Jumia Nigeria",
            logo: "https://picsum.photos/seed/jumia/80/80",
            location: "Lagos, Nigeria",
            remote: false,
            salary: "‚Ç¶400,000 - ‚Ç¶550,000",
            type: "Full-time",
            source: "Jobberman",
            posted: "5 days ago",
            match: 78,
            verified: true,
            requirements: [
                "3+ years digital marketing",
                "SEO/SEM expertise",
                "E-commerce experience",
                "Analytics proficiency"
            ],
            description: "Lead marketing initiatives for Nigeria's largest e-commerce platform."
        },
        {
            id: 5,
            title: "Full Stack Developer",
            company: "Kuda Bank",
            logo: "https://picsum.photos/seed/kuda/80/80",
            location: "Lagos, Nigeria",
            remote: true,
            salary: "‚Ç¶550,000 - ‚Ç¶750,000",
            type: "Full-time",
            source: "LinkedIn",
            posted: "1 week ago",
            match: 90,
            verified: true,
            requirements: [
                "React & Node.js",
                "Banking/fintech experience",
                "Microservices architecture",
                "AWS/GCP knowledge"
            ],
            description: "Build the future of digital banking in Nigeria with our award-winning neobank."
        }
    ];

    // ============================================
    // UTILITY FUNCTIONS
    // ============================================
    function generateCoverLetter(job, userName = "Applicant") {
        const templates = {
            developer: `Dear Hiring Manager,

I am writing to express my strong interest in the ${job.title} position at ${job.company}. With extensive experience in modern web development and a proven track record of delivering high-quality software solutions, I am confident in my ability to contribute meaningfully to your team.

Throughout my career, I have developed expertise in the technologies you require, including ${job.requirements[0]} and ${job.requirements[1]}. I am particularly drawn to ${job.company}'s mission and the opportunity to work on innovative solutions that impact millions of users across Africa.

My experience aligns well with your requirements:
‚Ä¢ Strong proficiency in the required tech stack
‚Ä¢ Track record of shipping production-grade applications
‚Ä¢ Collaborative mindset and excellent communication skills
‚Ä¢ Passion for building scalable, user-centric products

I am excited about the possibility of contributing to ${job.company}'s continued growth and success. I would welcome the opportunity to discuss how my skills and experience align with your team's needs.

Thank you for considering my application. I look forward to hearing from you.

Best regards,
${userName}`,

            design: `Dear Hiring Manager,

I am excited to apply for the ${job.title} position at ${job.company}. As a designer passionate about creating intuitive, beautiful user experiences, I am drawn to your commitment to innovation in the African tech space.

My design philosophy centers on user empathy and data-driven decision making. I have extensive experience with ${job.requirements[0]} and ${job.requirements[1]}, and I thrive in collaborative environments where design, product, and engineering work closely together.

Key highlights of my experience:
‚Ä¢ 3+ years designing consumer-facing products
‚Ä¢ Strong portfolio demonstrating end-to-end design processes
‚Ä¢ Experience conducting user research and translating insights into design
‚Ä¢ Proficiency in modern design tools and systems thinking

${job.company}'s product resonates with me both professionally and personally, and I would be honored to contribute to building experiences that serve the Nigerian market.

I would love to discuss how my design approach and experience can help ${job.company} achieve its goals.

Thank you for your consideration.

Best regards,
${userName}`,

            general: `Dear Hiring Manager,

I am writing to apply for the ${job.title} position at ${job.company}. I am impressed by your company's impact in the Nigerian market and excited about the opportunity to contribute to your continued success.

My background includes ${job.requirements[0]} and ${job.requirements[1]}, which align closely with the requirements outlined in your job posting. I am confident that my skills and experience make me a strong candidate for this role.

What I bring to the table:
‚Ä¢ Relevant technical and professional expertise
‚Ä¢ Strong problem-solving and analytical abilities
‚Ä¢ Excellent communication and teamwork skills
‚Ä¢ Passion for continuous learning and growth

I am particularly excited about this opportunity because of ${job.company}'s reputation for innovation and excellence. I believe my background and enthusiasm would make me a valuable addition to your team.

I would welcome the opportunity to discuss how I can contribute to ${job.company}. Thank you for considering my application.

Best regards,
${userName}`
        };

        const title = job.title.toLowerCase();
        if (title.includes('developer') || title.includes('engineer')) {
            return templates.developer;
        } else if (title.includes('design')) {
            return templates.design;
        } else {
            return templates.general;
        }
    }

    // ============================================
    // SCREEN COMPONENTS
    // ============================================

    function SplashScreen() {
        return `
            <div class="content-full gradient-bg" style="display: flex; align-items: center; justify-content: center; padding: 24px;">
                <div style="max-width: 375px; width: 100%; text-align: center;" class="animate-scale-in">
                    <div style="margin-bottom: 32px;">
                        <div style="font-size: 80px; line-height: 1;">üíº</div>
                    </div>

                    <h1 class="ios-large-title" style="color: white; margin-bottom: 12px;">RavenWorks</h1>
                    <p class="ios-title3" style="color: rgba(255,255,255,0.9); margin-bottom: 8px;">AI Job Application Assistant</p>
                    <p class="ios-body" style="color: rgba(255,255,255,0.8); margin-bottom: 48px;">
                        Stop wasting hours on applications.<br>AI does the work while you just swipe.
                    </p>

                    <div class="ios-card" style="padding: 24px; margin-bottom: 32px; background: rgba(255,255,255,0.15); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; color: white;">
                            <div>
                                <div class="ios-title1" style="font-weight: 700;">2.3K</div>
                                <div class="ios-caption2" style="opacity: 0.8;">Active Users</div>
                            </div>
                            <div>
                                <div class="ios-title1" style="font-weight: 700;">12K</div>
                                <div class="ios-caption2" style="opacity: 0.8;">Jobs Applied</div>
                            </div>
                            <div>
                                <div class="ios-title1" style="font-weight: 700;">3.2K</div>
                                <div class="ios-caption2" style="opacity: 0.8;">Interviews</div>
                            </div>
                        </div>
                    </div>

                    <button onclick="startOnboarding()" class="ios-button ios-button-large" style="background: white; color: var(--app-primary);">
                        Get Started Free
                    </button>

                    <p class="ios-caption1" style="color: rgba(255,255,255,0.7); margin-top: 16px;">No credit card required</p>
                </div>
            </div>
        `;
    }

    function OnboardingScreen() {
        return `
            <div class="content-full" style="background: var(--ios-bg-grouped); padding: 24px; padding-top: calc(var(--safe-area-top) + 24px);">
                <div style="max-width: 375px; margin: 0 auto;">
                    <!-- Progress -->
                    <div style="margin-bottom: 32px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <span class="ios-caption1" style="color: var(--ios-label-secondary);">Step <span id="currentStep">1</span> of 3</span>
                            <span class="ios-caption1" style="color: var(--ios-label-secondary);"><span id="progressPercent">33</span>%</span>
                        </div>
                        <div style="width: 100%; height: 4px; background: var(--ios-gray5); border-radius: 2px; overflow: hidden;">
                            <div id="progressBar" style="height: 100%; background: var(--ios-blue); border-radius: 2px; transition: width 0.3s ease; width: 33%;"></div>
                        </div>
                    </div>

                    <!-- Content -->
                    <div id="onboardingContent" class="animate-fade-in">
                        ${OnboardingStep1()}
                    </div>
                </div>
            </div>
        `;
    }

    function OnboardingStep1() {
        return `
            <div>
                <h2 class="ios-large-title" style="margin-bottom: 8px;">What role are you looking for?</h2>
                <p class="ios-body" style="color: var(--ios-label-secondary); margin-bottom: 32px;">We'll find jobs that match your expertise</p>

                <div style="margin-bottom: 24px;">
                    <input type="text"
                           id="roleInput"
                           placeholder="e.g., Frontend Developer"
                           class="ios-input"
                           oninput="handleRoleInput(this.value)">
                </div>

                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 32px;">
                    <button onclick="selectRole('Software Developer')" class="ios-button ios-button-secondary" style="min-height: 56px;">
                        Software Developer
                    </button>
                    <button onclick="selectRole('Product Designer')" class="ios-button ios-button-secondary" style="min-height: 56px;">
                        Product Designer
                    </button>
                    <button onclick="selectRole('Data Analyst')" class="ios-button ios-button-secondary" style="min-height: 56px;">
                        Data Analyst
                    </button>
                    <button onclick="selectRole('Marketing Manager')" class="ios-button ios-button-secondary" style="min-height: 56px;">
                        Marketing Manager
                    </button>
                </div>

                <button onclick="nextOnboardingStep()" id="continueBtn" class="ios-button ios-button-large" disabled style="opacity: 0.4; pointer-events: none;">
                    Continue
                </button>
            </div>
        `;
    }

    function OnboardingStep2() {
        return `
            <div>
                <h2 class="ios-large-title" style="margin-bottom: 8px;">Experience level?</h2>
                <p class="ios-body" style="color: var(--ios-label-secondary); margin-bottom: 32px;">This helps us find the right opportunities</p>

                <div class="ios-list" style="margin-bottom: 24px;">
                    <div class="ios-list-item" onclick="selectExperience('Entry Level / Fresh Graduate')" style="padding: 16px;">
                        <div class="ios-headline">Entry Level / Fresh Graduate</div>
                        <div class="ios-footnote" style="color: var(--ios-label-secondary);">0-1 years of experience</div>
                    </div>
                    <div class="ios-list-item" onclick="selectExperience('Junior (1-3 years)')" style="padding: 16px;">
                        <div class="ios-headline">Junior Level</div>
                        <div class="ios-footnote" style="color: var(--ios-label-secondary);">1-3 years of experience</div>
                    </div>
                    <div class="ios-list-item" onclick="selectExperience('Mid-level (3-5 years)')" style="padding: 16px;">
                        <div class="ios-headline">Mid-level</div>
                        <div class="ios-footnote" style="color: var(--ios-label-secondary);">3-5 years of experience</div>
                    </div>
                    <div class="ios-list-item" onclick="selectExperience('Senior (5+ years)')" style="padding: 16px;">
                        <div class="ios-headline">Senior Level</div>
                        <div class="ios-footnote" style="color: var(--ios-label-secondary);">5+ years of experience</div>
                    </div>
                </div>

                <button onclick="prevOnboardingStep()" class="ios-button ios-button-secondary ios-button-large">
                    Back
                </button>
            </div>
        `;
    }

    function OnboardingStep3() {
        return `
            <div>
                <h2 class="ios-large-title" style="margin-bottom: 8px;">Job preferences</h2>
                <p class="ios-body" style="color: var(--ios-label-secondary); margin-bottom: 32px;">Where do you want to work?</p>

                <div style="margin-bottom: 24px;">
                    <label class="ios-headline" style="display: block; margin-bottom: 12px;">Preferred Location</label>
                    <select id="locationSelect" class="ios-input" onchange="handleLocationChange(this.value)">
                        <option value="">Select location</option>
                        <option value="Lagos">Lagos</option>
                        <option value="Abuja">Abuja</option>
                        <option value="Port Harcourt">Port Harcourt</option>
                        <option value="Ibadan">Ibadan</option>
                        <option value="Remote">Remote (Anywhere in Nigeria)</option>
                        <option value="International">International Remote</option>
                    </select>
                </div>

                <div style="margin-bottom: 32px;">
                    <label class="ios-headline" style="display: block; margin-bottom: 12px;">Work Type</label>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;">
                        <button onclick="toggleRemote(true)" id="remoteBtn" class="ios-button ios-button-secondary" style="min-height: 80px; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 8px;">
                            <div style="font-size: 32px;">üè†</div>
                            <div>Remote</div>
                        </button>
                        <button onclick="toggleRemote(false)" id="officeBtn" class="ios-button ios-button-secondary" style="min-height: 80px; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 8px;">
                            <div style="font-size: 32px;">üè¢</div>
                            <div>Office</div>
                        </button>
                    </div>
                </div>

                <button onclick="completeOnboarding()" id="finishBtn" class="ios-button ios-button-large" disabled style="opacity: 0.4; pointer-events: none; margin-bottom: 12px;">
                    Start Swiping
                </button>

                <button onclick="prevOnboardingStep()" class="ios-button ios-button-secondary ios-button-large">
                    Back
                </button>
            </div>
        `;
    }

    function SwipeScreen() {
        const job = SAMPLE_JOBS[AppState.currentJobIndex];
        if (!job) {
            return `
                <div class="status-bar"></div>
                <div class="nav-bar">
                    <div></div>
                    <div class="nav-title">Jobs</div>
                    <button onclick="showDashboard()" class="nav-button">Stats</button>
                </div>
                <div class="content" style="display: flex; align-items: center; justify-content: center; padding: 24px;">
                    <div style="text-align: center; max-width: 300px;">
                        <div style="font-size: 80px; margin-bottom: 16px;">‚úÖ</div>
                        <h2 class="ios-title1" style="margin-bottom: 8px;">You've reviewed all jobs!</h2>
                        <p class="ios-body" style="color: var(--ios-label-secondary); margin-bottom: 24px;">Check back later for more opportunities</p>
                        <button onclick="showDashboard()" class="ios-button ios-button-large">
                            View Applications
                        </button>
                    </div>
                </div>
            `;
        }

        return `
            <div class="status-bar"></div>
            <div class="nav-bar">
                <div style="display: flex; align-items: center; gap: 12px;">
                    <div style="font-size: 24px;">üíº</div>
                    <div>
                        <div class="ios-headline">RavenWorks</div>
                        <div class="ios-caption2" style="color: var(--ios-label-secondary);">${AppState.swipeStats.viewed} viewed</div>
                    </div>
                </div>
                <button onclick="showDashboard()" class="nav-button">Stats</button>
            </div>

            <div class="content" style="padding: 16px;">
                <div id="swipeCard" class="swipe-card" style="max-width: 400px; margin: 0 auto;">
                    <div class="ios-card-large">
                        <!-- Header -->
                        <div class="gradient-bg" style="padding: 24px; color: white;">
                            <div style="display: flex; gap: 16px; align-items: flex-start;">
                                <img src="${job.logo}" alt="${job.company}" style="width: 64px; height: 64px; border-radius: 12px; background: white;">
                                <div style="flex: 1;">
                                    <h2 class="ios-title3" style="margin-bottom: 4px; color: white;">${job.title}</h2>
                                    <p class="ios-body" style="opacity: 0.9;">${job.company}</p>
                                </div>
                                ${job.verified ? '<div style="font-size: 20px;">‚úì</div>' : ''}
                            </div>
                        </div>

                        <!-- Details -->
                        <div style="padding: 20px;">
                            <!-- Match Score -->
                            <div style="background: rgba(0, 122, 255, 0.1); padding: 12px; border-radius: 10px; margin-bottom: 20px; display: flex; align-items: center; gap: 8px;">
                                <div style="font-size: 20px;">‚≠ê</div>
                                <span class="ios-headline" style="color: var(--ios-blue);">${job.match}% Match</span>
                            </div>

                            <!-- Info Grid -->
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 20px;">
                                <div style="display: flex; align-items: center; gap: 6px;">
                                    <span style="font-size: 16px;">üìç</span>
                                    <span class="ios-footnote" style="color: var(--ios-label-secondary);">${job.location}</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 6px;">
                                    <span style="font-size: 16px;">üí∞</span>
                                    <span class="ios-footnote" style="color: var(--ios-label-secondary);">${job.salary}</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 6px;">
                                    <span style="font-size: 16px;">${job.remote ? 'üè†' : 'üè¢'}</span>
                                    <span class="ios-footnote" style="color: var(--ios-label-secondary);">${job.remote ? 'Remote' : 'On-site'}</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 6px;">
                                    <span style="font-size: 16px;">‚è∞</span>
                                    <span class="ios-footnote" style="color: var(--ios-label-secondary);">${job.posted}</span>
                                </div>
                            </div>

                            <!-- Requirements -->
                            <div style="margin-bottom: 20px;">
                                <h3 class="ios-headline" style="margin-bottom: 12px;">Requirements</h3>
                                <div style="display: flex; flex-direction: column; gap: 8px;">
                                    ${job.requirements.map(req => `
                                        <div style="display: flex; align-items: flex-start; gap: 8px;">
                                            <span style="color: var(--ios-green); font-size: 16px; margin-top: 2px;">‚úì</span>
                                            <span class="ios-subheadline" style="color: var(--ios-label-secondary);">${req}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>

                            <!-- Description -->
                            <div style="margin-bottom: 16px;">
                                <h3 class="ios-headline" style="margin-bottom: 8px;">About the Role</h3>
                                <p class="ios-subheadline" style="color: var(--ios-label-secondary);">${job.description}</p>
                            </div>

                            <!-- Source -->
                            <div style="display: flex; align-items: center; gap: 6px; padding-top: 12px; border-top: 0.5px solid var(--ios-separator);">
                                <span style="font-size: 14px;">üìÑ</span>
                                <span class="ios-caption1" style="color: var(--ios-label-tertiary);">Source: ${job.source}</span>
                            </div>
                        </div>

                        <!-- Actions -->
                        <div style="padding: 0 20px 20px; display: flex; gap: 12px;">
                            <button onclick="swipeLeft()" class="ios-button ios-button-secondary" style="flex: 1; display: flex; align-items: center; justify-content: center; gap: 8px;">
                                <span style="font-size: 20px;">‚úï</span>
                                <span>Skip</span>
                            </button>
                            <button onclick="swipeRight()" class="ios-button" style="flex: 1; display: flex; align-items: center; justify-content: center; gap: 8px;">
                                <span style="font-size: 20px;">‚úì</span>
                                <span>Apply</span>
                            </button>
                        </div>
                    </div>

                    <!-- Counter -->
                    <div style="text-align: center; margin-top: 16px;">
                        <span class="ios-caption1" style="color: var(--ios-label-tertiary);">
                            Job ${AppState.currentJobIndex + 1} of ${SAMPLE_JOBS.length}
                        </span>
                    </div>
                </div>
            </div>
        `;
    }

    function DashboardScreen() {
        return `
            <div class="status-bar"></div>
            <div class="nav-bar">
                <button onclick="backToJobs()" class="nav-button">‚Üê Jobs</button>
                <div class="nav-title">Dashboard</div>
                <div style="width: 44px;"></div>
            </div>

            <div class="content" style="padding: 16px;">
                <!-- Stats Cards -->
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-bottom: 24px;">
                    <div class="ios-card" style="padding: 16px; text-align: center;">
                        <div class="ios-title2" style="color: var(--ios-blue); margin-bottom: 4px;">${AppState.swipeStats.viewed}</div>
                        <div class="ios-caption2" style="color: var(--ios-label-secondary);">Viewed</div>
                    </div>
                    <div class="ios-card" style="padding: 16px; text-align: center;">
                        <div class="ios-title2" style="color: var(--ios-green); margin-bottom: 4px;">${AppState.swipeStats.applied}</div>
                        <div class="ios-caption2" style="color: var(--ios-label-secondary);">Applied</div>
                    </div>
                    <div class="ios-card" style="padding: 16px; text-align: center;">
                        <div class="ios-title2" style="color: var(--ios-gray); margin-bottom: 4px;">${AppState.swipeStats.skipped}</div>
                        <div class="ios-caption2" style="color: var(--ios-label-secondary);">Skipped</div>
                    </div>
                </div>

                <!-- Applications -->
                <div class="ios-card" style="padding: 20px;">
                    <h2 class="ios-title2" style="margin-bottom: 16px;">Your Applications</h2>

                    ${AppState.applications.length === 0 ? `
                        <div style="text-align: center; padding: 48px 20px;">
                            <div style="font-size: 64px; margin-bottom: 16px;">üì¨</div>
                            <p class="ios-headline" style="color: var(--ios-label-secondary); margin-bottom: 8px;">No applications yet</p>
                            <p class="ios-subheadline" style="color: var(--ios-label-tertiary);">Start swiping to apply for jobs!</p>
                        </div>
                    ` : `
                        <div style="display: flex; flex-direction: column; gap: 16px;">
                            ${AppState.applications.map(app => `
                                <div style="border: 1px solid var(--ios-separator); border-radius: 12px; padding: 16px;">
                                    <div style="display: flex; gap: 12px; align-items: flex-start;">
                                        <img src="${app.job.logo}" alt="${app.job.company}" style="width: 48px; height: 48px; border-radius: 10px;">
                                        <div style="flex: 1;">
                                            <h3 class="ios-headline" style="margin-bottom: 2px;">${app.job.title}</h3>
                                            <p class="ios-subheadline" style="color: var(--ios-label-secondary); margin-bottom: 8px;">${app.job.company}</p>
                                            <div style="display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 8px;">
                                                <span class="ios-caption1" style="color: var(--ios-label-tertiary);">${app.job.location}</span>
                                                <span class="ios-caption1" style="color: var(--ios-label-tertiary);">‚Ä¢</span>
                                                <span class="ios-caption1" style="color: var(--ios-label-tertiary);">${app.job.salary}</span>
                                            </div>
                                            <div style="display: flex; align-items: center; justify-content: space-between;">
                                                <div class="ios-badge" style="background: rgba(52, 199, 89, 0.1); color: var(--ios-green);">
                                                    ‚úì Applied
                                                </div>
                                                <span class="ios-caption2" style="color: var(--ios-label-tertiary);">${app.timestamp}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    `}
                </div>
            </div>
        `;
    }

    function CoverLetterSheet(job) {
        return `
            <div class="bottom-sheet-overlay" onclick="closeSheet()"></div>
            <div class="bottom-sheet hide-scrollbar">
                <div class="sheet-handle"></div>

                <div style="padding: 0 20px 20px;">
                    <h2 class="ios-title2" style="margin-bottom: 8px;">Review Application</h2>
                    <p class="ios-subheadline" style="color: var(--ios-label-secondary); margin-bottom: 24px;">AI generated cover letter for ${job.company}</p>

                    <!-- AI Status -->
                    <div id="aiStatus" class="ios-card" style="padding: 16px; margin-bottom: 20px; background: rgba(0, 122, 255, 0.1); display: flex; align-items: center; gap: 12px;">
                        <div class="loading-dots" style="color: var(--ios-blue);">
                            <div class="loading-dot"></div>
                            <div class="loading-dot"></div>
                            <div class="loading-dot"></div>
                        </div>
                        <span class="ios-subheadline" style="color: var(--ios-blue);">AI is writing your cover letter...</span>
                    </div>

                    <!-- Cover Letter -->
                    <div id="coverLetterCard" class="ios-card" style="padding: 20px; margin-bottom: 20px; display: none;">
                        <div style="padding-bottom: 16px; margin-bottom: 16px; border-bottom: 0.5px solid var(--ios-separator);">
                            <div style="display: flex; gap: 12px; align-items: center; margin-bottom: 8px;">
                                <img src="${job.logo}" alt="${job.company}" style="width: 40px; height: 40px; border-radius: 8px;">
                                <div>
                                    <div class="ios-headline">${job.title}</div>
                                    <div class="ios-caption1" style="color: var(--ios-label-secondary);">${job.company}</div>
                                </div>
                            </div>
                        </div>

                        <div id="coverLetterContent" class="ios-body" style="color: var(--ios-label-primary); white-space: pre-line; line-height: 1.5;">
                            <!-- Content will be inserted here -->
                        </div>
                    </div>

                    <!-- Actions -->
                    <div id="actionButtons" style="display: none; gap: 12px;">
                        <button onclick="closeSheet()" class="ios-button ios-button-secondary" style="flex: 1; margin-bottom: 12px;">
                            Cancel
                        </button>
                        <button onclick="confirmApplication()" class="ios-button" style="flex: 1;">
                            Confirm & Apply
                        </button>
                    </div>
                </div>
            </div>
        `;
    }

    // ============================================
    // STATE FUNCTIONS
    // ============================================

    function render() {
        const app = document.getElementById('app');

        switch(AppState.currentScreen) {
            case 'splash':
                app.innerHTML = SplashScreen();
                break;
            case 'onboarding':
                app.innerHTML = OnboardingScreen();
                break;
            case 'jobs':
                app.innerHTML = SwipeScreen();
                break;
            case 'dashboard':
                app.innerHTML = DashboardScreen();
                break;
        }
    }

    function startOnboarding() {
        AppState.currentScreen = 'onboarding';
        render();
    }

    function showDashboard() {
        AppState.currentScreen = 'dashboard';
        render();
    }

    function backToJobs() {
        AppState.currentScreen = 'jobs';
        render();
    }

    // ============================================
    // ONBOARDING
    // ============================================

    let currentOnboardingStep = 1;

    function handleRoleInput(value) {
        AppState.user.role = value.trim();
        const btn = document.getElementById('continueBtn');
        if (btn) {
            if (value.trim().length > 0) {
                btn.disabled = false;
                btn.style.opacity = '1';
                btn.style.pointerEvents = 'auto';
            } else {
                btn.disabled = true;
                btn.style.opacity = '0.4';
                btn.style.pointerEvents = 'none';
            }
        }
    }

    function selectRole(role) {
        const input = document.getElementById('roleInput');
        if (input) {
            input.value = role;
            handleRoleInput(role);
        }
    }

    function nextOnboardingStep() {
        currentOnboardingStep++;
        updateOnboardingContent();
    }

    function prevOnboardingStep() {
        currentOnboardingStep--;
        updateOnboardingContent();
    }

    function updateOnboardingContent() {
        const content = document.getElementById('onboardingContent');
        const progressBar = document.getElementById('progressBar');
        const currentStepEl = document.getElementById('currentStep');
        const progressPercent = document.getElementById('progressPercent');

        const progress = (currentOnboardingStep / 3) * 100;
        progressBar.style.width = progress + '%';
        currentStepEl.textContent = currentOnboardingStep;
        progressPercent.textContent = Math.round(progress);

        content.style.opacity = '0';
        setTimeout(() => {
            switch(currentOnboardingStep) {
                case 1:
                    content.innerHTML = OnboardingStep1();
                    break;
                case 2:
                    content.innerHTML = OnboardingStep2();
                    break;
                case 3:
                    content.innerHTML = OnboardingStep3();
                    break;
            }
            content.style.opacity = '1';
        }, 150);
    }

    function selectExperience(level) {
        AppState.user.experience = level;
        setTimeout(() => {
            nextOnboardingStep();
        }, 300);
    }

    function handleLocationChange(value) {
        AppState.user.location = value;
        checkStep3Complete();
    }

    function toggleRemote(isRemote) {
        AppState.user.remote = isRemote;

        const remoteBtn = document.getElementById('remoteBtn');
        const officeBtn = document.getElementById('officeBtn');

        if (isRemote) {
            remoteBtn.style.background = 'var(--ios-blue)';
            remoteBtn.style.color = 'white';
            officeBtn.style.background = 'var(--ios-gray6)';
            officeBtn.style.color = 'var(--ios-blue)';
        } else {
            officeBtn.style.background = 'var(--ios-blue)';
            officeBtn.style.color = 'white';
            remoteBtn.style.background = 'var(--ios-gray6)';
            remoteBtn.style.color = 'var(--ios-blue)';
        }

        checkStep3Complete();
    }

    function checkStep3Complete() {
        const finishBtn = document.getElementById('finishBtn');
        if (finishBtn && AppState.user.location) {
            finishBtn.disabled = false;
            finishBtn.style.opacity = '1';
            finishBtn.style.pointerEvents = 'auto';
        }
    }

    function completeOnboarding() {
        AppState.jobs = SAMPLE_JOBS;
        AppState.currentScreen = 'jobs';
        render();
    }

    // ============================================
    // SWIPE
    // ============================================

    function swipeLeft() {
        const card = document.getElementById('swipeCard');
        card.classList.add('swipe-left');

        AppState.swipeStats.viewed++;
        AppState.swipeStats.skipped++;

        setTimeout(() => {
            AppState.currentJobIndex++;
            render();
        }, 300);
    }

    function swipeRight() {
        const card = document.getElementById('swipeCard');
        card.classList.add('swipe-right');

        AppState.swipeStats.viewed++;

        setTimeout(() => {
            showCoverLetterSheet();
        }, 300);
    }

    function showCoverLetterSheet() {
        const job = SAMPLE_JOBS[AppState.currentJobIndex];
        const app = document.getElementById('app');
        app.innerHTML += CoverLetterSheet(job);

        // Simulate AI generation
        setTimeout(() => {
            const coverLetter = generateCoverLetter(job, "John Doe");

            document.getElementById('aiStatus').style.display = 'none';

            const card = document.getElementById('coverLetterCard');
            const content = document.getElementById('coverLetterContent');
            content.textContent = coverLetter;
            card.style.display = 'block';

            const actions = document.getElementById('actionButtons');
            actions.style.display = 'flex';
        }, 2000);
    }

    function closeSheet() {
        const overlay = document.querySelector('.bottom-sheet-overlay');
        const sheet = document.querySelector('.bottom-sheet');
        if (overlay) overlay.remove();
        if (sheet) sheet.remove();

        AppState.currentJobIndex++;
        render();
    }

    function confirmApplication() {
        const job = SAMPLE_JOBS[AppState.currentJobIndex];

        AppState.applications.push({
            job: job,
            timestamp: new Date().toLocaleDateString('en-US', {
                month: 'short',
                day: 'numeric',
                hour: 'numeric',
                minute: '2-digit'
            }),
            status: 'applied'
        });

        AppState.swipeStats.applied++;

        closeSheet();
    }

    // ============================================
    // GLOBAL EXPORTS
    // ============================================

    window.startOnboarding = startOnboarding;
    window.showDashboard = showDashboard;
    window.backToJobs = backToJobs;
    window.handleRoleInput = handleRoleInput;
    window.selectRole = selectRole;
    window.nextOnboardingStep = nextOnboardingStep;
    window.prevOnboardingStep = prevOnboardingStep;
    window.selectExperience = selectExperience;
    window.handleLocationChange = handleLocationChange;
    window.toggleRemote = toggleRemote;
    window.completeOnboarding = completeOnboarding;
    window.swipeLeft = swipeLeft;
    window.swipeRight = swipeRight;
    window.closeSheet = closeSheet;
    window.confirmApplication = confirmApplication;

    // ============================================
    // INITIALIZE
    // ============================================

    window.addEventListener('DOMContentLoaded', () => {
        render();
    });
    </script>
</body>
</html>

